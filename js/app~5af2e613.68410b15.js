(window["webpackJsonp_joinsoft-v9"]=window["webpackJsonp_joinsoft-v9"]||[]).push([["app~5af2e613"],{0:function(e,t){},"0287":function(e,t,n){"use strict";n("6687")},1:function(e,t){},"12b3":function(e,t,n){"use strict";e.exports={__init__:["camundaModdleExtension"],camundaModdleExtension:["type",n("8b30")]}},1458:function(e,t,n){var i={"./af":"8fdd","./af.js":"8fdd","./ar":"ecab","./ar-dz":"fdac","./ar-dz.js":"fdac","./ar-kw":"cc3b","./ar-kw.js":"cc3b","./ar-ly":"c6aa","./ar-ly.js":"c6aa","./ar-ma":"049cd","./ar-ma.js":"049cd","./ar-ps":"2b71","./ar-ps.js":"2b71","./ar-sa":"78db","./ar-sa.js":"78db","./ar-tn":"5e5e","./ar-tn.js":"5e5e","./ar.js":"ecab","./az":"ba7a","./az.js":"ba7a","./be":"8e16","./be.js":"8e16","./bg":"46bb","./bg.js":"46bb","./bm":"4d62","./bm.js":"4d62","./bn":"e21f","./bn-bd":"fa6b","./bn-bd.js":"fa6b","./bn.js":"e21f","./bo":"0e3a","./bo.js":"0e3a","./br":"1802","./br.js":"1802","./bs":"f4e4","./bs.js":"f4e4","./ca":"37f7","./ca.js":"37f7","./cs":"a222","./cs.js":"a222","./cv":"340a","./cv.js":"340a","./cy":"8fa4","./cy.js":"8fa4","./da":"f4c1","./da.js":"f4c1","./de":"5b7e","./de-at":"bb4d","./de-at.js":"bb4d","./de-ch":"2327","./de-ch.js":"2327","./de.js":"5b7e","./dv":"62ce","./dv.js":"62ce","./el":"1d02","./el.js":"1d02","./en-au":"881b","./en-au.js":"881b","./en-ca":"3938","./en-ca.js":"3938","./en-gb":"4158","./en-gb.js":"4158","./en-ie":"d76c","./en-ie.js":"d76c","./en-il":"c7c9","./en-il.js":"c7c9","./en-in":"c7d8","./en-in.js":"c7d8","./en-nz":"35d5","./en-nz.js":"35d5","./en-sg":"e7cd2","./en-sg.js":"e7cd2","./eo":"a53d","./eo.js":"a53d","./es":"f3dd","./es-do":"7800","./es-do.js":"7800","./es-mx":"3435","./es-mx.js":"3435","./es-us":"ad5d","./es-us.js":"ad5d","./es.js":"f3dd","./et":"b6ac","./et.js":"b6ac","./eu":"9690","./eu.js":"9690","./fa":"1f4b","./fa.js":"1f4b","./fi":"c64b","./fi.js":"c64b","./fil":"11bf4","./fil.js":"11bf4","./fo":"48db","./fo.js":"48db","./fr":"fc48","./fr-ca":"a5d8","./fr-ca.js":"a5d8","./fr-ch":"4b8a","./fr-ch.js":"4b8a","./fr.js":"fc48","./fy":"95e9","./fy.js":"95e9","./ga":"aacd","./ga.js":"aacd","./gd":"cede","./gd.js":"cede","./gl":"440c4","./gl.js":"440c4","./gom-deva":"8902","./gom-deva.js":"8902","./gom-latn":"26ad","./gom-latn.js":"26ad","./gu":"50386","./gu.js":"50386","./he":"0900","./he.js":"0900","./hi":"02da","./hi.js":"02da","./hr":"9dbe","./hr.js":"9dbe","./hu":"bbde","./hu.js":"bbde","./hy-am":"e67de","./hy-am.js":"e67de","./id":"a04d","./id.js":"a04d","./is":"fd22","./is.js":"fd22","./it":"66fe","./it-ch":"36cb","./it-ch.js":"36cb","./it.js":"66fe","./ja":"034b","./ja.js":"034b","./jv":"bcacb","./jv.js":"bcacb","./ka":"dd28","./ka.js":"dd28","./kk":"7f7b","./kk.js":"7f7b","./km":"c2f1","./km.js":"c2f1","./kn":"4b58","./kn.js":"4b58","./ko":"4ae9","./ko.js":"4ae9","./ku":"542b","./ku-kmr":"0e12","./ku-kmr.js":"0e12","./ku.js":"542b","./ky":"6699","./ky.js":"6699","./lb":"9a33","./lb.js":"9a33","./lo":"0c29","./lo.js":"0c29","./lt":"2ecc","./lt.js":"2ecc","./lv":"0473","./lv.js":"0473","./me":"04b7","./me.js":"04b7","./mi":"2cbb","./mi.js":"2cbb","./mk":"228b","./mk.js":"228b","./ml":"31da","./ml.js":"31da","./mn":"b54f","./mn.js":"b54f","./mr":"d2d2","./mr.js":"d2d2","./ms":"a423","./ms-my":"67c6","./ms-my.js":"67c6","./ms.js":"a423","./mt":"7385","./mt.js":"7385","./my":"1aeb","./my.js":"1aeb","./nb":"7c02","./nb.js":"7c02","./ne":"f7ee","./ne.js":"f7ee","./nl":"12b5","./nl-be":"bbb8","./nl-be.js":"bbb8","./nl.js":"12b5","./nn":"53cc","./nn.js":"53cc","./oc-lnc":"93bc","./oc-lnc.js":"93bc","./pa-in":"7075","./pa-in.js":"7075","./pl":"0d19","./pl.js":"0d19","./pt":"d454","./pt-br":"832e","./pt-br.js":"832e","./pt.js":"d454","./ro":"41e4","./ro.js":"41e4","./ru":"e1b9","./ru.js":"e1b9","./sd":"ffe35","./sd.js":"ffe35","./se":"9f76","./se.js":"9f76","./si":"0de2","./si.js":"0de2","./sk":"d3b8","./sk.js":"d3b8","./sl":"0030","./sl.js":"0030","./sq":"cb4a","./sq.js":"cb4a","./sr":"a880","./sr-cyrl":"a8a6","./sr-cyrl.js":"a8a6","./sr.js":"a880","./ss":"530b","./ss.js":"530b","./sv":"2f23","./sv.js":"2f23","./sw":"9db1","./sw.js":"9db1","./ta":"bb3e","./ta.js":"bb3e","./te":"e474","./te.js":"e474","./tet":"74ce","./tet.js":"74ce","./tg":"2040","./tg.js":"2040","./th":"c4ef","./th.js":"c4ef","./tk":"ce6b","./tk.js":"ce6b","./tl-ph":"f373","./tl-ph.js":"f373","./tlh":"fc39","./tlh.js":"fc39","./tr":"6c70","./tr.js":"6c70","./tzl":"dcde","./tzl.js":"dcde","./tzm":"e9b1","./tzm-latn":"9678","./tzm-latn.js":"9678","./tzm.js":"e9b1","./ug-cn":"0609","./ug-cn.js":"0609","./uk":"052f","./uk.js":"052f","./ur":"1a8f","./ur.js":"1a8f","./uz":"5c35","./uz-latn":"d422","./uz-latn.js":"d422","./uz.js":"5c35","./vi":"25e7","./vi.js":"25e7","./x-pseudo":"e6a47","./x-pseudo.js":"e6a47","./yo":"a465","./yo.js":"a465","./zh-cn":"0e91","./zh-cn.js":"0e91","./zh-hk":"bc52","./zh-hk.js":"bc52","./zh-mo":"859b","./zh-mo.js":"859b","./zh-tw":"9b15","./zh-tw.js":"9b15"};function r(e){var t=s(e);return n(t)}function s(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id="1458"},1741:function(e){e.exports={name:"Activiti",uri:"http://activiti.org/bpmn",prefix:"activiti",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"Definitions",isAbstract:!0,extends:["bpmn:Definitions"],properties:[{name:"diagramRelationId",isAttr:!0,type:"String"}]},{name:"InOutBinding",superClass:["Element"],isAbstract:!0,properties:[{name:"source",isAttr:!0,type:"String"},{name:"sourceExpression",isAttr:!0,type:"String"},{name:"target",isAttr:!0,type:"String"},{name:"businessKey",isAttr:!0,type:"String"},{name:"local",isAttr:!0,type:"Boolean",default:!1},{name:"variables",isAttr:!0,type:"String"}]},{name:"In",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"Out",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"AsyncCapable",isAbstract:!0,extends:["bpmn:Activity","bpmn:Gateway","bpmn:Event"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1},{name:"asyncBefore",isAttr:!0,type:"Boolean",default:!1},{name:"asyncAfter",isAttr:!0,type:"Boolean",default:!1},{name:"exclusive",isAttr:!0,type:"Boolean",default:!0}]},{name:"JobPriorized",isAbstract:!0,extends:["bpmn:Process","activiti:AsyncCapable"],properties:[{name:"jobPriority",isAttr:!0,type:"String"}]},{name:"SignalEventDefinition",isAbstract:!0,extends:["bpmn:SignalEventDefinition"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1}]},{name:"ErrorEventDefinition",isAbstract:!0,extends:["bpmn:ErrorEventDefinition"],properties:[{name:"errorCodeVariable",isAttr:!0,type:"String"},{name:"errorMessageVariable",isAttr:!0,type:"String"}]},{name:"Error",isAbstract:!0,extends:["bpmn:Error"],properties:[{name:"activiti:errorMessage",isAttr:!0,type:"String"}]},{name:"PotentialStarter",superClass:["Element"],properties:[{name:"resourceAssignmentExpression",type:"bpmn:ResourceAssignmentExpression"}]},{name:"FormSupported",isAbstract:!0,extends:["bpmn:StartEvent","bpmn:UserTask"],properties:[{name:"formHandlerClass",isAttr:!0,type:"String"},{name:"formKey",isAttr:!0,type:"String"}]},{name:"TemplateSupported",isAbstract:!0,extends:["bpmn:Process","bpmn:FlowElement"],properties:[{name:"modelerTemplate",isAttr:!0,type:"String"}]},{name:"Initiator",isAbstract:!0,extends:["bpmn:StartEvent"],properties:[{name:"initiator",isAttr:!0,type:"String"}]},{name:"ScriptTask",isAbstract:!0,extends:["bpmn:ScriptTask"],properties:[{name:"resultVariable",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"}]},{name:"Process",isAbstract:!0,extends:["bpmn:Process"],properties:[{name:"candidateStarterGroups",isAttr:!0,type:"String"},{name:"candidateStarterUsers",isAttr:!0,type:"String"},{name:"versionTag",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"},{name:"isStartableInTasklist",isAttr:!0,type:"Boolean",default:!0},{name:"executionListener",isAbstract:!0,type:"Expression"}]},{name:"EscalationEventDefinition",isAbstract:!0,extends:["bpmn:EscalationEventDefinition"],properties:[{name:"escalationCodeVariable",isAttr:!0,type:"String"}]},{name:"FormalExpression",isAbstract:!0,extends:["bpmn:FormalExpression"],properties:[{name:"resource",isAttr:!0,type:"String"}]},{name:"multiinstance_type",superClass:["Element"]},{name:"multiinstance_condition",superClass:["Element"]},{name:"Assignable",extends:["bpmn:UserTask"],properties:[{name:"assignee",isAttr:!0,type:"String"},{name:"candidateUsers",isAttr:!0,type:"String"},{name:"candidateGroups",isAttr:!0,type:"String"},{name:"dueDate",isAttr:!0,type:"String"},{name:"followUpDate",isAttr:!0,type:"String"},{name:"priority",isAttr:!0,type:"String"},{name:"multiinstance_condition",isAttr:!0,type:"String"}]},{name:"CallActivity",extends:["bpmn:CallActivity"],properties:[{name:"calledElementBinding",isAttr:!0,type:"String",default:"latest"},{name:"calledElementVersion",isAttr:!0,type:"String"},{name:"calledElementVersionTag",isAttr:!0,type:"String"},{name:"calledElementTenantId",isAttr:!0,type:"String"},{name:"caseRef",isAttr:!0,type:"String"},{name:"caseBinding",isAttr:!0,type:"String",default:"latest"},{name:"caseVersion",isAttr:!0,type:"String"},{name:"caseTenantId",isAttr:!0,type:"String"},{name:"variableMappingClass",isAttr:!0,type:"String"},{name:"variableMappingDelegateExpression",isAttr:!0,type:"String"}]},{name:"ServiceTaskLike",extends:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"resultVariable",isAttr:!0,type:"String"}]},{name:"DmnCapable",extends:["bpmn:BusinessRuleTask"],properties:[{name:"decisionRef",isAttr:!0,type:"String"},{name:"decisionRefBinding",isAttr:!0,type:"String",default:"latest"},{name:"decisionRefVersion",isAttr:!0,type:"String"},{name:"mapDecisionResult",isAttr:!0,type:"String",default:"resultList"},{name:"decisionRefTenantId",isAttr:!0,type:"String"}]},{name:"ExternalCapable",extends:["activiti:ServiceTaskLike"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"topic",isAttr:!0,type:"String"}]},{name:"TaskPriorized",extends:["bpmn:Process","activiti:ExternalCapable"],properties:[{name:"taskPriority",isAttr:!0,type:"String"}]},{name:"Properties",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"values",type:"Property",isMany:!0}]},{name:"Property",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0}]},{name:"Customform",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"text",id:"Customform",type:"String",isBody:!0}]},{name:"Deptflag",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"text",id:"Deptflag",type:"String",isBody:!0}]},{name:"Otherdeptflag",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"text",id:"Otherdeptflag",type:"String",isBody:!0}]},{name:"Fgldflag",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"text",id:"Fgldflag",type:"String",isBody:!0}]},{name:"Tenantflag",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"text",id:"Tenantflag",type:"String",isBody:!0}]},{name:"Connector",superClass:["Element"],meta:{allowedIn:["activiti:ServiceTaskLike"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"}]},{name:"InputOutput",superClass:["Element"],meta:{allowedIn:["bpmn:FlowNode","activiti:Connector"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"},{name:"inputParameters",isMany:!0,type:"InputParameter"},{name:"outputParameters",isMany:!0,type:"OutputParameter"}]},{name:"InputOutputParameter",properties:[{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"InputOutputParameterDefinition",isAbstract:!0},{name:"List",superClass:["InputOutputParameterDefinition"],properties:[{name:"items",isMany:!0,type:"InputOutputParameterDefinition"}]},{name:"Map",superClass:["InputOutputParameterDefinition"],properties:[{name:"entries",isMany:!0,type:"Entry"}]},{name:"Entry",properties:[{name:"key",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"Value",superClass:["InputOutputParameterDefinition"],properties:[{name:"id",isAttr:!0,type:"String"},{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Script",superClass:["InputOutputParameterDefinition"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Field",superClass:["Element"],meta:{allowedIn:["activiti:ServiceTaskLike","activiti:ExecutionListener","activiti:TaskListener"]},properties:[{name:"name",isAttr:!0,type:"String"},{name:"expression",type:"String"},{name:"stringValue",isAttr:!0,type:"String"},{name:"string",type:"String"}]},{name:"InputParameter",superClass:["InputOutputParameter"]},{name:"OutputParameter",superClass:["InputOutputParameter"]},{name:"Collectable",isAbstract:!0,extends:["bpmn:MultiInstanceLoopCharacteristics"],superClass:["activiti:AsyncCapable"],properties:[{name:"collection",isAttr:!0,type:"String"},{name:"elementVariable",isAttr:!0,type:"String"}]},{name:"FailedJobRetryTimeCycle",superClass:["Element"],meta:{allowedIn:["activiti:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},properties:[{name:"body",isBody:!0,type:"String"}]},{name:"ExecutionListener",superClass:["Element"],meta:{allowedIn:["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"TaskListener",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"FormData",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"fields",type:"FormField",isMany:!0},{name:"businessKey",type:"String",isAttr:!0}]},{name:"FormField",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"label",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"defaultValue",type:"String",isAttr:!0},{name:"properties",type:"Properties"},{name:"validation",type:"Validation"},{name:"values",type:"Value",isMany:!0}]},{name:"FormProperty",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"required",type:"String",isAttr:!0},{name:"readable",type:"String",isAttr:!0},{name:"writable",type:"String",isAttr:!0},{name:"variable",type:"String",isAttr:!0},{name:"expression",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"default",type:"String",isAttr:!0},{name:"values",type:"Value",isMany:!0}]},{name:"FormProperty",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"label",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"defaultValue",type:"String",isAttr:!0},{name:"properties",type:"Properties"},{name:"validation",type:"Validation"},{name:"values",type:"Value",isMany:!0}]},{name:"Validation",superClass:["Element"],properties:[{name:"constraints",type:"Constraint",isMany:!0}]},{name:"Constraint",superClass:["Element"],properties:[{name:"name",type:"String",isAttr:!0},{name:"config",type:"String",isAttr:!0}]},{name:"ConditionalEventDefinition",isAbstract:!0,extends:["bpmn:ConditionalEventDefinition"],properties:[{name:"variableName",isAttr:!0,type:"String"},{name:"variableEvent",isAttr:!0,type:"String"}]}],emumerations:[]}},"1be4":function(e,t,n){e.exports={__init__:["ActivitiModdleExtension"],ActivitiModdleExtension:["type",n("9991")]}},"1e98":function(e,t,n){"use strict";var i=n("87f2").some,r={FailedJobRetryTimeCycle:["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:Activity"],Connector:["bpmn:EndEvent","bpmn:IntermediateThrowEvent"],Field:["bpmn:EndEvent","bpmn:IntermediateThrowEvent"]};function s(e,t){return e&&"function"===typeof e.$instanceOf&&e.$instanceOf(t)}function a(e){return e&&e.length}function o(e,t){return a(e)&&i(e,(function(e){return s(e,t)}))}function l(e,t){return i(t,(function(t){return s(e,t)}))}function c(e,t,n){var i=t.name,s=r[i.replace(/flowable:/,"")];return i===e&&l(n,s)}function p(e){e.on("property.clone",(function(e){var t=e.newElement,n=e.propertyDescriptor;this.canCloneProperty(t,n)}),this)}p.$inject=["eventBus"],p.prototype.canCloneProperty=function(e,t){return c("flowable:FailedJobRetryTimeCycle",t,e)?o(e.eventDefinitions,"bpmn:TimerEventDefinition")||o(e.eventDefinitions,"bpmn:SignalEventDefinition")||s(e.loopCharacteristics,"bpmn:MultiInstanceLoopCharacteristics"):c("flowable:Connector",t,e)||c("flowable:Field",t,e)?o(e.eventDefinitions,"bpmn:MessageEventDefinition"):void 0},e.exports=p},2:function(e,t){},2084:function(e,t,n){var i=n("1020");i.registerLanguage("xml",n("8dcb")),i.registerLanguage("json",n("5ad2")),e.exports=i},2174:function(e,t,n){var i={"./af":"e0ea","./af.js":"e0ea","./ar":"31db","./ar-dz":"4648","./ar-dz.js":"4648","./ar-kw":"1760","./ar-kw.js":"1760","./ar-ly":"7121","./ar-ly.js":"7121","./ar-ma":"be99","./ar-ma.js":"be99","./ar-ps":"e5a2","./ar-ps.js":"e5a2","./ar-sa":"510c","./ar-sa.js":"510c","./ar-tn":"c9f0","./ar-tn.js":"c9f0","./ar.js":"31db","./az":"2e49","./az.js":"2e49","./be":"1644","./be.js":"1644","./bg":"f593","./bg.js":"f593","./bm":"e3cd","./bm.js":"e3cd","./bn":"14f3","./bn-bd":"39d7","./bn-bd.js":"39d7","./bn.js":"14f3","./bo":"00b4","./bo.js":"00b4","./br":"89658","./br.js":"89658","./bs":"d6b8","./bs.js":"d6b8","./ca":"f87b","./ca.js":"f87b","./cs":"1be6","./cs.js":"1be6","./cv":"13a5","./cv.js":"13a5","./cy":"a3fd9","./cy.js":"a3fd9","./da":"45a0","./da.js":"45a0","./de":"8b74","./de-at":"ab78","./de-at.js":"ab78","./de-ch":"a74d","./de-ch.js":"a74d","./de.js":"8b74","./dv":"0184","./dv.js":"0184","./el":"4eb7","./el.js":"4eb7","./en-au":"2e91","./en-au.js":"2e91","./en-ca":"cfbe","./en-ca.js":"cfbe","./en-gb":"ace8","./en-gb.js":"ace8","./en-ie":"dc23","./en-ie.js":"dc23","./en-il":"4de1","./en-il.js":"4de1","./en-in":"e5be","./en-in.js":"e5be","./en-nz":"e989","./en-nz.js":"e989","./en-sg":"12b4","./en-sg.js":"12b4","./eo":"01f4","./eo.js":"01f4","./es":"f257","./es-do":"cf7c","./es-do.js":"cf7c","./es-mx":"1732","./es-mx.js":"1732","./es-us":"fd0e","./es-us.js":"fd0e","./es.js":"f257","./et":"2f03","./et.js":"2f03","./eu":"6ca9","./eu.js":"6ca9","./fa":"6c8d","./fa.js":"6c8d","./fi":"895a","./fi.js":"895a","./fil":"33bc","./fil.js":"33bc","./fo":"3447","./fo.js":"3447","./fr":"7e693","./fr-ca":"1d05","./fr-ca.js":"1d05","./fr-ch":"293b","./fr-ch.js":"293b","./fr.js":"7e693","./fy":"0fba","./fy.js":"0fba","./ga":"5608","./ga.js":"5608","./gd":"0ba7","./gd.js":"0ba7","./gl":"f486","./gl.js":"f486","./gom-deva":"669e","./gom-deva.js":"669e","./gom-latn":"1890","./gom-latn.js":"1890","./gu":"8e55","./gu.js":"8e55","./he":"90a9","./he.js":"90a9","./hi":"fd5f","./hi.js":"fd5f","./hr":"7335","./hr.js":"7335","./hu":"db32","./hu.js":"db32","./hy-am":"7c45","./hy-am.js":"7c45","./id":"55a0","./id.js":"55a0","./is":"c9c0","./is.js":"c9c0","./it":"347e","./it-ch":"7e47","./it-ch.js":"7e47","./it.js":"347e","./ja":"5caf","./ja.js":"5caf","./jv":"0831","./jv.js":"0831","./ka":"f30e","./ka.js":"f30e","./kk":"1390","./kk.js":"1390","./km":"d0af","./km.js":"d0af","./kn":"9f67","./kn.js":"9f67","./ko":"d662","./ko.js":"d662","./ku":"5fd7","./ku-kmr":"3cbc","./ku-kmr.js":"3cbc","./ku.js":"5fd7","./ky":"1d53","./ky.js":"1d53","./lb":"c3ea","./lb.js":"c3ea","./lo":"3751","./lo.js":"3751","./lt":"9d38","./lt.js":"9d38","./lv":"81a6","./lv.js":"81a6","./me":"d0b3","./me.js":"d0b3","./mi":"73492","./mi.js":"73492","./mk":"83e0a","./mk.js":"83e0a","./ml":"1738","./ml.js":"1738","./mn":"b933","./mn.js":"b933","./mr":"f00a","./mr.js":"f00a","./ms":"f119","./ms-my":"1db1","./ms-my.js":"1db1","./ms.js":"f119","./mt":"e6b6","./mt.js":"e6b6","./my":"22cf","./my.js":"22cf","./nb":"ebf0","./nb.js":"ebf0","./ne":"46dd","./ne.js":"46dd","./nl":"01bc","./nl-be":"4630","./nl-be.js":"4630","./nl.js":"01bc","./nn":"ff3f","./nn.js":"ff3f","./oc-lnc":"746a","./oc-lnc.js":"746a","./pa-in":"1107","./pa-in.js":"1107","./pl":"7bba","./pl.js":"7bba","./pt":"650c","./pt-br":"4b54","./pt-br.js":"4b54","./pt.js":"650c","./ro":"6ef9","./ro.js":"6ef9","./ru":"1abc","./ru.js":"1abc","./sd":"0351","./sd.js":"0351","./se":"e7ce","./se.js":"e7ce","./si":"bb82","./si.js":"bb82","./sk":"d631","./sk.js":"d631","./sl":"8bc9","./sl.js":"8bc9","./sq":"08cf","./sq.js":"08cf","./sr":"c2c0","./sr-cyrl":"135d","./sr-cyrl.js":"135d","./sr.js":"c2c0","./ss":"cac6","./ss.js":"cac6","./sv":"1d05e","./sv.js":"1d05e","./sw":"224a","./sw.js":"224a","./ta":"0e6e","./ta.js":"0e6e","./te":"b175","./te.js":"b175","./tet":"2085","./tet.js":"2085","./tg":"0cc6","./tg.js":"0cc6","./th":"1dd3","./th.js":"1dd3","./tk":"665c","./tk.js":"665c","./tl-ph":"267e","./tl-ph.js":"267e","./tlh":"0867","./tlh.js":"0867","./tr":"fcb5","./tr.js":"fcb5","./tzl":"d7e6","./tzl.js":"d7e6","./tzm":"2c4e","./tzm-latn":"6af6","./tzm-latn.js":"6af6","./tzm.js":"2c4e","./ug-cn":"1303","./ug-cn.js":"1303","./uk":"efed","./uk.js":"efed","./ur":"e027","./ur.js":"e027","./uz":"8dfa","./uz-latn":"6b2f","./uz-latn.js":"6b2f","./uz.js":"8dfa","./vi":"519e","./vi.js":"519e","./x-pseudo":"370c","./x-pseudo.js":"370c","./yo":"51c8","./yo.js":"51c8","./zh-cn":"51ef","./zh-cn.js":"51ef","./zh-hk":"647c","./zh-hk.js":"647c","./zh-mo":"2b9d","./zh-mo.js":"2b9d","./zh-tw":"1ee0","./zh-tw.js":"1ee0"};function r(e){var t=s(e);return n(t)}function s(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id="2174"},"2ed5":function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(){}r.prototype.type=["primary","success","warn","error","info"],r.prototype.typeColor=function(e){var t="";switch(e){case"primary":t="#2d8cf0";break;case"success":t="#19be6b";break;case"info":t="#909399";break;case"warn":t="#ff9900";break;case"error":t="#f03f14";break;default:t="#35495E";break}return t},r.prototype.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.prototype.print=function(e){"object"!==i(e)||this.isArray(e)},r.prototype.printBack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary",t=arguments.length>1?arguments[1]:void 0;this.print(e,t,!0)},r.prototype.pretty=function(){var e=arguments.length>2?arguments[2]:void 0;"object"!==i(e)||this.isArray(e)},r.prototype.prettyPrimary=function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.pretty("primary",e,n)}))},r.prototype.prettySuccess=function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.pretty("success",e,n)}))},r.prototype.prettyWarn=function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.pretty("warn",e,n)}))},r.prototype.prettyError=function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.pretty("error",e,n)}))},r.prototype.prettyInfo=function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.pretty("info",e,n)}))},t["a"]=new r},3:function(e,t){},"32e8":function(e){e.exports={name:"Flowable",uri:"http://flowable.org/bpmn",prefix:"flowable",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"InOutBinding",superClass:["Element"],isAbstract:!0,properties:[{name:"source",isAttr:!0,type:"String"},{name:"sourceExpression",isAttr:!0,type:"String"},{name:"target",isAttr:!0,type:"String"},{name:"businessKey",isAttr:!0,type:"String"},{name:"local",isAttr:!0,type:"Boolean",default:!1},{name:"variables",isAttr:!0,type:"String"}]},{name:"In",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"Out",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"AsyncCapable",isAbstract:!0,extends:["bpmn:Activity","bpmn:Gateway","bpmn:Event"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1},{name:"asyncBefore",isAttr:!0,type:"Boolean",default:!1},{name:"asyncAfter",isAttr:!0,type:"Boolean",default:!1},{name:"exclusive",isAttr:!0,type:"Boolean",default:!0}]},{name:"JobPriorized",isAbstract:!0,extends:["bpmn:Process","flowable:AsyncCapable"],properties:[{name:"jobPriority",isAttr:!0,type:"String"}]},{name:"SignalEventDefinition",isAbstract:!0,extends:["bpmn:SignalEventDefinition"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1}]},{name:"ErrorEventDefinition",isAbstract:!0,extends:["bpmn:ErrorEventDefinition"],properties:[{name:"errorCodeVariable",isAttr:!0,type:"String"},{name:"errorMessageVariable",isAttr:!0,type:"String"}]},{name:"Error",isAbstract:!0,extends:["bpmn:Error"],properties:[{name:"flowable:errorMessage",isAttr:!0,type:"String"}]},{name:"PotentialStarter",superClass:["Element"],properties:[{name:"resourceAssignmentExpression",type:"bpmn:ResourceAssignmentExpression"}]},{name:"FormSupported",isAbstract:!0,extends:["bpmn:StartEvent","bpmn:UserTask"],properties:[{name:"formHandlerClass",isAttr:!0,type:"String"},{name:"formKey",isAttr:!0,type:"String"},{name:"formType",isAttr:!0,type:"String"},{name:"formReadOnly",isAttr:!0,type:"Boolean",default:!1},{name:"formInit",isAttr:!0,type:"Boolean",default:!0}]},{name:"TemplateSupported",isAbstract:!0,extends:["bpmn:Process","bpmn:FlowElement"],properties:[{name:"modelerTemplate",isAttr:!0,type:"String"}]},{name:"Initiator",isAbstract:!0,extends:["bpmn:StartEvent"],properties:[{name:"initiator",isAttr:!0,type:"String"}]},{name:"ScriptTask",isAbstract:!0,extends:["bpmn:ScriptTask"],properties:[{name:"resultVariable",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"}]},{name:"Process",isAbstract:!0,extends:["bpmn:Process"],properties:[{name:"candidateStarterGroups",isAttr:!0,type:"String"},{name:"candidateStarterUsers",isAttr:!0,type:"String"},{name:"versionTag",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"},{name:"isStartableInTasklist",isAttr:!0,type:"Boolean",default:!0}]},{name:"EscalationEventDefinition",isAbstract:!0,extends:["bpmn:EscalationEventDefinition"],properties:[{name:"escalationCodeVariable",isAttr:!0,type:"String"}]},{name:"FormalExpression",isAbstract:!0,extends:["bpmn:FormalExpression"],properties:[{name:"resource",isAttr:!0,type:"String"}]},{name:"Assignable",extends:["bpmn:UserTask"],properties:[{name:"assignee",isAttr:!0,type:"String"},{name:"candidateUsers",isAttr:!0,type:"String"},{name:"candidateGroups",isAttr:!0,type:"String"},{name:"dueDate",isAttr:!0,type:"String"},{name:"followUpDate",isAttr:!0,type:"String"},{name:"priority",isAttr:!0,type:"String"}]},{name:"Assignee",supperClass:"Element",meta:{allowedIn:["*"]},properties:[{name:"label",type:"String",isAttr:!0},{name:"viewId",type:"Number",isAttr:!0}]},{name:"CallActivity",extends:["bpmn:CallActivity"],properties:[{name:"calledElementBinding",isAttr:!0,type:"String",default:"latest"},{name:"calledElementVersion",isAttr:!0,type:"String"},{name:"calledElementVersionTag",isAttr:!0,type:"String"},{name:"calledElementTenantId",isAttr:!0,type:"String"},{name:"caseRef",isAttr:!0,type:"String"},{name:"caseBinding",isAttr:!0,type:"String",default:"latest"},{name:"caseVersion",isAttr:!0,type:"String"},{name:"caseTenantId",isAttr:!0,type:"String"},{name:"variableMappingClass",isAttr:!0,type:"String"},{name:"variableMappingDelegateExpression",isAttr:!0,type:"String"}]},{name:"ServiceTaskLike",extends:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"resultVariable",isAttr:!0,type:"String"}]},{name:"DmnCapable",extends:["bpmn:BusinessRuleTask"],properties:[{name:"decisionRef",isAttr:!0,type:"String"},{name:"decisionRefBinding",isAttr:!0,type:"String",default:"latest"},{name:"decisionRefVersion",isAttr:!0,type:"String"},{name:"mapDecisionResult",isAttr:!0,type:"String",default:"resultList"},{name:"decisionRefTenantId",isAttr:!0,type:"String"}]},{name:"ExternalCapable",extends:["flowable:ServiceTaskLike"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"topic",isAttr:!0,type:"String"}]},{name:"TaskPriorized",extends:["bpmn:Process","flowable:ExternalCapable"],properties:[{name:"taskPriority",isAttr:!0,type:"String"}]},{name:"Properties",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"values",type:"Property",isMany:!0}]},{name:"Property",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0}]},{name:"Button",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"code",type:"String",isAttr:!0},{name:"isHide",type:"String",isAttr:!0},{name:"next",type:"String",isAttr:!0},{name:"sort",type:"Integer",isAttr:!0}]},{name:"Assignee",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0},{name:"condition",type:"String",isAttr:!0},{name:"operationType",type:"String",isAttr:!0},{name:"sort",type:"Integer",isAttr:!0}]},{name:"Connector",superClass:["Element"],meta:{allowedIn:["flowable:ServiceTaskLike"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"}]},{name:"InputOutput",superClass:["Element"],meta:{allowedIn:["bpmn:FlowNode","flowable:Connector"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"},{name:"inputParameters",isMany:!0,type:"InputParameter"},{name:"outputParameters",isMany:!0,type:"OutputParameter"}]},{name:"InputOutputParameter",properties:[{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"InputOutputParameterDefinition",isAbstract:!0},{name:"List",superClass:["InputOutputParameterDefinition"],properties:[{name:"items",isMany:!0,type:"InputOutputParameterDefinition"}]},{name:"Map",superClass:["InputOutputParameterDefinition"],properties:[{name:"entries",isMany:!0,type:"Entry"}]},{name:"Entry",properties:[{name:"key",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"Value",superClass:["InputOutputParameterDefinition"],properties:[{name:"id",isAttr:!0,type:"String"},{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Script",superClass:["InputOutputParameterDefinition"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Field",superClass:["Element"],meta:{allowedIn:["flowable:ServiceTaskLike","flowable:ExecutionListener","flowable:TaskListener","bpmn:ServiceTask"]},properties:[{name:"name",isAttr:!0,type:"String"},{name:"expression",type:"String"},{name:"stringValue",isAttr:!0,type:"String"},{name:"string",type:"String"},{name:"htmlVar",type:"Expression"}]},{name:"ChildField",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"required",type:"String",isAttr:!0},{name:"readable",type:"String",isAttr:!0},{name:"writable",type:"String",isAttr:!0},{name:"variable",type:"String",isAttr:!0},{name:"expression",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"default",type:"String",isAttr:!0},{name:"values",type:"Value",isMany:!0}]},{name:"InputParameter",superClass:["InputOutputParameter"]},{name:"OutputParameter",superClass:["InputOutputParameter"]},{name:"Collectable",isAbstract:!0,extends:["bpmn:MultiInstanceLoopCharacteristics"],superClass:["flowable:AsyncCapable"],properties:[{name:"collection",isAttr:!0,type:"String"},{name:"elementVariable",isAttr:!0,type:"String"}]},{name:"FailedJobRetryTimeCycle",superClass:["Element"],meta:{allowedIn:["flowable:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},properties:[{name:"body",isBody:!0,type:"String"}]},{name:"ExecutionListener",superClass:["Element"],meta:{allowedIn:["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"TaskListener",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"FormProperty",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"required",type:"String",isAttr:!0},{name:"readable",type:"String",isAttr:!0},{name:"writable",type:"String",isAttr:!0},{name:"variable",type:"String",isAttr:!0},{name:"expression",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"default",type:"String",isAttr:!0},{name:"values",type:"Value",isMany:!0},{name:"children",type:"ChildField",isMany:!0},{name:"extensionElements",type:"bpmn:ExtensionElements",isMany:!0}]},{name:"FormData",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"fields",type:"FormField",isMany:!0},{name:"businessKey",type:"String",isAttr:!0}]},{name:"FormField",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"label",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"defaultValue",type:"String",isAttr:!0},{name:"properties",type:"Properties"},{name:"validation",type:"Validation"},{name:"values",type:"Value",isMany:!0}]},{name:"Validation",superClass:["Element"],properties:[{name:"constraints",type:"Constraint",isMany:!0}]},{name:"Constraint",superClass:["Element"],properties:[{name:"name",type:"String",isAttr:!0},{name:"config",type:"String",isAttr:!0}]},{name:"ConditionalEventDefinition",isAbstract:!0,extends:["bpmn:ConditionalEventDefinition"],properties:[{name:"variableName",isAttr:!0,type:"String"},{name:"variableEvent",isAttr:!0,type:"String"}]},{name:"Condition",superClass:["Element"],meta:{allowedIn:["bpmn:SequenceFlow"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"field",type:"String",isAttr:!0},{name:"compare",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0},{name:"logic",type:"String",isAttr:!0},{name:"sort",type:"Integer",isAttr:!0}]}],emumerations:[]}},3772:function(e,t,n){"use strict";var i=n("3fbc");i["default"].install=function(e){e.component(i["default"].name,(function(e){return Promise.resolve().then(function(){var t=[n("3fbc")];e.apply(null,t)}.bind(this)).catch(n.oe)}))};var r=i["default"],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-process-palette"},[n("p",[e._v("简易palette")]),n("el-collapse",[n("el-collapse-item",{attrs:{title:"任务",name:"1"}},[n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"Task")},mousedown:function(t){return e.createElement(t,"Task")}}},[e._v("\n        任务\n      ")]),n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"UserTask")},mousedown:function(t){return e.createElement(t,"UserTask")}}},[e._v("\n        用户任务\n      ")]),n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"SendTask")},mousedown:function(t){return e.createElement(t,"SendTask")}}},[e._v("\n        发送任务\n      ")]),n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"ReceiveTask")},mousedown:function(t){return e.createElement(t,"ReceiveTask")}}},[e._v("\n        接收任务\n      ")]),n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"ScriptTask")},mousedown:function(t){return e.createElement(t,"ScriptTask")}}},[e._v("\n        脚本任务\n      ")]),n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"ServiceTask")},mousedown:function(t){return e.createElement(t,"ServiceTask")}}},[e._v("\n        服务任务\n      ")])]),n("el-collapse-item",{attrs:{title:"网关",name:"2"}},[n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"Gateway")},mousedown:function(t){return e.createElement(t,"Gateway")}}},[e._v("\n        网关\n      ")])]),n("el-collapse-item",{attrs:{title:"开始",name:"3"}},[n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"StartEvent")},mousedown:function(t){return e.createElement(t,"StartEvent")}}},[e._v("\n        开始\n      ")])]),n("el-collapse-item",{attrs:{title:"结束",name:"4"}},[n("div",{staticClass:"custom-button",on:{click:function(t){return e.createElement(t,"EndEvent")},mousedown:function(t){return e.createElement(t,"EndEvent")}}},[e._v("\n        结束\n      ")])]),n("el-collapse-item",{attrs:{title:"工具",name:"5"}},[n("div",{staticClass:"custom-button",on:{click:function(t){return e.startTool(t,"handTool")},mousedown:function(t){return e.startTool(t,"handTool")}}},[e._v("\n        手型工具\n      ")]),n("div",{staticClass:"custom-button",on:{click:function(t){return e.startTool(t,"lassoTool")},mousedown:function(t){return e.startTool(t,"lassoTool")}}},[e._v("\n        框选工具\n      ")]),n("div",{staticClass:"custom-button",on:{click:function(t){return e.startTool(t,"connectTool")},mousedown:function(t){return e.startTool(t,"connectTool")}}},[e._v("\n        连线工具\n      ")])])],1)],1)},a=[],o=n("87f2"),l={name:"MyProcessPalette",data:function(){return{}},mounted:function(){},methods:{createElement:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=window.bpmnInstances.elementFactory,r=window.bpmnInstances.modeler.get("create"),s=i.createShape(Object(o["assign"])({type:"bpmn:".concat(t)},n));n&&(s.businessObject.di.isExpanded=n.isExpanded),r.start(e,s)},startTool:function(e,t){"handTool"===t&&window.bpmnInstances.modeler.get("handTool").activateHand(e),"lassoTool"===t&&window.bpmnInstances.modeler.get("lassoTool").activateSelection(e),"connectTool"===t&&window.bpmnInstances.modeler.get("globalConnect").toggle(e)}}},c=l,p=(n("0287"),n("2877")),m=Object(p["a"])(c,s,a,!1,null,"59b54840",null),u=m.exports;u.install=function(e){e.component(u.name,u)};var d=u,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"process-panel__container",style:{width:this.width+"px"}},[n("el-collapse",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("el-collapse-item",{attrs:{name:"base"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-info"}),e._v("常规")]),n("element-base-info",{attrs:{"id-edit-disabled":e.idEditDisabled,"business-object":e.elementBusinessObject,type:e.elementType}})],1),"Process"===e.elementType?n("el-collapse-item",{key:"message",attrs:{name:"condition"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-s-comment"}),e._v("消息与信号")]),n("signal-and-massage")],1):e._e(),e.conditionFormVisible?n("el-collapse-item",{key:"condition",attrs:{name:"condition"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-s-promotion"}),e._v("流转条件")]),n("flow-condition",{attrs:{"business-object":e.elementBusinessObject,type:e.elementType}})],1):e._e(),e.formVisible?n("el-collapse-item",{key:"form",attrs:{name:"condition"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-s-order"}),e._v("表单")]),n("element-form",{attrs:{id:e.elementId,type:e.elementType}})],1):e._e(),-1!==e.elementType.indexOf("Task")?n("el-collapse-item",{key:"task",attrs:{name:"task"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-s-claim"}),e._v("任务")]),n("element-task",{attrs:{id:e.elementId,type:e.elementType}})],1):e._e(),-1!==e.elementType.indexOf("Task")?n("el-collapse-item",{key:"multiInstance",attrs:{name:"multiInstance"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-s-help"}),e._v("多实例")]),n("element-multi-instance",{attrs:{"business-object":e.elementBusinessObject,type:e.elementType}})],1):e._e(),n("el-collapse-item",{key:"listeners",attrs:{name:"listeners"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-message-solid"}),e._v("执行监听器")]),n("element-listeners",{ref:"elementListeners",attrs:{id:e.elementId,type:e.elementType,xmlString:e.xmlString,"business-object":e.elementBusinessObject},on:{refresh:e.refresh}})],1),"UserTask"===e.elementType?n("el-collapse-item",{key:"taskListeners",attrs:{name:"taskListeners"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-message-solid"}),e._v("任务监听器")]),n("user-task-listeners",{ref:"userTaskListeners",attrs:{id:e.elementId,type:e.elementType},on:{refresh:e.refresh}})],1):e._e(),n("el-collapse-item",{key:"extensions",attrs:{name:"extensions"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-circle-plus"}),e._v("扩展属性")]),n("element-properties",{ref:"elementProperties",attrs:{id:e.elementId,type:e.elementType,xmlString:e.xmlString,"business-object":e.elementBusinessObject},on:{refresh:e.refresh}})],1),n("el-collapse-item",{key:"other",attrs:{name:"other"}},[n("div",{staticClass:"panel-tab__title",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"el-icon-s-promotion"}),e._v("其他")]),n("element-other-config",{attrs:{id:e.elementId}})],1)],1)],1)},b=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-form",{attrs:{size:"mini","label-width":"90px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{disabled:e.idEditDisabled,clearable:""},on:{change:function(t){return e.updateBaseInfo("id")}},model:{value:e.elementBaseInfo.id,callback:function(t){e.$set(e.elementBaseInfo,"id",t)},expression:"elementBaseInfo.id"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{clearable:""},on:{change:function(t){return e.updateBaseInfo("name")}},model:{value:e.elementBaseInfo.name,callback:function(t){e.$set(e.elementBaseInfo,"name",t)},expression:"elementBaseInfo.name"}})],1),"bpmn:Process"===e.elementBaseInfo.$type?[n("el-form-item",{attrs:{label:"版本标签"}},[n("el-input",{attrs:{clearable:""},on:{change:function(t){return e.updateBaseInfo("versionTag")}},model:{value:e.elementBaseInfo.versionTag,callback:function(t){e.$set(e.elementBaseInfo,"versionTag",t)},expression:"elementBaseInfo.versionTag"}})],1),n("el-form-item",{attrs:{label:"可执行"}},[n("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},on:{change:function(t){return e.updateBaseInfo("isExecutable")}},model:{value:e.elementBaseInfo.isExecutable,callback:function(t){e.$set(e.elementBaseInfo,"isExecutable",t)},expression:"elementBaseInfo.isExecutable"}})],1)]:e._e(),"bpmn:SubProcess"===e.elementBaseInfo.$type?n("el-form-item",{attrs:{label:"状态"}},[n("el-switch",{attrs:{"active-text":"展开","inactive-text":"折叠"},on:{change:function(t){return e.updateBaseInfo("isExpanded")}},model:{value:e.elementBaseInfo.isExpanded,callback:function(t){e.$set(e.elementBaseInfo,"isExpanded",t)},expression:"elementBaseInfo.isExpanded"}})],1):e._e()],2)],1)},h=[],v={name:"ElementBaseInfo",props:{businessObject:Object,type:String,idEditDisabled:{type:Boolean,default:!0}},data:function(){return{elementBaseInfo:{}}},watch:{businessObject:{immediate:!1,handler:function(e){var t=this;e&&this.$nextTick((function(){return t.resetBaseInfo()}))}}},methods:{resetBaseInfo:function(){this.bpmnElement=window.bpmnInstances.bpmnElement||{},this.elementBaseInfo=JSON.parse(JSON.stringify(this.bpmnElement.businessObject)),this.elementBaseInfo&&"bpmn:SubProcess"===this.elementBaseInfo.$type&&this.$set(this.elementBaseInfo,"isExpanded",this.elementBaseInfo.di.isExpanded)},updateBaseInfo:function(e){if("id"!==e)if("isExpanded"!==e){var t=Object.create(null);t[e]=this.elementBaseInfo[e],window.bpmnInstances.modeling.updateProperties(this.bpmnElement,t)}else window.bpmnInstances.modeling.toggleCollapse(this.bpmnElement);else window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{id:this.elementBaseInfo[e],di:{id:"".concat(this.elementBaseInfo[e],"_di")}})}},beforeDestroy:function(){this.bpmnElement=null}},g=v,S=Object(p["a"])(g,y,h,!1,null,null,null),w=S.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("div",{staticClass:"element-property input-property"},[n("div",{staticClass:"element-property__label"},[e._v("元素文档：")]),n("div",{staticClass:"element-property__value"},[n("el-input",{attrs:{type:"textarea",size:"mini",resize:"vertical",autosize:{minRows:2,maxRows:4}},on:{input:e.updateDocumentation,blur:e.updateDocumentation},model:{value:e.documentation,callback:function(t){e.documentation=t},expression:"documentation"}})],1)])])},x=[],F={name:"ElementOtherConfig",props:{id:String},data:function(){return{documentation:""}},watch:{id:{immediate:!0,handler:function(e){var t=this;e&&e.length?this.$nextTick((function(){var e=window.bpmnInstances.bpmnElement.businessObject.documentation;t.documentation=e&&e.length?e[0].text:""})):this.documentation=""}}},methods:{updateDocumentation:function(){this.bpmnElement&&this.bpmnElement.id===this.id||(this.bpmnElement=window.bpmnInstances.elementRegistry.get(this.id));var e=window.bpmnInstances.bpmnFactory.create("bpmn:Documentation",{text:this.documentation});window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{documentation:[e]})}},beforeDestroy:function(){this.bpmnElement=null}},j=F,k=Object(p["a"])(j,E,x,!1,null,null,null),T=k.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-form",{attrs:{size:"mini","label-width":"90px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"异步延续"}},[n("el-checkbox",{attrs:{label:"异步前"},on:{change:e.changeTaskAsync},model:{value:e.taskConfigForm.asyncBefore,callback:function(t){e.$set(e.taskConfigForm,"asyncBefore",t)},expression:"taskConfigForm.asyncBefore"}}),n("el-checkbox",{attrs:{label:"异步后"},on:{change:e.changeTaskAsync},model:{value:e.taskConfigForm.asyncAfter,callback:function(t){e.$set(e.taskConfigForm,"asyncAfter",t)},expression:"taskConfigForm.asyncAfter"}}),e.taskConfigForm.asyncAfter||e.taskConfigForm.asyncBefore?n("el-checkbox",{attrs:{label:"排除"},on:{change:e.changeTaskAsync},model:{value:e.taskConfigForm.exclusive,callback:function(t){e.$set(e.taskConfigForm,"exclusive",t)},expression:"taskConfigForm.exclusive"}}):e._e()],1),n(e.witchTaskComponent,e._b({tag:"component",attrs:{allRole:e.allRole,allUser:e.allUser}},"component",e.$props,!1))],1)],1)},A=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-top":"16px"}},[n("el-form-item",{attrs:{label:"处理用户"}},[n("el-select",{attrs:{clearable:"",filterable:"","allow-create":""},on:{change:function(t){return e.updateElementTask("assignee")}},model:{value:e.userTaskForm.assignee,callback:function(t){e.$set(e.userTaskForm,"assignee",t)},expression:"userTaskForm.assignee"}},e._l(e.allUser,(function(e){return n("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"候选用户"}},[n("el-select",{attrs:{multiple:"","collapse-tags":"",clearable:"",filterable:"","allow-create":""},on:{change:function(t){return e.updateElementTask("candidateUsers")}},model:{value:e.userTaskForm.candidateUsers,callback:function(t){e.$set(e.userTaskForm,"candidateUsers",t)},expression:"userTaskForm.candidateUsers"}},e._l(e.allUser,(function(e){return n("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"候选分组"}},[n("el-select",{attrs:{multiple:"","collapse-tags":"",clearable:"",filterable:"","allow-create":""},on:{change:function(t){return e.updateElementTask("candidateGroups")}},model:{value:e.userTaskForm.candidateGroups,callback:function(t){e.$set(e.userTaskForm,"candidateGroups",t)},expression:"userTaskForm.candidateGroups"}},e._l(e.allRole,(function(e){return n("el-option",{key:e.id,attrs:{label:e.roleName+"("+e.roleCode+")",value:e.roleName}})})),1)],1),n("el-form-item",{attrs:{label:"到期时间"}},[n("el-input",{attrs:{clearable:""},on:{change:function(t){return e.updateElementTask("dueDate")}},model:{value:e.userTaskForm.dueDate,callback:function(t){e.$set(e.userTaskForm,"dueDate",t)},expression:"userTaskForm.dueDate"}})],1),n("el-form-item",{attrs:{label:"跟踪时间"}},[n("el-input",{attrs:{clearable:""},on:{change:function(t){return e.updateElementTask("followUpDate")}},model:{value:e.userTaskForm.followUpDate,callback:function(t){e.$set(e.userTaskForm,"followUpDate",t)},expression:"userTaskForm.followUpDate"}})],1),n("el-form-item",{attrs:{label:"优先级"}},[n("el-input",{attrs:{clearable:""},on:{change:function(t){return e.updateElementTask("priority")}},model:{value:e.userTaskForm.priority,callback:function(t){e.$set(e.userTaskForm,"priority",t)},expression:"userTaskForm.priority"}})],1)],1)},I=[],L={name:"UserTask",props:{id:String,type:String,allUser:{type:Array,default:function(){return[]}},allRole:{type:Array,default:function(){return[]}}},data:function(){return{selectedUserIds:[],defaultTaskForm:{assignee:"",candidateUsers:[],candidateGroups:[],dueDate:"",followUpDate:"",priority:""},userTaskForm:{},mockData:[1,2,3,4,5,6,7,8,9,10]}},watch:{id:{immediate:!0,handler:function(){var e=this;this.bpmnElement=window.bpmnInstances.bpmnElement,this.$nextTick((function(){return e.resetTaskForm()}))}}},methods:{resetTaskForm:function(){for(var e in this.defaultTaskForm){var t=void 0;t="candidateUsers"===e||"candidateGroups"===e?this.bpmnElement.businessObject[e]?this.bpmnElement.businessObject[e].split(","):[]:this.bpmnElement.businessObject[e]||this.defaultTaskForm[e],this.$set(this.userTaskForm,e,t)}},updateElementTask:function(e){var t=Object.create(null);"candidateUsers"===e?(t[e]=this.userTaskForm[e]&&this.userTaskForm[e].length?this.userTaskForm[e].join():null,this.$set(this.userTaskForm,"assignee",void 0),this.$set(this.userTaskForm,"candidateGroups",void 0),this.$set(t,"assignee",void 0),this.$set(t,"candidateGroups",void 0)):"candidateGroups"===e?(t[e]=this.userTaskForm[e]&&this.userTaskForm[e].length?this.userTaskForm[e].join():null,this.$set(this.userTaskForm,"assignee",void 0),this.$set(this.userTaskForm,"candidateUsers",void 0),this.$set(t,"assignee",void 0),this.$set(t,"candidateUsers",void 0)):(t[e]=this.userTaskForm[e]||null,this.$set(this.userTaskForm,"candidateUsers",void 0),this.$set(this.userTaskForm,"candidateGroups",void 0),this.$set(t,"candidateGroups",void 0),this.$set(t,"candidateUsers",void 0)),window.bpmnInstances.modeling.updateProperties(this.bpmnElement,t)}},beforeDestroy:function(){this.bpmnElement=null}},P=L,_=Object(p["a"])(P,O,I,!1,null,null,null),B=_.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-top":"16px"}},[n("el-form-item",{attrs:{label:"脚本格式"}},[n("el-input",{attrs:{clearable:""},on:{input:function(t){return e.updateElementTask()},change:function(t){return e.updateElementTask()}},model:{value:e.scriptTaskForm.scriptFormat,callback:function(t){e.$set(e.scriptTaskForm,"scriptFormat",t)},expression:"scriptTaskForm.scriptFormat"}})],1),n("el-form-item",{attrs:{label:"脚本类型"}},[n("el-select",{model:{value:e.scriptTaskForm.scriptType,callback:function(t){e.$set(e.scriptTaskForm,"scriptType",t)},expression:"scriptTaskForm.scriptType"}},[n("el-option",{attrs:{label:"内联脚本",value:"inline"}}),n("el-option",{attrs:{label:"外部资源",value:"external"}})],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"inline"===e.scriptTaskForm.scriptType,expression:"scriptTaskForm.scriptType === 'inline'"}],attrs:{label:"脚本"}},[n("el-input",{attrs:{type:"textarea",resize:"vertical",autosize:{minRows:2,maxRows:4},clearable:""},on:{input:function(t){return e.updateElementTask()},change:function(t){return e.updateElementTask()}},model:{value:e.scriptTaskForm.script,callback:function(t){e.$set(e.scriptTaskForm,"script",t)},expression:"scriptTaskForm.script"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"external"===e.scriptTaskForm.scriptType,expression:"scriptTaskForm.scriptType === 'external'"}],attrs:{label:"资源地址"}},[n("el-input",{attrs:{clearable:""},on:{input:function(t){return e.updateElementTask()},change:function(t){return e.updateElementTask()}},model:{value:e.scriptTaskForm.resource,callback:function(t){e.$set(e.scriptTaskForm,"resource",t)},expression:"scriptTaskForm.resource"}})],1),n("el-form-item",{attrs:{label:"结果变量"}},[n("el-input",{attrs:{clearable:""},on:{input:function(t){return e.updateElementTask()},change:function(t){return e.updateElementTask()}},model:{value:e.scriptTaskForm.resultVariable,callback:function(t){e.$set(e.scriptTaskForm,"resultVariable",t)},expression:"scriptTaskForm.resultVariable"}})],1)],1)},M=[],D={name:"ScriptTask",props:{id:String,type:String},data:function(){return{defaultTaskForm:{scriptFormat:"",script:"",resource:"",resultVariable:""},scriptTaskForm:{}}},watch:{id:{immediate:!0,handler:function(){var e=this;this.bpmnElement=window.bpmnInstances.bpmnElement,this.$nextTick((function(){return e.resetTaskForm()}))}}},methods:{resetTaskForm:function(){for(var e in this.defaultTaskForm){var t=this.bpmnElement.businessObject[e]||this.defaultTaskForm[e];this.$set(this.scriptTaskForm,e,t)}this.$set(this.scriptTaskForm,"scriptType",this.scriptTaskForm.script?"inline":"external")},updateElementTask:function(){var e=Object.create(null);e.scriptFormat=this.scriptTaskForm.scriptFormat||null,e.resultVariable=this.scriptTaskForm.resultVariable||null,"inline"===this.scriptTaskForm.scriptType?(e.script=this.scriptTaskForm.script||null,e.resource=null):(e.resource=this.scriptTaskForm.resource||null,e.script=null),window.bpmnInstances.modeling.updateProperties(this.bpmnElement,e)}},beforeDestroy:function(){this.bpmnElement=null}},V=D,$=Object(p["a"])(V,U,M,!1,null,null,null),z=$.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-top":"16px"}},[n("el-form-item",{attrs:{label:"消息实例"}},[n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between","flex-wrap":"nowrap"}},[n("el-select",{on:{change:e.updateTaskMessage},model:{value:e.bindMessageId,callback:function(t){e.bindMessageId=t},expression:"bindMessageId"}},e._l(Object.keys(e.messageMap),(function(t){return n("el-option",{key:t,attrs:{value:t,label:e.messageMap[t]}})})),1),n("el-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:e.openMessageModel}})],1)]),n("el-dialog",{attrs:{visible:e.messageModelVisible,"close-on-click-modal":!1,title:"创建新消息",width:"400px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.messageModelVisible=t}}},[n("el-form",{attrs:{model:e.newMessageForm,size:"mini","label-width":"90px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"消息ID"}},[n("el-input",{attrs:{clearable:""},model:{value:e.newMessageForm.id,callback:function(t){e.$set(e.newMessageForm,"id",t)},expression:"newMessageForm.id"}})],1),n("el-form-item",{attrs:{label:"消息名称"}},[n("el-input",{attrs:{clearable:""},model:{value:e.newMessageForm.name,callback:function(t){e.$set(e.newMessageForm,"name",t)},expression:"newMessageForm.name"}})],1)],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.createNewMessage}},[e._v("确 认")])],1)],2)],1)},N=[],R={name:"ReceiveTask",props:{id:String,type:String},data:function(){return{bindMessageId:"",newMessageForm:{},messageMap:{},messageModelVisible:!1}},watch:{id:{immediate:!0,handler:function(){var e=this;this.$nextTick((function(){return e.getBindMessage()}))}}},created:function(){var e=this;this.bpmnMessageRefsMap=Object.create(null),this.bpmnRootElements=window.bpmnInstances.modeler.getDefinitions().rootElements,this.bpmnRootElements.filter((function(e){return"bpmn:Message"===e.$type})).forEach((function(t){e.bpmnMessageRefsMap[t.id]=t,e.$set(e.messageMap,t.id,t.name)})),this.$set(this.messageMap,"-1","无")},methods:{getBindMessage:function(){this.bpmnElement=window.bpmnInstances.bpmnElement,this.bindMessageId=this.bpmnElement.businessObject.messageRef.id||"-1"},openMessageModel:function(){this.messageModelVisible=!0,this.newMessageForm={}},createNewMessage:function(){if(this.messageMap[this.newMessageForm.id])this.$message.error("该消息已存在，请修改id后重新保存");else{var e=window.bpmnInstances.moddle.create("bpmn:Message",this.newMessageForm);this.bpmnRootElements.push(e),this.$set(this.messageMap,this.newMessageForm.id,this.newMessageForm.name),this.bpmnMessageRefsMap[this.newMessageForm.id]=e,this.messageModelVisible=!1}},updateTaskMessage:function(e){"-1"===e?window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{messageRef:null}):window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{messageRef:this.bpmnMessageRefsMap[e]})}},beforeDestroy:function(){this.bpmnElement=null}},K=R,J=Object(p["a"])(K,H,N,!1,null,null,null),G=J.exports,q=n("0fea");function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=ee(e,"string");return"symbol"==X(t)?t:t+""}function ee(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=X(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var te={name:"ElementTaskConfig",components:{UserTask:B,ScriptTask:z,ReceiveTask:G},props:{id:String,type:String},created:function(){var e=this;Object(q["e"])("/sys/user/listAll").then((function(t){t.result&&t.result.length>0&&(e.allUser=t.result)})),Object(q["e"])("/sys/role/queryall").then((function(t){t.result&&t.result.length>0&&(e.allRole=t.result)}))},data:function(){return{allRole:[],allUser:[],taskConfigForm:{asyncAfter:!1,asyncBefore:!1,exclusive:!1},witchTaskComponent:"",installedComponent:{UserTask:"UserTask",ScriptTask:"ScriptTask",ReceiveTask:"ReceiveTask"}}},watch:{id:{immediate:!0,handler:function(){this.bpmnElement=window.bpmnInstances.bpmnElement,this.taskConfigForm.asyncBefore=this.bpmnElement.businessObject.asyncBefore,this.taskConfigForm.asyncAfter=this.bpmnElement.businessObject.asyncAfter,this.taskConfigForm.exclusive=this.bpmnElement.businessObject.exclusive}},type:{immediate:!0,handler:function(){this.witchTaskComponent=this.installedComponent[this.type]}}},methods:{changeTaskAsync:function(){this.taskConfigForm.asyncBefore||this.taskConfigForm.asyncAfter||(this.taskConfigForm.exclusive=!1),window.bpmnInstances.modeling.updateProperties(window.bpmnInstances.bpmnElement,Z({},this.taskConfigForm))}}},ne=te,ie=Object(p["a"])(ne,C,A,!1,null,null,null),re=ie.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-form",{attrs:{size:"mini","label-width":"90px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"回路特性"}},[n("el-select",{on:{change:e.changeLoopCharacteristicsType},model:{value:e.loopCharacteristics,callback:function(t){e.loopCharacteristics=t},expression:"loopCharacteristics"}},[n("el-option",{attrs:{label:"并行多重事件",value:"ParallelMultiInstance"}}),n("el-option",{attrs:{label:"时序多重事件",value:"SequentialMultiInstance"}}),n("el-option",{attrs:{label:"循环事件",value:"StandardLoop"}}),n("el-option",{attrs:{label:"无",value:"Null"}})],1)],1),"ParallelMultiInstance"===e.loopCharacteristics||"SequentialMultiInstance"===e.loopCharacteristics?[n("el-form-item",{key:"loopCardinality",attrs:{label:"循环基数"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateLoopCardinality},model:{value:e.loopInstanceForm.loopCardinality,callback:function(t){e.$set(e.loopInstanceForm,"loopCardinality",t)},expression:"loopInstanceForm.loopCardinality"}})],1),n("el-form-item",{key:"collection",attrs:{label:"集合"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateLoopBase},model:{value:e.loopInstanceForm.collection,callback:function(t){e.$set(e.loopInstanceForm,"collection",t)},expression:"loopInstanceForm.collection"}})],1),n("el-form-item",{key:"elementVariable",attrs:{label:"元素变量"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateLoopBase},model:{value:e.loopInstanceForm.elementVariable,callback:function(t){e.$set(e.loopInstanceForm,"elementVariable",t)},expression:"loopInstanceForm.elementVariable"}})],1),n("el-form-item",{key:"completionCondition",attrs:{label:"完成条件"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateLoopCondition},model:{value:e.loopInstanceForm.completionCondition,callback:function(t){e.$set(e.loopInstanceForm,"completionCondition",t)},expression:"loopInstanceForm.completionCondition"}})],1),n("el-form-item",{key:"async",attrs:{label:"异步状态"}},[n("el-checkbox",{attrs:{label:"异步前"},on:{change:function(t){return e.updateLoopAsync("asyncBefore")}},model:{value:e.loopInstanceForm.asyncBefore,callback:function(t){e.$set(e.loopInstanceForm,"asyncBefore",t)},expression:"loopInstanceForm.asyncBefore"}}),n("el-checkbox",{attrs:{label:"异步后"},on:{change:function(t){return e.updateLoopAsync("asyncAfter")}},model:{value:e.loopInstanceForm.asyncAfter,callback:function(t){e.$set(e.loopInstanceForm,"asyncAfter",t)},expression:"loopInstanceForm.asyncAfter"}}),e.loopInstanceForm.asyncAfter||e.loopInstanceForm.asyncBefore?n("el-checkbox",{attrs:{label:"排除"},on:{change:function(t){return e.updateLoopAsync("exclusive")}},model:{value:e.loopInstanceForm.exclusive,callback:function(t){e.$set(e.loopInstanceForm,"exclusive",t)},expression:"loopInstanceForm.exclusive"}}):e._e()],1),e.loopInstanceForm.asyncAfter||e.loopInstanceForm.asyncBefore?n("el-form-item",{key:"timeCycle",attrs:{label:"重试周期",prop:"timeCycle"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateLoopTimeCycle},model:{value:e.loopInstanceForm.timeCycle,callback:function(t){e.$set(e.loopInstanceForm,"timeCycle",t)},expression:"loopInstanceForm.timeCycle"}})],1):e._e()]:e._e()],2)],1)},ae=[];function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return(t=me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=ue(e,"string");return"symbol"==oe(t)?t:t+""}function ue(e,t){if("object"!=oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=oe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var de={name:"ElementMultiInstance",props:{businessObject:Object,type:String},inject:{prefix:"prefix"},data:function(){return{loopCharacteristics:"",defaultLoopInstanceForm:{completionCondition:"",loopCardinality:"",extensionElements:[],asyncAfter:!1,asyncBefore:!1,exclusive:!1},loopInstanceForm:{}}},watch:{businessObject:{immediate:!0,handler:function(e){this.bpmnElement=window.bpmnInstances.bpmnElement,this.getElementLoop(e)}}},methods:{getElementLoop:function(e){return e.loopCharacteristics?"bpmn:StandardLoopCharacteristics"===e.loopCharacteristics.$type?(this.loopCharacteristics="StandardLoop",void(this.loopInstanceForm={})):(e.loopCharacteristics.isSequential?this.loopCharacteristics="SequentialMultiInstance":this.loopCharacteristics="ParallelMultiInstance",this.loopInstanceForm=ce(ce(ce({},this.defaultLoopInstanceForm),e.loopCharacteristics),{},{completionCondition:e.loopCharacteristics.completionCondition.body||"",loopCardinality:e.loopCharacteristics.loopCardinality.body||""}),this.multiLoopInstance=window.bpmnInstances.bpmnElement.businessObject.loopCharacteristics,void(e.loopCharacteristics.extensionElements&&e.loopCharacteristics.extensionElements.values&&e.loopCharacteristics.extensionElements.values.length&&this.$set(this.loopInstanceForm,"timeCycle",e.loopCharacteristics.extensionElements.values[0].body))):(this.loopCharacteristics="Null",void(this.loopInstanceForm={}))},changeLoopCharacteristicsType:function(e){if("Null"!==e){if("StandardLoop"===e){var t=window.bpmnInstances.moddle.create("bpmn:StandardLoopCharacteristics");return window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{loopCharacteristics:t}),void(this.multiLoopInstance=null)}this.multiLoopInstance="SequentialMultiInstance"===e?window.bpmnInstances.moddle.create("bpmn:MultiInstanceLoopCharacteristics",{isSequential:!0}):window.bpmnInstances.moddle.create("bpmn:MultiInstanceLoopCharacteristics"),window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{loopCharacteristics:this.multiLoopInstance})}else window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{loopCharacteristics:null})},updateLoopCardinality:function(e){var t=null;e&&e.length&&(t=window.bpmnInstances.moddle.create("bpmn:FormalExpression",{body:e})),window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement,this.multiLoopInstance,{loopCardinality:t})},updateLoopCondition:function(e){var t=null;e&&e.length&&(t=window.bpmnInstances.moddle.create("bpmn:FormalExpression",{body:e})),window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement,this.multiLoopInstance,{completionCondition:t})},updateLoopTimeCycle:function(e){var t=window.bpmnInstances.moddle.create("bpmn:ExtensionElements",{values:[window.bpmnInstances.moddle.create("".concat(this.prefix,":FailedJobRetryTimeCycle"),{body:e})]});window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement,this.multiLoopInstance,{extensionElements:t})},updateLoopBase:function(){window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement,this.multiLoopInstance,{collection:this.loopInstanceForm.collection||null,elementVariable:this.loopInstanceForm.elementVariable||null})},updateLoopAsync:function(e){var t=this.loopInstanceForm,n=t.asyncBefore,i=t.asyncAfter,r=Object.create(null);n||i?r[e]=this.loopInstanceForm[e]:(this.$set(this.loopInstanceForm,"exclusive",!1),r={asyncBefore:!1,asyncAfter:!1,exclusive:!1,extensionElements:null}),window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement,this.multiLoopInstance,r)}},beforeDestroy:function(){this.multiLoopInstance=null,this.bpmnElement=null}},fe=de,be=Object(p["a"])(fe,se,ae,!1,null,null,null),ye=be.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-form",{attrs:{model:e.flowConditionForm,"label-width":"90px",size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"流转类型"}},[n("el-select",{on:{change:e.updateFlowType},model:{value:e.flowConditionForm.type,callback:function(t){e.$set(e.flowConditionForm,"type",t)},expression:"flowConditionForm.type"}},[n("el-option",{attrs:{label:"普通流转路径",value:"normal"}}),n("el-option",{attrs:{label:"默认流转路径",value:"default"}}),n("el-option",{attrs:{label:"条件流转路径",value:"condition"}})],1)],1),"condition"===e.flowConditionForm.type?n("el-form-item",{key:"condition",attrs:{label:"条件格式"}},[n("el-select",{model:{value:e.flowConditionForm.conditionType,callback:function(t){e.$set(e.flowConditionForm,"conditionType",t)},expression:"flowConditionForm.conditionType"}},[n("el-option",{attrs:{label:"表达式",value:"expression"}}),n("el-option",{attrs:{label:"脚本",value:"script"}})],1)],1):e._e(),e.flowConditionForm.conditionType&&"expression"===e.flowConditionForm.conditionType?n("el-form-item",{key:"express",attrs:{label:"表达式"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateFlowCondition},model:{value:e.flowConditionForm.body,callback:function(t){e.$set(e.flowConditionForm,"body",t)},expression:"flowConditionForm.body"}})],1):e._e(),e.flowConditionForm.conditionType&&"script"===e.flowConditionForm.conditionType?[n("el-form-item",{key:"language",attrs:{label:"脚本语言"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateFlowCondition},model:{value:e.flowConditionForm.language,callback:function(t){e.$set(e.flowConditionForm,"language",t)},expression:"flowConditionForm.language"}})],1),n("el-form-item",{key:"scriptType",attrs:{label:"脚本类型"}},[n("el-select",{model:{value:e.flowConditionForm.scriptType,callback:function(t){e.$set(e.flowConditionForm,"scriptType",t)},expression:"flowConditionForm.scriptType"}},[n("el-option",{attrs:{label:"内联脚本",value:"inlineScript"}}),n("el-option",{attrs:{label:"外部脚本",value:"externalScript"}})],1)],1),"inlineScript"===e.flowConditionForm.scriptType?n("el-form-item",{key:"body",attrs:{label:"脚本"}},[n("el-input",{attrs:{type:"textarea",clearable:""},on:{change:e.updateFlowCondition},model:{value:e.flowConditionForm.body,callback:function(t){e.$set(e.flowConditionForm,"body",t)},expression:"flowConditionForm.body"}})],1):e._e(),"externalScript"===e.flowConditionForm.scriptType?n("el-form-item",{key:"resource",attrs:{label:"资源地址"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateFlowCondition},model:{value:e.flowConditionForm.resource,callback:function(t){e.$set(e.flowConditionForm,"resource",t)},expression:"flowConditionForm.resource"}})],1):e._e()]:e._e()],2)],1)},ve=[];function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return(t=xe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e){var t=Fe(e,"string");return"symbol"==ge(t)?t:t+""}function Fe(e,t){if("object"!=ge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ge(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var je={name:"FlowCondition",props:{businessObject:Object,type:String},data:function(){return{flowConditionForm:{}}},watch:{businessObject:{immediate:!0,handler:function(){var e=this;this.$nextTick((function(){return e.resetFlowCondition()}))}}},methods:{resetFlowCondition:function(){if(this.bpmnElement=window.bpmnInstances.bpmnElement,this.bpmnElementSource=this.bpmnElement.source,this.bpmnElementSourceRef=this.bpmnElement.businessObject.sourceRef,this.bpmnElementSourceRef&&this.bpmnElementSourceRef.default&&this.bpmnElementSourceRef.default.id===this.bpmnElement.id)this.flowConditionForm={type:"default"};else if(this.bpmnElement.businessObject.conditionExpression){var e=this.bpmnElement.businessObject.conditionExpression;if(this.flowConditionForm=we(we({},e),{},{type:"condition"}),this.flowConditionForm.resource)return this.$set(this.flowConditionForm,"conditionType","script"),void this.$set(this.flowConditionForm,"scriptType","externalScript");if(e.language)return this.$set(this.flowConditionForm,"conditionType","script"),void this.$set(this.flowConditionForm,"scriptType","inlineScript");this.$set(this.flowConditionForm,"conditionType","expression")}else this.flowConditionForm={type:"normal"}},updateFlowType:function(e){return"condition"===e?(this.flowConditionRef=window.bpmnInstances.moddle.create("bpmn:FormalExpression"),void window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{conditionExpression:this.flowConditionRef})):"default"===e?(window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{conditionExpression:null}),void window.bpmnInstances.modeling.updateProperties(this.bpmnElementSource,{default:this.bpmnElement})):(this.bpmnElementSourceRef.default&&this.bpmnElementSourceRef.default.id===this.bpmnElement.id&&window.bpmnInstances.modeling.updateProperties(this.bpmnElementSource,{default:null}),void window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{conditionExpression:null}))},updateFlowCondition:function(){var e,t=this.flowConditionForm,n=t.conditionType,i=t.scriptType,r=t.body,s=t.resource,a=t.language;"expression"===n?e=window.bpmnInstances.moddle.create("bpmn:FormalExpression",{body:r}):"inlineScript"===i?(e=window.bpmnInstances.moddle.create("bpmn:FormalExpression",{body:r,language:a}),this.$set(this.flowConditionForm,"resource","")):(this.$set(this.flowConditionForm,"body",""),e=window.bpmnInstances.moddle.create("bpmn:FormalExpression",{resource:s,language:a})),window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{conditionExpression:e})}},beforeDestroy:function(){this.bpmnElement=null,this.bpmnElementSource=null,this.bpmnElementSourceRef=null}},ke=je,Te=Object(p["a"])(ke,he,ve,!1,null,null,null),Ce=Te.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("div",{staticClass:"panel-tab__content--title"},[e._m(0),n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openModel("message")}}},[e._v("创建新消息")])],1),n("el-table",{attrs:{data:e.messageList,size:"mini",border:""}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"60px"}}),n("el-table-column",{attrs:{label:"消息ID",prop:"id","max-width":"300px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"消息名称",prop:"name","max-width":"300px","show-overflow-tooltip":""}})],1),n("div",{staticClass:"panel-tab__content--title",staticStyle:{"padding-top":"8px","margin-top":"8px","border-top":"1px solid #eeeeee"}},[e._m(1),n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openModel("signal")}}},[e._v("创建新信号")])],1),n("el-table",{attrs:{data:e.signalList,size:"mini",border:""}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"60px"}}),n("el-table-column",{attrs:{label:"信号ID",prop:"id","max-width":"300px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"信号名称",prop:"name","max-width":"300px","show-overflow-tooltip":""}})],1),n("el-dialog",{attrs:{visible:e.modelVisible,title:e.modelConfig.title,"close-on-click-modal":!1,width:"400px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.modelVisible=t}}},[n("el-form",{attrs:{model:e.modelObjectForm,size:"mini","label-width":"90px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:e.modelConfig.idLabel}},[n("el-input",{attrs:{clearable:""},model:{value:e.modelObjectForm.id,callback:function(t){e.$set(e.modelObjectForm,"id",t)},expression:"modelObjectForm.id"}})],1),n("el-form-item",{attrs:{label:e.modelConfig.nameLabel}},[n("el-input",{attrs:{clearable:""},model:{value:e.modelObjectForm.name,callback:function(t){e.$set(e.modelObjectForm,"name",t)},expression:"modelObjectForm.name"}})],1)],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.modelVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addNewObject}},[e._v("保 存")])],1)],2)],1)},Oe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"el-icon-menu",staticStyle:{"margin-right":"8px",color:"#555555"}}),e._v("消息列表")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"el-icon-menu",staticStyle:{"margin-right":"8px",color:"#555555"}}),e._v("信号列表")])}];function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return(t=Be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){var t=Ue(e,"string");return"symbol"==Ie(t)?t:t+""}function Ue(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ie(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Me={name:"SignalAndMassage",data:function(){return{signalList:[],messageList:[],modelVisible:!1,modelType:"",modelObjectForm:{}}},computed:{modelConfig:function(){return"message"===this.modelType?{title:"创建消息",idLabel:"消息ID",nameLabel:"消息名称"}:{title:"创建信号",idLabel:"信号ID",nameLabel:"信号名称"}}},mounted:function(){this.initDataList()},methods:{initDataList:function(){var e=this;this.rootElements=window.bpmnInstances.modeler.getDefinitions().rootElements,this.messageIdMap={},this.signalIdMap={},this.messageList=[],this.signalList=[],this.rootElements.forEach((function(t){"bpmn:Message"===t.$type&&(e.messageIdMap[t.id]=!0,e.messageList.push(Pe({},t))),"bpmn:Signal"===t.$type&&(e.signalIdMap[t.id]=!0,e.signalList.push(Pe({},t)))}))},openModel:function(e){this.modelType=e,this.modelObjectForm={},this.modelVisible=!0},addNewObject:function(){if("message"===this.modelType){if(this.messageIdMap[this.modelObjectForm.id])return this.$message.error("该消息已存在，请修改id后重新保存");var e=window.bpmnInstances.moddle.create("bpmn:Message",this.modelObjectForm);this.rootElements.push(e)}else{if(this.signalIdMap[this.modelObjectForm.id])return this.$message.error("该信号已存在，请修改id后重新保存");var t=window.bpmnInstances.moddle.create("bpmn:Signal",this.modelObjectForm);this.rootElements.push(t)}this.modelVisible=!1,this.initDataList()}}},De=Me,Ve=Object(p["a"])(De,Ae,Oe,!1,null,null,null),$e=Ve.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-table",{attrs:{data:e.elementListenersList,size:"mini",border:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"事件类型","min-width":"100px",prop:"event"}}),n("el-table-column",{attrs:{label:"监听器类型","min-width":"100px","show-overflow-tooltip":"",formatter:function(t){return e.listenerTypeObject[t.listenerType]}}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openListenerForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeListener(i,r)}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openListenerForm(null)}}},[e._v("添加监听器")])],1),n("el-drawer",{attrs:{visible:e.listenerFormModelVisible,title:"执行监听器",size:e.width+"px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.listenerFormModelVisible=t}}},[n("el-form",{ref:"listenerFormRef",attrs:{size:"mini",model:e.listenerForm,"label-width":"96px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"事件类型",prop:"event",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerForm.event,callback:function(t){e.$set(e.listenerForm,"event",t)},expression:"listenerForm.event"}},[n("el-option",{attrs:{label:"start",value:"start"}}),n("el-option",{attrs:{label:"end",value:"end"}})],1)],1),n("el-form-item",{attrs:{label:"监听器类型",prop:"listenerType",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerForm.listenerType,callback:function(t){e.$set(e.listenerForm,"listenerType",t)},expression:"listenerForm.listenerType"}},e._l(Object.keys(e.listenerTypeObject),(function(t){return n("el-option",{key:t,attrs:{label:e.listenerTypeObject[t],value:t}})})),1)],1),"classListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-class",attrs:{label:"Java类",prop:"class",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.class,callback:function(t){e.$set(e.listenerForm,"class",t)},expression:"listenerForm.class"}})],1):e._e(),"expressionListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-expression",attrs:{label:"表达式",prop:"expression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.expression,callback:function(t){e.$set(e.listenerForm,"expression",t)},expression:"listenerForm.expression"}})],1):e._e(),"delegateExpressionListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-delegate",attrs:{label:"代理表达式",prop:"delegateExpression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.delegateExpression,callback:function(t){e.$set(e.listenerForm,"delegateExpression",t)},expression:"listenerForm.delegateExpression"}})],1):e._e(),"scriptListener"===e.listenerForm.listenerType?[n("el-form-item",{key:"listener-script-format",attrs:{label:"脚本格式",prop:"scriptFormat",rules:{required:!0,trigger:["blur","change"],message:"请填写脚本格式"}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.scriptFormat,callback:function(t){e.$set(e.listenerForm,"scriptFormat",t)},expression:"listenerForm.scriptFormat"}})],1),n("el-form-item",{key:"listener-script-type",attrs:{label:"脚本类型",prop:"scriptType",rules:{required:!0,trigger:["blur","change"],message:"请选择脚本类型"}}},[n("el-select",{model:{value:e.listenerForm.scriptType,callback:function(t){e.$set(e.listenerForm,"scriptType",t)},expression:"listenerForm.scriptType"}},[n("el-option",{attrs:{label:"内联脚本",value:"inlineScript"}}),n("el-option",{attrs:{label:"外部脚本",value:"externalScript"}})],1)],1),"inlineScript"===e.listenerForm.scriptType?n("el-form-item",{key:"listener-script",attrs:{label:"脚本内容",prop:"value",rules:{required:!0,trigger:["blur","change"],message:"请填写脚本内容"}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.value,callback:function(t){e.$set(e.listenerForm,"value",t)},expression:"listenerForm.value"}})],1):e._e(),"externalScript"===e.listenerForm.scriptType?n("el-form-item",{key:"listener-resource",attrs:{label:"资源地址",prop:"resource",rules:{required:!0,trigger:["blur","change"],message:"请填写资源地址"}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.resource,callback:function(t){e.$set(e.listenerForm,"resource",t)},expression:"listenerForm.resource"}})],1):e._e()]:e._e()],2),n("el-divider"),n("p",{staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("注入字段：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openListenerFieldForm(null)}}},[e._v("添加字段")])],1),n("el-table",{staticStyle:{flex:"none"},attrs:{data:e.fieldsListOfListener,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"字段名称","min-width":"100px",prop:"name"}}),n("el-table-column",{attrs:{label:"字段类型","min-width":"80px","show-overflow-tooltip":"",formatter:function(t){return e.fieldTypeObject[t.fieldType]}}}),n("el-table-column",{attrs:{label:"字段值/表达式","min-width":"100px","show-overflow-tooltip":"",formatter:function(e){return e.string||e.expression}}}),n("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openListenerFieldForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeListenerField(i,r)}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.listenerFormModelVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveListenerConfig}},[e._v("保 存")])],1)],1),n("el-dialog",{attrs:{title:"字段配置",visible:e.listenerFieldFormModelVisible,width:"600px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.listenerFieldFormModelVisible=t}}},[n("el-form",{ref:"listenerFieldFormRef",staticStyle:{height:"136px"},attrs:{model:e.listenerFieldForm,size:"mini","label-width":"96px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"字段名称：",prop:"name",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.name,callback:function(t){e.$set(e.listenerFieldForm,"name",t)},expression:"listenerFieldForm.name"}})],1),n("el-form-item",{attrs:{label:"字段类型：",prop:"fieldType",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerFieldForm.fieldType,callback:function(t){e.$set(e.listenerFieldForm,"fieldType",t)},expression:"listenerFieldForm.fieldType"}},e._l(Object.keys(e.fieldTypeObject),(function(t){return n("el-option",{key:t,attrs:{label:e.fieldTypeObject[t],value:t}})})),1)],1),"string"===e.listenerFieldForm.fieldType?n("el-form-item",{key:"field-string",attrs:{label:"字段值：",prop:"string",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.string,callback:function(t){e.$set(e.listenerFieldForm,"string",t)},expression:"listenerFieldForm.string"}})],1):e._e(),"expression"===e.listenerFieldForm.fieldType?n("el-form-item",{key:"field-expression",attrs:{label:"表达式：",prop:"expression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.expression,callback:function(t){e.$set(e.listenerFieldForm,"expression",t)},expression:"listenerFieldForm.expression"}})],1):e._e()],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.listenerFieldFormModelVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveListenerFiled}},[e._v("确 定")])],1)],2)],1)},He=[];function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Re(e,t,n){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){var t=Je(e,"string");return"symbol"==Ne(t)?t:t+""}function Je(e,t){if("object"!=Ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ne(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ge(e,t,n){var i=Object.create(null);switch(i.event=e.event,t&&(i.id=e.id),e.listenerType){case"scriptListener":i.script=Xe(e,n);break;case"expressionListener":i.expression=e.expression;break;case"delegateExpressionListener":i.delegateExpression=e.delegateExpression;break;default:i.class=e.class}if(e.fields&&(i.fields=e.fields.map((function(e){return qe(e,n)}))),t&&"timeout"===e.event&&e.eventDefinitionType){var r=window.bpmnInstances.moddle.create("bpmn:FormalExpression",{body:e.eventTimeDefinitions}),s=window.bpmnInstances.moddle.create("bpmn:TimerEventDefinition",Re({id:"TimerEventDefinition_".concat(Ze(8))},"time".concat(e.eventDefinitionType.replace(/^\S/,(function(e){return e.toUpperCase()}))),r));i.eventDefinitions=[s]}return window.bpmnInstances.moddle.create("".concat(n,":").concat(t?"TaskListener":"ExecutionListener"),i)}function qe(e,t){var n=e.name,i=e.fieldType,r=e.string,s=e.expression,a="string"===i?{name:n,string:r}:{name:n,expression:s};return window.bpmnInstances.moddle.create("".concat(t,":Field"),a)}function Xe(e,t){var n=e.scriptType,i=e.scriptFormat,r=e.value,s=e.resource,a="inlineScript"===n?{scriptFormat:i,value:r}:{scriptFormat:i,resource:s};return window.bpmnInstances.moddle.create("".concat(t,":Script"),a)}function We(e,t){var n=window.bpmnInstances.moddle.create("bpmn:ExtensionElements",{values:t});window.bpmnInstances.modeling.updateProperties(e,{extensionElements:n})}function Ze(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1?arguments[1]:void 0,n="",i=t||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=e;r>0;--r)n+=i[Math.floor(Math.random()*i.length)];return n}function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return(t=nt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e){var t=it(e,"string");return"symbol"==Ye(t)?t:t+""}function it(e,t){if("object"!=Ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ye(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function rt(e){var t=et({},e);if(e.script&&(t=et(et(et({},e),e.script),{},{scriptType:e.script.resource?"externalScript":"inlineScript"})),"timeout"===e.event&&e.eventDefinitions&&e.eventDefinitions.length){var n="";for(var i in e.eventDefinitions[0])-1!==i.indexOf("time")&&(n=i,t.eventDefinitionType=i.replace("time","").toLowerCase());t.eventTimeDefinitions=e.eventDefinitions[0][n].body}return t}function st(e){var t;return e.class&&(t="classListener"),e.expression&&(t="expressionListener"),e.delegateExpression&&(t="delegateExpressionListener"),e.script&&(t="scriptListener"),et(et(et({},JSON.parse(JSON.stringify(e))),e.script||{}),{},{listenerType:t})}var at={classListener:"Java 类",expressionListener:"表达式",delegateExpressionListener:"代理表达式",scriptListener:"脚本"},ot={create:"创建",assignment:"指派",complete:"完成",delete:"删除",update:"更新",timeout:"超时"},lt={string:"字符串",expression:"表达式"};function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function pt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */pt=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function p(e,t,n,i){var s=t&&t.prototype instanceof h?t:h,a=Object.create(s.prototype),o=new O(i||[]);return r(a,"_invoke",{value:k(e,n,o)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var u="suspendedStart",d="suspendedYield",f="executing",b="completed",y={};function h(){}function v(){}function g(){}var S={};c(S,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(I([])));E&&E!==n&&i.call(E,a)&&(S=E);var x=g.prototype=h.prototype=Object.create(S);function F(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(r,s,a,o){var l=m(e[r],e,s);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==ct(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,o)}))}o(l.arg)}var s;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return s=s?s.then(r,r):r()}})}function k(t,n,i){var r=u;return function(s,a){if(r===f)throw Error("Generator is already running");if(r===b){if("throw"===s)throw a;return{value:e,done:!0}}for(i.method=s,i.arg=a;;){var o=i.delegate;if(o){var l=T(o,i);if(l){if(l===y)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===u)throw r=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=m(t,n,i);if("normal"===c.type){if(r=i.done?b:d,c.arg===y)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=b,i.method="throw",i.arg=c.arg)}}}function T(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var s=m(r,t.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,y;var a=s.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError(ct(t)+" is not iterable")}return v.prototype=g,r(x,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},F(j.prototype),c(j.prototype,o,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,i,r,s){void 0===s&&(s=Promise);var a=new j(p(e,n,i,r),s);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},F(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return o.type="throw",o.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function mt(e,t,n,i,r,s,a){try{var o=e[s](a),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)}function ut(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){mt(s,i,r,a,o,"next",e)}function o(e){mt(s,i,r,a,o,"throw",e)}a(void 0)}))}}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e,t,n){return(t=yt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e){var t=ht(e,"string");return"symbol"==ct(t)?t:t+""}function ht(e,t){if("object"!=ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ct(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var vt={name:"ElementListeners",props:{id:String,type:String},inject:{prefix:"prefix",width:"width"},data:function(){return{elementListenersList:[],listenerForm:{},listenerFormModelVisible:!1,fieldsListOfListener:[],listenerFieldForm:{},listenerFieldFormModelVisible:!1,editingListenerIndex:-1,editingListenerFieldIndex:-1,listenerTypeObject:at,fieldTypeObject:lt}},watch:{id:{immediate:!0,handler:function(e){var t=this;e&&e.length&&this.$nextTick((function(){return t.resetListenersList()}))}}},methods:{resetListenersList:function(){var e=this;this.bpmnElement=window.bpmnInstances.bpmnElement,this.otherExtensionList=[],this.bpmnElementListeners=[],this.bpmnElement.businessObject.extensionElements&&this.bpmnElement.businessObject.extensionElements.values&&this.bpmnElement.businessObject.extensionElements.values.length>0&&(this.bpmnElementListeners=this.bpmnElement.businessObject.extensionElements.values.filter((function(t){return t.$type==="".concat(e.prefix,":ExecutionListener")})),this.otherExtensionList=this.bpmnElement.businessObject.extensionElements.values.filter((function(t){return!e.bpmnElementListeners.includes(t)}))),this.elementListenersList=this.bpmnElementListeners.map((function(e){return st(e)}))},openListenerForm:function(e,t){var n=this;e?(this.listenerForm=rt(e),this.editingListenerIndex=t):(this.listenerForm={},this.editingListenerIndex=-1),e&&e.fields?this.fieldsListOfListener=e.fields.map((function(e){return ft(ft({},e),{},{fieldType:e.string?"string":"expression"})})):(this.fieldsListOfListener=[],this.$set(this.listenerForm,"fields",[])),this.listenerFormModelVisible=!0,this.$nextTick((function(){n.$refs["listenerFormRef"]&&n.$refs["listenerFormRef"].clearValidate()}))},openListenerFieldForm:function(e,t){var n=this;this.listenerFieldForm=e?JSON.parse(JSON.stringify(e)):{},this.editingListenerFieldIndex=e?t:-1,this.listenerFieldFormModelVisible=!0,this.$nextTick((function(){n.$refs["listenerFieldFormRef"]&&n.$refs["listenerFieldFormRef"].clearValidate()}))},saveListenerFiled:function(){var e=ut(pt().mark((function e(){var t,n=this;return pt().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["listenerFieldFormRef"].validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:-1===this.editingListenerFieldIndex?(this.fieldsListOfListener.push(this.listenerFieldForm),this.listenerForm.fields.push(this.listenerFieldForm)):(this.fieldsListOfListener.splice(this.editingListenerFieldIndex,1,this.listenerFieldForm),this.listenerForm.fields.splice(this.editingListenerFieldIndex,1,this.listenerFieldForm)),this.listenerFieldFormModelVisible=!1,this.$nextTick((function(){return n.listenerFieldForm={}})),this.$emit("refresh");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeListenerField:function(e,t){var n=this;this.$confirm({title:"提示",content:"确认移除该字段吗？",okText:"确 认",zIndex:9999,cancelText:"取 消",onOk:function(){n.fieldsListOfListener.splice(t,1),n.listenerForm.fields.splice(t,1),n.$emit("refresh")}})},removeListener:function(e,t){var n=this,i=this;this.$confirm({title:"提示",zIndex:9999,content:"确认移除该监听器吗？",centered:!0,onOk:function(){i.bpmnElementListeners.splice(t,1),i.elementListenersList.splice(t,1),We(n.bpmnElement,n.otherExtensionList.concat(n.bpmnElementListeners))}})},saveListenerConfig:function(){var e=ut(pt().mark((function e(){var t,n,i,r=this;return pt().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["listenerFormRef"].validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:n=Ge(this.listenerForm,!1,this.prefix),-1===this.editingListenerIndex?(this.bpmnElementListeners.push(n),this.elementListenersList.push(this.listenerForm)):(this.bpmnElementListeners.splice(this.editingListenerIndex,1,n),this.elementListenersList.splice(this.editingListenerIndex,1,this.listenerForm)),i=this.bpmnElement.businessObject.extensionElements?this.bpmnElement.businessObject.extensionElements.values:[],this.otherExtensionList=i.filter((function(e){return e.$type!=="".concat(r.prefix,":ExecutionListener")}))||[],We(this.bpmnElement,this.otherExtensionList.concat(this.bpmnElementListeners)),this.listenerFormModelVisible=!1,this.listenerForm={},this.$emit("refresh");case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},gt=vt,St=Object(p["a"])(gt,ze,He,!1,null,null,null),wt=St.exports,Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-table",{attrs:{data:e.elementPropertyList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"45px",type:"index"}}),n("el-table-column",{attrs:{label:"属性名",prop:"name","min-width":"100px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[n("span",[e._v(e._s(e.getNameText(i.name)))])]}}])}),n("el-table-column",{attrs:{label:"属性值",prop:"value","min-width":"65px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;t.$index;return[n("span",[e._v(e._s(e.getValueText(i.value)))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openAttributesForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeAttributes(i,r)}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openAttributesForm(null,-1)}}},[e._v("添加属性")])],1),n("el-dialog",{attrs:{visible:e.propertyFormModelVisible,title:"属性配置",width:"600px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.propertyFormModelVisible=t}}},[n("el-form",{ref:"attributeFormRef",attrs:{model:e.propertyForm,"label-width":"80px",size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"属性名：",prop:"name"}},[n("el-select",{attrs:{disabled:-1!==this.editingPropertyIndex},model:{value:e.propertyForm.name,callback:function(t){e.$set(e.propertyForm,"name",t)},expression:"propertyForm.name"}},e._l(e.properList,(function(e){return n("el-option",{key:e.value,attrs:{value:e.value,label:e.name}})})),1)],1),n("el-form-item",{attrs:{label:"属性值：",prop:"value"}},[n("el-select",{attrs:{filterable:"","allow-create":"",clearable:"","default-first-option":""},model:{value:e.propertyForm.value,callback:function(t){e.$set(e.propertyForm,"value",t)},expression:"propertyForm.value"}},e._l(e.matterList,(function(t){return n("el-option",{key:t.matter_code,attrs:{label:t.matter_name,value:t.matter_code}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.matter_name))]),n("span",{staticStyle:{float:"right"}},[e._v("("+e._s(t.matter_code)+")")])])})),1)],1)],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.propertyFormModelVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveAttribute}},[e._v("确 定")])],1)],2)],1)},xt=[],Ft=(n("98fc"),{name:"ElementProperties",props:{id:String,type:String,xmlString:String,businessObject:Object},inject:{prefix:"prefix",width:"width"},data:function(){return{matterList:[],properList:[{name:"表单地址",value:"Customform"},{name:"是否关联所属部门",value:"Deptflag"},{name:"是否关联其他部门",value:"Otherdeptflag"},{name:"是否分管领导审批",value:"Fgldflag"},{name:"上级租户编码",value:"Tenantflag"}],elementPropertyList:[],propertyForm:{},editingPropertyIndex:-1,propertyFormModelVisible:!1}},watch:{id:{immediate:!0,handler:function(e){e&&e.length&&this.resetAttributesList()}}},created:function(){var e=this;Object(q["j"])("/joinsoft/joinDataSource/queryDataByCode?code=matterList",{code:"matterList"}).then((function(t){t.success&&t.result&&(e.matterList=t.result)}))},methods:{getNameText:function(e){if(e){var t=this.properList.filter((function(t){if(t.value===e)return t.name}));return t&&t.length>0?t[0].name:e}},getValueText:function(e){if(e){var t=this.matterList.filter((function(t){if(t.matter_code===e)return t.matter_name}));return t&&t.length>0?t[t.length-1].matter_name:e}},resetAttributesList:function(){var e=this;this.bpmnElement=window.bpmnInstances.bpmnElement,this.otherExtensionList=[],this.bpmnElementProperties=this.bpmnElement.businessObject.extensionElements?this.bpmnElement.businessObject.extensionElements.values:[],this.bpmnElementPropertyList=JSON.parse(JSON.stringify(this.bpmnElementProperties)),this.elementPropertyList=[];var t=["activiti:ExecutionListener","activiti:TaskListener"];this.bpmnElementProperties.map((function(n){if(!t.includes(n.$type)){var i=JSON.parse(JSON.stringify(n));i.value=n.text,i.name=n.$type.substring(n.$type.indexOf(":")+1,n.$type.length),e.elementPropertyList.push(i)}})),this.otherExtensionList=this.bpmnElement.businessObject&&this.bpmnElement.businessObject.extensionElements&&this.bpmnElement.businessObject.extensionElements.values?this.bpmnElement.businessObject.extensionElements.values.filter((function(e){return t.includes(e.$type)})):[]},openAttributesForm:function(e,t){var n=this;this.editingPropertyIndex=t,this.propertyForm=-1===t?{}:JSON.parse(JSON.stringify(e)),this.propertyFormModelVisible=!0,this.$nextTick((function(){n.$refs["attributeFormRef"]&&n.$refs["attributeFormRef"].clearValidate()}))},removeAttributes:function(e,t){var n=this;this.$confirm({title:"提示",content:"确认移除该属性吗？",okText:"确 认",cancelText:"取 消",onOk:function(){var e=this;return new Promise((function(i,r){n.elementPropertyList.splice(t,1),n.bpmnElementPropertyList.splice(t,1);var s=[];n.elementPropertyList.forEach((function(e){var t=window.bpmnInstances.moddle.create(e.$type,{text:e.text});s.push(t)})),s=s.concat(e.otherExtensionList),We(n.bpmnElement,s),n.resetAttributesList(),e.$emit("refresh"),i()}))}})},saveAttribute:function(){var e=this.propertyForm,t=e.name,n=e.value;if(-1!==this.editingPropertyIndex)window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement,this.bpmnElementProperties[this.editingPropertyIndex],{text:n});else{var i=window.bpmnInstances.bpmnFactory.create("".concat(this.prefix,":").concat(t),{text:n}),r=[];this.elementPropertyList.forEach((function(e){var t=window.bpmnInstances.moddle.create(e.$type,{text:e.text});r.push(t)})),r.push(i),r=r.concat(this.otherExtensionList),We(this.bpmnElement,r)}this.propertyFormModelVisible=!1,this.resetAttributesList(),this.$emit("refresh")},updateElementExtensions:function(e){var t=window.bpmnInstances.moddle.create("bpmn:ExtensionElements",{values:this.otherExtensionList.concat([e])});window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{extensionElements:t})}}}),jt=Ft,kt=Object(p["a"])(jt,Et,xt,!1,null,null,null),Tt=kt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-form",{attrs:{size:"mini","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"表单标识"}},[n("el-input",{attrs:{clearable:""},on:{change:e.updateElementFormKey},model:{value:e.formKey,callback:function(t){e.formKey=t},expression:"formKey"}})],1),n("el-form-item",{attrs:{label:"业务标识"}},[n("el-select",{on:{change:e.updateElementBusinessKey},model:{value:e.businessKey,callback:function(t){e.businessKey=t},expression:"businessKey"}},[e._l(e.fieldList,(function(e){return n("el-option",{key:e.id,attrs:{value:e.id,label:e.label}})})),n("el-option",{attrs:{label:"123",value:"1"}})],2)],1)],1),n("div",{staticClass:"element-property list-property"},[n("el-divider",[n("i",{staticClass:"el-icon-coin"}),e._v(" 表单字段")]),n("el-table",{attrs:{data:e.fieldList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"50px"}}),n("el-table-column",{attrs:{label:"字段名称",prop:"label","min-width":"80px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"字段类型",prop:"type","min-width":"80px",formatter:function(t){return e.fieldType[t.type]||t.type},"show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"默认值",prop:"defaultValue","min-width":"80px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openFieldForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeField(i,r)}}},[e._v("移除")])]}}])})],1)],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openFieldForm(null,-1)}}},[e._v("添加字段")])],1),n("el-drawer",{attrs:{visible:e.fieldModelVisible,title:"字段配置",size:e.width+"px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.fieldModelVisible=t}}},[n("el-form",{attrs:{model:e.formFieldForm,"label-width":"90px",size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"字段ID"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.id,callback:function(t){e.$set(e.formFieldForm,"id",t)},expression:"formFieldForm.id"}})],1),n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{attrs:{placeholder:"请选择字段类型",clearable:""},on:{change:e.changeFieldTypeType},model:{value:e.formFieldForm.typeType,callback:function(t){e.$set(e.formFieldForm,"typeType",t)},expression:"formFieldForm.typeType"}},e._l(e.fieldType,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),"custom"===e.formFieldForm.typeType?n("el-form-item",{attrs:{label:"类型名称"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.type,callback:function(t){e.$set(e.formFieldForm,"type",t)},expression:"formFieldForm.type"}})],1):e._e(),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.label,callback:function(t){e.$set(e.formFieldForm,"label",t)},expression:"formFieldForm.label"}})],1),"date"===e.formFieldForm.typeType?n("el-form-item",{attrs:{label:"时间格式"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.datePattern,callback:function(t){e.$set(e.formFieldForm,"datePattern",t)},expression:"formFieldForm.datePattern"}})],1):e._e(),n("el-form-item",{attrs:{label:"默认值"}},[n("el-input",{attrs:{clearable:""},model:{value:e.formFieldForm.defaultValue,callback:function(t){e.$set(e.formFieldForm,"defaultValue",t)},expression:"formFieldForm.defaultValue"}})],1)],1),"enum"===e.formFieldForm.type?[n("el-divider",{key:"enum-divider"}),n("p",{key:"enum-title",staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("枚举值列表：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openFieldOptionForm(null,-1,"enum")}}},[e._v("添加枚举值")])],1),n("el-table",{key:"enum-table",attrs:{data:e.fieldEnumList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"枚举值编号",prop:"id","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"枚举值名称",prop:"name","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openFieldOptionForm(i,r,"enum")}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeFieldOptionItem(i,r,"enum")}}},[e._v("移除")])]}}],null,!1,1977609051)})],1)]:e._e(),n("el-divider",{key:"validation-divider"}),n("p",{key:"validation-title",staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("约束条件列表：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openFieldOptionForm(null,-1,"constraint")}}},[e._v("添加约束")])],1),n("el-table",{key:"validation-table",attrs:{data:e.fieldConstraintsList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"约束名称",prop:"name","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"约束配置",prop:"config","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openFieldOptionForm(i,r,"constraint")}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeFieldOptionItem(i,r,"constraint")}}},[e._v("移除")])]}}])})],1),n("el-divider",{key:"property-divider"}),n("p",{key:"property-title",staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("字段属性列表：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openFieldOptionForm(null,-1,"property")}}},[e._v("添加属性")])],1),n("el-table",{key:"property-table",attrs:{data:e.fieldPropertiesList,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"属性编号",prop:"id","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"属性值",prop:"value","min-width":"100px","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openFieldOptionForm(i,r,"property")}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeFieldOptionItem(i,r,"property")}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini"}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveField}},[e._v("保 存")])],1)],2),n("el-dialog",{attrs:{visible:e.fieldOptionModelVisible,title:e.optionModelTitle,width:"600px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.fieldOptionModelVisible=t}}},[n("el-form",{attrs:{model:e.fieldOptionForm,size:"mini","label-width":"96px"},nativeOn:{submit:function(e){e.preventDefault()}}},["constraint"!==e.fieldOptionType?n("el-form-item",{key:"option-id",attrs:{label:"编号/ID"}},[n("el-input",{attrs:{clearable:""},model:{value:e.fieldOptionForm.id,callback:function(t){e.$set(e.fieldOptionForm,"id",t)},expression:"fieldOptionForm.id"}})],1):e._e(),"property"!==e.fieldOptionType?n("el-form-item",{key:"option-name",attrs:{label:"名称"}},[n("el-input",{attrs:{clearable:""},model:{value:e.fieldOptionForm.name,callback:function(t){e.$set(e.fieldOptionForm,"name",t)},expression:"fieldOptionForm.name"}})],1):e._e(),"constraint"===e.fieldOptionType?n("el-form-item",{key:"option-config",attrs:{label:"配置"}},[n("el-input",{attrs:{clearable:""},model:{value:e.fieldOptionForm.config,callback:function(t){e.$set(e.fieldOptionForm,"config",t)},expression:"fieldOptionForm.config"}})],1):e._e(),"property"===e.fieldOptionType?n("el-form-item",{key:"option-value",attrs:{label:"值"}},[n("el-input",{attrs:{clearable:""},model:{value:e.fieldOptionForm.value,callback:function(t){e.$set(e.fieldOptionForm,"value",t)},expression:"fieldOptionForm.value"}})],1):e._e()],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.fieldOptionModelVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveFieldOption}},[e._v("确 定")])],1)],2)],1)},At=[],Ot={name:"ElementForm",props:{id:String,type:String},inject:{prefix:"prefix",width:"width"},data:function(){return{formKey:"",businessKey:"",customform:"",matterKey:"",optionModelTitle:"",fieldList:[],formFieldForm:{},fieldType:{long:"长整型",string:"字符串",boolean:"布尔类",date:"日期类",enum:"枚举类",custom:"自定义类型"},formFieldIndex:-1,formFieldOptionIndex:-1,fieldModelVisible:!1,fieldOptionModelVisible:!1,fieldOptionForm:{},fieldOptionType:"",fieldEnumList:[],fieldConstraintsList:[],fieldPropertiesList:[],matterListArr:[],url:{matterList:"/components/comMatter/list"}}},watch:{id:{immediate:!0,handler:function(e){var t=this;e&&e.length&&this.$nextTick((function(){return t.resetFormList()}))}}},created:function(){var e=this;Object(q["e"])(this.url.matterList,{pageNo:1,pageSize:999}).then((function(t){t.success&&(e.matterListArr=t.result.records)}))},methods:{resetFormList:function(){this.bpmnElement=window.bpmnInstances.bpmnElement,this.formKey=this.bpmnElement.businessObject.formKey,this.customform=this.bpmnElement.businessObject.customform},updateElementFormKey:function(){window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{formKey:this.formKey})},updateElementCustomForm:function(){We(this.bpmnElement,{customform:this.customform})},updateElementBusinessKey:function(){window.bpmnInstances.modeling.updateModdleProperties(this.bpmnElement,this.formData,{businessKey:this.businessKey})},changeFieldTypeType:function(e){this.$set(this.formFieldForm,"type","custom"===e?"":e)},openFieldForm:function(e,t){if(this.formFieldIndex=t,-1!==t){var n=this.formData.fields[t];this.formFieldForm=JSON.parse(JSON.stringify(e)),this.$set(this.formFieldForm,"typeType",this.fieldType[e.type]?e.type:"custom"),"enum"===e.type&&(this.fieldEnumList=JSON.parse(JSON.stringify(n.values||[]))),this.fieldConstraintsList=JSON.parse(JSON.stringify(n.validation.constraints||[])),this.fieldPropertiesList=JSON.parse(JSON.stringify(n.properties.values||[]))}else this.formFieldForm={},this.fieldEnumList=[],this.fieldConstraintsList=[],this.fieldPropertiesList=[];this.fieldModelVisible=!0},openFieldOptionForm:function(e,t,n){return this.fieldOptionModelVisible=!0,this.fieldOptionType=n,this.formFieldOptionIndex=t,"property"===n?(this.fieldOptionForm=e?JSON.parse(JSON.stringify(e)):{},this.optionModelTitle="属性配置"):"enum"===n?(this.fieldOptionForm=e?JSON.parse(JSON.stringify(e)):{},this.optionModelTitle="枚举值配置"):(this.fieldOptionForm=e?JSON.parse(JSON.stringify(e)):{},this.optionModelTitle="约束条件配置")},saveFieldOption:function(){-1===this.formFieldOptionIndex?("property"===this.fieldOptionType&&this.fieldPropertiesList.push(this.fieldOptionForm),"constraint"===this.fieldOptionType&&this.fieldConstraintsList.push(this.fieldOptionForm),"enum"===this.fieldOptionType&&this.fieldEnumList.push(this.fieldOptionForm)):("property"===this.fieldOptionType&&this.fieldPropertiesList.splice(this.formFieldOptionIndex,1,this.fieldOptionForm),"constraint"===this.fieldOptionType&&this.fieldConstraintsList.splice(this.formFieldOptionIndex,1,this.fieldOptionForm),"enum"===this.fieldOptionType&&this.fieldEnumList.splice(this.formFieldOptionIndex,1,this.fieldOptionForm)),this.fieldOptionModelVisible=!1,this.fieldOptionForm={}},saveField:function(){var e=this,t=this.formFieldForm,n=t.id,i=t.type,r=t.label,s=t.defaultValue,a=t.datePattern,o=window.bpmnInstances.moddle.create("".concat(this.prefix,":FormField"),{id:n,type:i,label:r});if(s&&(o.defaultValue=s),a&&(o.datePattern=a),this.fieldPropertiesList&&this.fieldPropertiesList.length){var l=this.fieldPropertiesList.map((function(t){return window.bpmnInstances.moddle.create("".concat(e.prefix,":Property"),{id:t.id,value:t.value})}));o.properties=window.bpmnInstances.moddle.create("".concat(this.prefix,":Properties"),{values:l})}if(this.fieldConstraintsList&&this.fieldConstraintsList.length){var c=this.fieldConstraintsList.map((function(t){return window.bpmnInstances.moddle.create("".concat(e.prefix,":Constraint"),{name:t.name,config:t.config})}));o.validation=window.bpmnInstances.moddle.create("".concat(this.prefix,":Validation"),{constraints:c})}this.fieldEnumList&&this.fieldEnumList.length&&(o.values=this.fieldEnumList.map((function(t){return window.bpmnInstances.moddle.create("".concat(e.prefix,":Value"),{name:t.name,id:t.id})}))),-1===this.formFieldIndex?(this.fieldList.push(this.formFieldForm),this.formData.fields.push(o)):(this.fieldList.splice(this.formFieldIndex,1,this.formFieldForm),this.formData.fields.splice(this.formFieldIndex,1,o)),this.updateElementExtensions(),this.fieldModelVisible=!1},removeFieldOptionItem:function(e,t,n){"property"!==n?"enum"!==n?this.fieldConstraintsList.splice(t,1):this.fieldEnumList.splice(t,1):this.fieldPropertiesList.splice(t,1)},removeField:function(e,t){this.fieldList.splice(t,1),this.formData.fields.splice(t,1),this.updateElementExtensions()},updateElementExtensions:function(){var e=window.bpmnInstances.moddle.create("bpmn:ExtensionElements",{values:this.otherExtensions.concat(this.formData)});window.bpmnInstances.modeling.updateProperties(this.bpmnElement,{extensionElements:e})}}},It=Ot,Lt=Object(p["a"])(It,Ct,At,!1,null,null,null),Pt=Lt.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel-tab__content"},[n("el-table",{attrs:{data:e.elementListenersList,size:"mini",border:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"事件类型","min-width":"80px","show-overflow-tooltip":"",formatter:function(t){return e.listenerEventTypeObject[t.event]}}}),n("el-table-column",{attrs:{label:"事件id","min-width":"80px",prop:"id","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"监听器类型","min-width":"80px","show-overflow-tooltip":"",formatter:function(t){return e.listenerTypeObject[t.listenerType]}}}),n("el-table-column",{attrs:{label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openListenerForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeListener(i,r)}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.openListenerForm(null)}}},[e._v("添加监听器")])],1),n("el-drawer",{attrs:{visible:e.listenerFormModelVisible,title:"任务监听器",size:e.width+"px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.listenerFormModelVisible=t}}},[n("el-form",{ref:"listenerFormRef",attrs:{size:"mini",model:e.listenerForm,"label-width":"96px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"事件类型",prop:"event",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerForm.event,callback:function(t){e.$set(e.listenerForm,"event",t)},expression:"listenerForm.event"}},e._l(Object.keys(e.listenerEventTypeObject),(function(t){return n("el-option",{key:t,attrs:{label:e.listenerEventTypeObject[t],value:t}})})),1)],1),n("el-form-item",{attrs:{label:"监听器ID",prop:"id",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.id,callback:function(t){e.$set(e.listenerForm,"id",t)},expression:"listenerForm.id"}})],1),n("el-form-item",{attrs:{label:"监听器类型",prop:"listenerType",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerForm.listenerType,callback:function(t){e.$set(e.listenerForm,"listenerType",t)},expression:"listenerForm.listenerType"}},e._l(Object.keys(e.listenerTypeObject),(function(t){return n("el-option",{key:t,attrs:{label:e.listenerTypeObject[t],value:t}})})),1)],1),"classListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-class",attrs:{label:"Java类",prop:"class",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.class,callback:function(t){e.$set(e.listenerForm,"class",t)},expression:"listenerForm.class"}})],1):e._e(),"expressionListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-expression",attrs:{label:"表达式",prop:"expression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.expression,callback:function(t){e.$set(e.listenerForm,"expression",t)},expression:"listenerForm.expression"}})],1):e._e(),"delegateExpressionListener"===e.listenerForm.listenerType?n("el-form-item",{key:"listener-delegate",attrs:{label:"代理表达式",prop:"delegateExpression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.delegateExpression,callback:function(t){e.$set(e.listenerForm,"delegateExpression",t)},expression:"listenerForm.delegateExpression"}})],1):e._e(),"scriptListener"===e.listenerForm.listenerType?[n("el-form-item",{key:"listener-script-format",attrs:{label:"脚本格式",prop:"scriptFormat",rules:{required:!0,trigger:["blur","change"],message:"请填写脚本格式"}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.scriptFormat,callback:function(t){e.$set(e.listenerForm,"scriptFormat",t)},expression:"listenerForm.scriptFormat"}})],1),n("el-form-item",{key:"listener-script-type",attrs:{label:"脚本类型",prop:"scriptType",rules:{required:!0,trigger:["blur","change"],message:"请选择脚本类型"}}},[n("el-select",{model:{value:e.listenerForm.scriptType,callback:function(t){e.$set(e.listenerForm,"scriptType",t)},expression:"listenerForm.scriptType"}},[n("el-option",{attrs:{label:"内联脚本",value:"inlineScript"}}),n("el-option",{attrs:{label:"外部脚本",value:"externalScript"}})],1)],1),"inlineScript"===e.listenerForm.scriptType?n("el-form-item",{key:"listener-script",attrs:{label:"脚本内容",prop:"value",rules:{required:!0,trigger:["blur","change"],message:"请填写脚本内容"}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.value,callback:function(t){e.$set(e.listenerForm,"value",t)},expression:"listenerForm.value"}})],1):e._e(),"externalScript"===e.listenerForm.scriptType?n("el-form-item",{key:"listener-resource",attrs:{label:"资源地址",prop:"resource",rules:{required:!0,trigger:["blur","change"],message:"请填写资源地址"}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.resource,callback:function(t){e.$set(e.listenerForm,"resource",t)},expression:"listenerForm.resource"}})],1):e._e()]:e._e(),"timeout"===e.listenerForm.event?[n("el-form-item",{key:"eventDefinitionType",attrs:{label:"定时器类型",prop:"eventDefinitionType"}},[n("el-select",{model:{value:e.listenerForm.eventDefinitionType,callback:function(t){e.$set(e.listenerForm,"eventDefinitionType",t)},expression:"listenerForm.eventDefinitionType"}},[n("el-option",{attrs:{label:"日期",value:"date"}}),n("el-option",{attrs:{label:"持续时长",value:"duration"}}),n("el-option",{attrs:{label:"循环",value:"cycle"}}),n("el-option",{attrs:{label:"无",value:"null"}})],1)],1),e.listenerForm.eventDefinitionType&&"null"!==e.listenerForm.eventDefinitionType?n("el-form-item",{key:"eventTimeDefinitions",attrs:{label:"定时器",prop:"eventTimeDefinitions",rules:{required:!0,trigger:["blur","change"],message:"请填写定时器配置"}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerForm.eventTimeDefinitions,callback:function(t){e.$set(e.listenerForm,"eventTimeDefinitions",t)},expression:"listenerForm.eventTimeDefinitions"}})],1):e._e()]:e._e()],2),n("el-divider"),n("p",{staticClass:"listener-filed__title"},[n("span",[n("i",{staticClass:"el-icon-menu"}),e._v("注入字段：")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.openListenerFieldForm(null)}}},[e._v("添加字段")])],1),n("el-table",{staticStyle:{flex:"none"},attrs:{data:e.fieldsListOfListener,size:"mini","max-height":"240",border:"",fit:""}},[n("el-table-column",{attrs:{label:"序号",width:"50px",type:"index"}}),n("el-table-column",{attrs:{label:"字段名称","min-width":"100px",prop:"name"}}),n("el-table-column",{attrs:{label:"字段类型","min-width":"80px","show-overflow-tooltip":"",formatter:function(t){return e.fieldTypeObject[t.fieldType]}}}),n("el-table-column",{attrs:{label:"字段值/表达式","min-width":"100px","show-overflow-tooltip":"",formatter:function(e){return e.string||e.expression}}}),n("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){return e.openListenerFieldForm(i,r)}}},[e._v("编辑")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-button",{staticStyle:{color:"#ff4d4f"},attrs:{size:"mini",type:"text"},on:{click:function(t){return e.removeListenerField(i,r)}}},[e._v("移除")])]}}])})],1),n("div",{staticClass:"element-drawer__button"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.listenerFormModelVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveListenerConfig}},[e._v("保 存")])],1)],1),n("el-dialog",{attrs:{title:"字段配置",visible:e.listenerFieldFormModelVisible,width:"600px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.listenerFieldFormModelVisible=t}}},[n("el-form",{ref:"listenerFieldFormRef",staticStyle:{height:"136px"},attrs:{model:e.listenerFieldForm,size:"mini","label-width":"96px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"字段名称：",prop:"name",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.name,callback:function(t){e.$set(e.listenerFieldForm,"name",t)},expression:"listenerFieldForm.name"}})],1),n("el-form-item",{attrs:{label:"字段类型：",prop:"fieldType",rules:{required:!0,trigger:["blur","change"]}}},[n("el-select",{model:{value:e.listenerFieldForm.fieldType,callback:function(t){e.$set(e.listenerFieldForm,"fieldType",t)},expression:"listenerFieldForm.fieldType"}},e._l(Object.keys(e.fieldTypeObject),(function(t){return n("el-option",{key:t,attrs:{label:e.fieldTypeObject[t],value:t}})})),1)],1),"string"===e.listenerFieldForm.fieldType?n("el-form-item",{key:"field-string",attrs:{label:"字段值：",prop:"string",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.string,callback:function(t){e.$set(e.listenerFieldForm,"string",t)},expression:"listenerFieldForm.string"}})],1):e._e(),"expression"===e.listenerFieldForm.fieldType?n("el-form-item",{key:"field-expression",attrs:{label:"表达式：",prop:"expression",rules:{required:!0,trigger:["blur","change"]}}},[n("el-input",{attrs:{clearable:""},model:{value:e.listenerFieldForm.expression,callback:function(t){e.$set(e.listenerFieldForm,"expression",t)},expression:"listenerFieldForm.expression"}})],1):e._e()],1),n("template",{slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.listenerFieldFormModelVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveListenerFiled}},[e._v("确 定")])],1)],2)],1)},Bt=[];function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Mt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mt=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function p(e,t,n,i){var s=t&&t.prototype instanceof h?t:h,a=Object.create(s.prototype),o=new O(i||[]);return r(a,"_invoke",{value:k(e,n,o)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var u="suspendedStart",d="suspendedYield",f="executing",b="completed",y={};function h(){}function v(){}function g(){}var S={};c(S,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(I([])));E&&E!==n&&i.call(E,a)&&(S=E);var x=g.prototype=h.prototype=Object.create(S);function F(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(r,s,a,o){var l=m(e[r],e,s);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==Ut(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,o)}))}o(l.arg)}var s;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return s=s?s.then(r,r):r()}})}function k(t,n,i){var r=u;return function(s,a){if(r===f)throw Error("Generator is already running");if(r===b){if("throw"===s)throw a;return{value:e,done:!0}}for(i.method=s,i.arg=a;;){var o=i.delegate;if(o){var l=T(o,i);if(l){if(l===y)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===u)throw r=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=m(t,n,i);if("normal"===c.type){if(r=i.done?b:d,c.arg===y)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=b,i.method="throw",i.arg=c.arg)}}}function T(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var s=m(r,t.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,y;var a=s.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError(Ut(t)+" is not iterable")}return v.prototype=g,r(x,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},F(j.prototype),c(j.prototype,o,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,i,r,s){void 0===s&&(s=Promise);var a=new j(p(e,n,i,r),s);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},F(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return o.type="throw",o.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function Dt(e,t,n,i,r,s,a){try{var o=e[s](a),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)}function Vt(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){Dt(s,i,r,a,o,"next",e)}function o(e){Dt(s,i,r,a,o,"throw",e)}a(void 0)}))}}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t,n){return(t=Nt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e){var t=Rt(e,"string");return"symbol"==Ut(t)?t:t+""}function Rt(e,t){if("object"!=Ut(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ut(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Kt={name:"UserTaskListeners",props:{id:String,type:String},inject:{prefix:"prefix",width:"width"},data:function(){return{elementListenersList:[],listenerEventTypeObject:ot,listenerTypeObject:at,listenerFormModelVisible:!1,listenerForm:{},fieldTypeObject:lt,fieldsListOfListener:[],listenerFieldFormModelVisible:!1,editingListenerIndex:-1,editingListenerFieldIndex:-1,listenerFieldForm:{}}},watch:{id:{immediate:!0,handler:function(e){var t=this;e&&e.length&&this.$nextTick((function(){return t.resetListenersList()}))}}},methods:{resetListenersList:function(){var e=this;this.bpmnElement=window.bpmnInstances.bpmnElement,this.bpmnElementListeners=this.bpmnElement.businessObject&&this.bpmnElement.businessObject.extensionElements&&this.bpmnElement.businessObject.extensionElements.values?this.bpmnElement.businessObject.extensionElements.values.filter((function(t){return t.$type==="".concat(e.prefix,":TaskListener")})):[],this.elementListenersList=this.bpmnElementListeners.map((function(e){return st(e)})),this.otherExtensionList=this.bpmnElement.businessObject&&this.bpmnElement.businessObject.extensionElements&&this.bpmnElement.businessObject.extensionElements.values?this.bpmnElement.businessObject.extensionElements.values.filter((function(t){return!e.elementListenersList.includes(t)})):[]},openListenerForm:function(e,t){var n=this;e?(this.listenerForm=rt(e),this.editingListenerIndex=t):(this.listenerForm={},this.editingListenerIndex=-1),e&&e.fields?this.fieldsListOfListener=e.fields.map((function(e){return zt(zt({},e),{},{fieldType:e.string?"string":"expression"})})):(this.fieldsListOfListener=[],this.$set(this.listenerForm,"fields",[])),this.listenerFormModelVisible=!0,this.$nextTick((function(){n.$refs["listenerFormRef"]&&n.$refs["listenerFormRef"].clearValidate()}))},removeListener:function(e,t){var n=this;this.$confirm({title:"提示",zIndex:9999,content:"确认移除该监听器吗？",okText:"确 认",cancelText:"取 消",onOk:function(){n.bpmnElementListeners.splice(t,1),n.elementListenersList.splice(t,1),We(n.bpmnElement,n.otherExtensionList.concat(n.bpmnElementListeners))}})},saveListenerConfig:function(){var e=Vt(Mt().mark((function e(){var t,n,i=this;return Mt().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["listenerFormRef"].validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:n=Ge(this.listenerForm,!0,this.prefix),-1===this.editingListenerIndex?(this.bpmnElementListeners.push(n),this.elementListenersList.push(this.listenerForm)):(this.bpmnElementListeners.splice(this.editingListenerIndex,1,n),this.elementListenersList.splice(this.editingListenerIndex,1,this.listenerForm)),this.otherExtensionList=this.bpmnElement.businessObject.extensionElements.values.filter((function(e){return e.$type!=="".concat(i.prefix,":TaskListener")}))||[],We(this.bpmnElement,this.otherExtensionList.concat(this.bpmnElementListeners)),this.listenerFormModelVisible=!1,this.listenerForm={};case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openListenerFieldForm:function(e,t){var n=this;this.listenerFieldForm=e?JSON.parse(JSON.stringify(e)):{},this.editingListenerFieldIndex=e?t:-1,this.listenerFieldFormModelVisible=!0,this.$nextTick((function(){n.$refs["listenerFieldFormRef"]&&n.$refs["listenerFieldFormRef"].clearValidate()}))},saveListenerFiled:function(){var e=Vt(Mt().mark((function e(){var t,n=this;return Mt().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["listenerFieldFormRef"].validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:-1===this.editingListenerFieldIndex?(this.fieldsListOfListener.push(this.listenerFieldForm),this.listenerForm.fields.push(this.listenerFieldForm)):(this.fieldsListOfListener.splice(this.editingListenerFieldIndex,1,this.listenerFieldForm),this.listenerForm.fields.splice(this.editingListenerFieldIndex,1,this.listenerFieldForm)),this.listenerFieldFormModelVisible=!1,this.$nextTick((function(){return n.listenerFieldForm={}})),this.$emit("refresh");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeListenerField:function(e,t){var n=this;this.$confirm({title:"提示",content:"确认移除该字段吗？",okText:"确 认",zIndex:9999,cancelText:"取 消",onOk:function(){n.fieldsListOfListener.splice(t,1),n.listenerForm.fields.splice(t,1),n.$emit("refresh")}})}}},Jt=Kt,Gt=Object(p["a"])(Jt,_t,Bt,!1,null,null,null),qt=Gt.exports,Xt=n("2ed5"),Wt={name:"MyPropertiesPanel",components:{UserTaskListeners:qt,ElementForm:Pt,ElementProperties:Tt,ElementListeners:wt,SignalAndMassage:$e,FlowCondition:Ce,ElementMultiInstance:ye,ElementTask:re,ElementOtherConfig:T,ElementBaseInfo:w},componentName:"MyPropertiesPanel",props:{bpmnModeler:Object,prefix:{type:String,default:"camunda"},width:{type:Number,default:480},idEditDisabled:{type:Boolean,default:!1},xmlString:{type:String,default:function(){return""}}},provide:function(){return{prefix:this.prefix,width:this.width}},data:function(){return{activeTab:"base",elementId:"",elementType:"",elementBusinessObject:{},conditionFormVisible:!1,formVisible:!1}},watch:{elementId:{handler:function(){this.activeTab="base"}}},created:function(){this.initModels()},methods:{refresh:function(){this.$refs.elementListeners&&this.$refs.elementListeners.resetListenersList(),this.$refs.userTaskListeners&&this.$refs.userTaskListeners.resetListenersList(),this.$refs.elementProperties&&this.$refs.elementProperties.resetAttributesList()},initModels:function(){var e=this;this.bpmnModeler?(this.timer&&clearTimeout(this.timer),window.bpmnInstances={modeler:this.bpmnModeler,modeling:this.bpmnModeler.get("modeling"),moddle:this.bpmnModeler.get("moddle"),eventBus:this.bpmnModeler.get("eventBus"),bpmnFactory:this.bpmnModeler.get("bpmnFactory"),elementFactory:this.bpmnModeler.get("elementFactory"),elementRegistry:this.bpmnModeler.get("elementRegistry"),replace:this.bpmnModeler.get("replace"),selection:this.bpmnModeler.get("selection")},this.getActiveElement()):this.timer=setTimeout((function(){return e.initModels()}),10)},getActiveElement:function(){var e=this;this.initFormOnChanged(null),this.bpmnModeler.on("import.done",(function(t){e.initFormOnChanged(null)})),this.bpmnModeler.on("selection.changed",(function(t){var n=t.newSelection;e.initFormOnChanged(n[0]||null)})),this.bpmnModeler.on("element.changed",(function(t){var n=t.element;n&&n.id===e.elementId&&e.initFormOnChanged(n)}))},initFormOnChanged:function(e){var t=e;t||(t=window.bpmnInstances.elementRegistry.find((function(e){return"bpmn:Process"===e.type}))||window.bpmnInstances.elementRegistry.find((function(e){return"bpmn:Collaboration"===e.type}))),t&&(Xt["a"].printBack("select element changed: id: ".concat(t.id," , type: ").concat(t.businessObject.$type)),Xt["a"].prettyInfo("businessObject",t.businessObject),window.bpmnInstances.bpmnElement=t,this.bpmnElement=t,this.elementId=t.id,this.elementType=t.type.split(":")[1]||"",this.elementBusinessObject=JSON.parse(JSON.stringify(t.businessObject)),this.conditionFormVisible=!("SequenceFlow"!==this.elementType||!t.source||-1!==t.source.type.indexOf("StartEvent")),this.formVisible="UserTask"===this.elementType||"StartEvent"===this.elementType)},beforeDestroy:function(){window.bpmnInstances=null}}},Zt=Wt,Yt=Object(p["a"])(Zt,f,b,!1,null,null,null),Qt=Yt.exports;Qt.install=function(e){e.component(Qt.name,Qt)};var en=Qt;function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return(t=an(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e){var t=on(e,"string");return"symbol"==tn(t)?t:t+""}function on(e,t){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=tn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ln=[r,en,d],cn=function(e){ln.forEach((function(t){e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&cn(window.Vue);t["a"]=rn({version:"0.0.1",install:cn},ln)},"3fbc":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-process-designer"},[n("div",{staticClass:"my-process-designer__header"},[e._t("control-header"),e.$slots["control-header"]?e._e():[n("el-button-group",{key:"file-control"},[n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-edit-outline"},on:{click:e.release}},[e._v("发布")]),n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-edit-outline"},on:{click:e.saveXml}},[e._v("保存")]),n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-folder-opened"},on:{click:function(t){return e.$refs.refFile.click()}}},[e._v("打开文件")]),n("el-tooltip",{attrs:{effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:function(t){return e.downloadProcessAsXml()}}},[e._v("下载为XML文件")]),n("br"),n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:function(t){return e.downloadProcessAsSvg()}}},[e._v("下载为SVG文件")]),n("br"),n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:function(t){return e.downloadProcessAsBpmn()}}},[e._v("下载为BPMN文件")])],1),n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-download"}},[e._v("下载文件")])],1),n("el-tooltip",{attrs:{effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("el-button",{attrs:{size:e.headerButtonSize,type:"text"},on:{click:e.previewProcessXML}},[e._v("预览XML")])],1),n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-view"}},[e._v("预览源码")])],1),e.simulation?n("el-tooltip",{attrs:{effect:"light",content:this.simulationStatus?"退出模拟":"开启模拟"}},[n("el-button",{attrs:{size:e.headerButtonSize,type:e.headerButtonType,icon:"el-icon-cpu"},on:{click:e.processSimulation}},[e._v("\n            模拟\n          ")])],1):e._e()],1),n("el-button-group",{key:"align-control"},[n("el-tooltip",{attrs:{effect:"light",content:"向左对齐"}},[n("el-button",{staticClass:"align align-left",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("left")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"向右对齐"}},[n("el-button",{staticClass:"align align-right",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("right")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"向上对齐"}},[n("el-button",{staticClass:"align align-top",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("top")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"向下对齐"}},[n("el-button",{staticClass:"align align-bottom",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("bottom")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"水平居中"}},[n("el-button",{staticClass:"align align-center",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("center")}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"垂直居中"}},[n("el-button",{staticClass:"align align-middle",attrs:{size:e.headerButtonSize,icon:"el-icon-s-data"},on:{click:function(t){return e.elementsAlign("middle")}}})],1)],1),n("el-button-group",{key:"scale-control"},[n("el-tooltip",{attrs:{effect:"light",content:"缩小视图"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:e.defaultZoom<.2,icon:"el-icon-zoom-out"},on:{click:function(t){return e.processZoomOut()}}})],1),n("el-button",{attrs:{size:e.headerButtonSize}},[e._v(e._s(Math.floor(10*this.defaultZoom*10)+"%"))]),n("el-tooltip",{attrs:{effect:"light",content:"放大视图"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:e.defaultZoom>4,icon:"el-icon-zoom-in"},on:{click:function(t){return e.processZoomIn()}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"重置视图并居中"}},[n("el-button",{attrs:{size:e.headerButtonSize,icon:"el-icon-c-scale-to-original"},on:{click:function(t){return e.processReZoom()}}})],1)],1),n("el-button-group",{key:"stack-control"},[n("el-tooltip",{attrs:{effect:"light",content:"撤销"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:!e.revocable,icon:"el-icon-refresh-left"},on:{click:function(t){return e.processUndo()}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"恢复"}},[n("el-button",{attrs:{size:e.headerButtonSize,disabled:!e.recoverable,icon:"el-icon-refresh-right"},on:{click:function(t){return e.processRedo()}}})],1),n("el-tooltip",{attrs:{effect:"light",content:"重新绘制"}},[n("el-button",{attrs:{size:e.headerButtonSize,icon:"el-icon-refresh"},on:{click:e.processRestart}})],1)],1)],n("input",{ref:"refFile",staticStyle:{display:"none"},attrs:{type:"file",id:"files",accept:".xml, .bpmn"},on:{change:e.importLocalFile}})],2),n("div",{staticClass:"my-process-designer__container"},[n("div",{ref:"bpmn-canvas",staticClass:"my-process-designer__canvas"})]),n("el-dialog",{attrs:{title:"预览",width:"60%",visible:e.previewModelVisible,"append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.previewModelVisible=t}}},[n("highlightjs",{attrs:{language:e.previewType,code:e.previewResult}})],1)],1)},r=[],s=n("7024"),a=function(e,t,n){n||(n="camunda");var i={activiti:"http://activiti.org/bpmn",camunda:"http://bpmn.io/schema/bpmn",flowable:"http://flowable.org/bpmn"};return'<?xml version="1.0" encoding="UTF-8"?>\n<bpmn2:definitions \n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xmlns:xsd="http://www.w3.org/2001/XMLSchema"\n  xmlns:activiti="http://activiti.org/bpmn"\n  expressionLanguage="http://www.w3.org/1999/XPath" \n  xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL"\n  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"\n  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"\n  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"\n  id="diagram_'.concat(e,'"\n  typeLanguage="http://www.w3.org/2001/XMLSchema" \n  targetNamespace="').concat(i[n],'">\n  <bpmn2:process id="').concat(e,'" name="').concat(t,'" isExecutable="true">\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="').concat(e,'">\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>')};function o(e){return function(t,n){return n=n||{},t=e[t]||t,t.replace(/{([^}]+)}/g,(function(t,i){var r=n[i];return null!==e[n[i]]&&void 0!==e[n[i]]&&(r=e[n[i]]),r||"{"+i+"}"}))}}var l={"Append EndEvent":"追加结束事件","Append Gateway":"追加网关","Append Task":"追加任务","Append Intermediate/Boundary Event":"追加中间抛出事件/边界事件","Activate the global connect tool":"激活全局连接工具","Append {type}":"添加 {type}","Add Lane above":"在上面添加道","Divide into two Lanes":"分割成两个道","Divide into three Lanes":"分割成三个道","Add Lane below":"在下面添加道","Append compensation activity":"追加补偿活动","Change type":"修改类型","Connect using Association":"使用关联连接","Connect using Sequence/MessageFlow or Association":"使用顺序/消息流或者关联连接","Connect using DataInputAssociation":"使用数据输入关联连接",Remove:"移除","Activate the hand tool":"激活抓手工具","Activate the lasso tool":"激活套索工具","Activate the create/remove space tool":"激活创建/删除空间工具","Create expanded SubProcess":"创建扩展子过程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出事件/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多重事件","Sequential Multi Instance":"时序多重事件",DataObjectReference:"数据对象参考",DataStoreReference:"数据存储参考",Loop:"循环","Ad-hoc":"即席","Create {type}":"创建 {type}",Task:"任务","Send Task":"发送任务","Receive Task":"接收任务","User Task":"用户任务","Manual Task":"手工任务","Business Rule Task":"业务规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"调用活动","Sub Process (collapsed)":"子流程（折叠的）","Sub Process (expanded)":"子流程（展开的）","Start Event":"开始事件",StartEvent:"开始事件","Intermediate Throw Event":"中间事件","End Event":"结束事件",EndEvent:"结束事件","Create StartEvent":"创建开始事件","Create EndEvent":"创建结束事件","Create Task":"创建任务","Create User Task":"创建用户任务","Create Gateway":"创建网关","Create DataObjectReference":"创建数据对象","Create DataStoreReference":"创建数据存储","Create Group":"创建分组","Create Intermediate/Boundary Event":"创建中间/边界事件","Message Start Event":"消息开始事件","Timer Start Event":"定时开始事件","Conditional Start Event":"条件开始事件","Signal Start Event":"信号开始事件","Error Start Event":"错误开始事件","Escalation Start Event":"升级开始事件","Compensation Start Event":"补偿开始事件","Message Start Event (non-interrupting)":"消息开始事件（非中断）","Timer Start Event (non-interrupting)":"定时开始事件（非中断）","Conditional Start Event (non-interrupting)":"条件开始事件（非中断）","Signal Start Event (non-interrupting)":"信号开始事件（非中断）","Escalation Start Event (non-interrupting)":"升级开始事件（非中断）","Message Intermediate Catch Event":"消息中间捕获事件","Message Intermediate Throw Event":"消息中间抛出事件","Timer Intermediate Catch Event":"定时中间捕获事件","Escalation Intermediate Throw Event":"升级中间抛出事件","Conditional Intermediate Catch Event":"条件中间捕获事件","Link Intermediate Catch Event":"链接中间捕获事件","Link Intermediate Throw Event":"链接中间抛出事件","Compensation Intermediate Throw Event":"补偿中间抛出事件","Signal Intermediate Catch Event":"信号中间捕获事件","Signal Intermediate Throw Event":"信号中间抛出事件","Message End Event":"消息结束事件","Escalation End Event":"定时结束事件","Error End Event":"错误结束事件","Cancel End Event":"取消结束事件","Compensation End Event":"补偿结束事件","Signal End Event":"信号结束事件","Terminate End Event":"终止结束事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件（非中断）","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件（非中断）","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件（非中断）","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件（非中断）","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件（非中断）","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"互斥网关","Parallel Gateway":"并行网关","Inclusive Gateway":"相容网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"转运","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在{parent}里，{element}没有父类","no shape type specified":"没有指定的形状类型","flow elements must be children of pools/participants":"流元素必须是池/参与者的子类","out of bounds release":"out of bounds release","more than {count} child lanes":"子道大于{count} ","element required":"元素不能为空","diagram not part of bpmn:Definitions":"流程图不符合bpmn规范","no diagram to display":"没有可展示的流程图","no process or collaboration to display":"没有可展示的流程/协作","element {element} referenced by {referenced}#{property} not yet drawn":"由{referenced}#{property}引用的{element}元素仍未绘制","already rendered {element}":"{element} 已被渲染","failed to import {element}":"导入{element}失败",Id:"编号",Name:"名称",General:"常规",Details:"详情","Message Name":"消息名称",Message:"消息",Initiator:"创建者","Asynchronous Continuations":"持续异步","Asynchronous Before":"异步前","Asynchronous After":"异步后","Job Configuration":"工作配置",Exclusive:"排除","Job Priority":"工作优先级","Retry Time Cycle":"重试时间周期",Documentation:"文档","Element Documentation":"元素文档","History Configuration":"历史配置","History Time To Live":"历史的生存时间",Forms:"表单","Form Key":"表单key","Form Fields":"表单字段","Business Key":"业务key","Form Field":"表单字段",ID:"编号",Type:"类型",Label:"名称","Default Value":"默认值","Default Flow":"默认流转路径","Conditional Flow":"条件流转路径","Sequence Flow":"普通流转路径",Validation:"校验","Add Constraint":"添加约束",Config:"配置",Properties:"属性","Add Property":"添加属性",Value:"值",Listeners:"监听器","Execution Listener":"执行监听","Event Type":"事件类型","Listener Type":"监听器类型","Java Class":"Java类",Expression:"表达式","Must provide a value":"必须提供一个值","Delegate Expression":"代理表达式",Script:"脚本","Script Format":"脚本格式","Script Type":"脚本类型","Inline Script":"内联脚本","External Script":"外部脚本",Resource:"资源","Field Injection":"字段注入",Extensions:"扩展","Input/Output":"输入/输出","Input Parameters":"输入参数","Output Parameters":"输出参数",Parameters:"参数","Output Parameter":"输出参数","Timer Definition Type":"定时器定义类型","Timer Definition":"定时器定义",Date:"日期",Duration:"持续",Cycle:"循环",Signal:"信号","Signal Name":"信号名称",Escalation:"升级",Error:"错误","Link Name":"链接名称",Condition:"条件名称","Variable Name":"变量名称","Variable Event":"变量事件","Specify more than one variable change event as a comma separated list.":"多个变量事件以逗号隔开","Wait for Completion":"等待完成","Activity Ref":"活动参考","Version Tag":"版本标签",Executable:"可执行文件","External Task Configuration":"扩展任务配置","Task Priority":"任务优先级",External:"外部",Connector:"连接器","Must configure Connector":"必须配置连接器","Connector Id":"连接器编号",Implementation:"实现方式","Field Injections":"字段注入",Fields:"字段","Result Variable":"结果变量",Topic:"主题","Configure Connector":"配置连接器","Input Parameter":"输入参数",Assignee:"代理人","Candidate Users":"候选用户","Candidate Groups":"候选组","Due Date":"到期时间","Follow Up Date":"跟踪日期",Priority:"优先级","The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00","The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00",Variables:"变量","Candidate Starter Configuration":"候选人起动器配置","Candidate Starter Groups":"候选人起动器组","This maps to the process definition key.":"这映射到流程定义键。","Candidate Starter Users":"候选人起动器的用户","Specify more than one user as a comma separated list.":"指定多个用户作为逗号分隔的列表。","Tasklist Configuration":"Tasklist配置",Startable:"启动","Specify more than one group as a comma separated list.":"指定多个组作为逗号分隔的列表。"},c=n("3bf7"),p=n.n(c),m=n("fe15d"),u=n("1741"),d=n("32e8"),f=n("12b3"),b=n.n(f),y=n("1be4"),h=n.n(y),v=n("e71e"),g=n.n(v),S=n("98fc"),w=n.n(S),E=n("3dfe");function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function F(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */F=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function p(e,t,n,i){var s=t&&t.prototype instanceof h?t:h,a=Object.create(s.prototype),o=new L(i||[]);return r(a,"_invoke",{value:C(e,n,o)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var u="suspendedStart",d="suspendedYield",f="executing",b="completed",y={};function h(){}function v(){}function g(){}var S={};c(S,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(P([])));E&&E!==n&&i.call(E,a)&&(S=E);var j=g.prototype=h.prototype=Object.create(S);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(r,s,a,o){var l=m(e[r],e,s);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==x(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,o)}))}o(l.arg)}var s;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return s=s?s.then(r,r):r()}})}function C(t,n,i){var r=u;return function(s,a){if(r===f)throw Error("Generator is already running");if(r===b){if("throw"===s)throw a;return{value:e,done:!0}}for(i.method=s,i.arg=a;;){var o=i.delegate;if(o){var l=A(o,i);if(l){if(l===y)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===u)throw r=b,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var c=m(t,n,i);if("normal"===c.type){if(r=i.done?b:d,c.arg===y)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=b,i.method="throw",i.arg=c.arg)}}}function A(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var s=m(r,t.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,y;var a=s.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError(x(t)+" is not iterable")}return v.prototype=g,r(j,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},k(T.prototype),c(T.prototype,o,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,s){void 0===s&&(s=Promise);var a=new T(p(e,n,i,r),s);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(j),c(j,l,"Generator"),c(j,a,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return o.type="throw",o.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:P(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function j(e,t,n,i,r,s,a){try{var o=e[s](a),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){j(s,i,r,a,o,"next",e)}function o(e){j(s,i,r,a,o,"throw",e)}a(void 0)}))}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=I(e,"string");return"symbol"==x(t)?t:t+""}function I(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=x(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function L(e){return U(e)||B(e)||_(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function B(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function U(e){if(Array.isArray(e))return M(e)}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var D={name:"MyProcessDesigner",componentName:"MyProcessDesigner",components:{EditModal:E["default"]},props:{value:String,processId:String,processName:String,translations:Object,options:{type:Object,default:function(){return{}}},additionalModel:[Object,Array],moddleExtension:Object,onlyCustomizeAddi:{type:Boolean,default:!1},onlyCustomizeModdle:{type:Boolean,default:!1},simulation:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},prefix:{type:String,default:"camunda"},modelId:{type:String,default:""},events:{type:Array,default:function(){return["element.click"]}},headerButtonSize:{type:String,default:"small",validator:function(e){return-1!==["default","medium","small","mini"].indexOf(e)}},headerButtonType:{type:String,default:"primary",validator:function(e){return-1!==["default","primary","success","warning","danger","info"].indexOf(e)}}},data:function(){return{defaultZoom:1,previewModelVisible:!1,simulationStatus:!1,previewResult:"",previewType:"xml",recoverable:!1,revocable:!1,visible:!1,svgXml:""}},computed:{additionalModules:function(){var e=[];if(this.onlyCustomizeAddi)return"[object Array]"===Object.prototype.toString.call(this.additionalModel)?this.additionalModel||[]:[this.additionalModel];"[object Array]"===Object.prototype.toString.call(this.additionalModel)?e.push.apply(e,L(this.additionalModel)):this.additionalModel&&e.push(this.additionalModel);var t={translate:["value",o(this.translations||l)]};return e.push(t),this.simulation&&e.push(p.a),"camunda"===this.prefix&&e.push(b.a),"flowable"===this.prefix&&e.push(g.a),"activiti"===this.prefix&&e.push(h.a),e},moddleExtensions:function(){var e={};if(this.onlyCustomizeModdle)return this.moddleExtension||null;if(this.moddleExtension)for(var t in this.moddleExtension)e[t]=this.moddleExtension[t];return"activiti"===this.prefix&&(e.activiti=u),"flowable"===this.prefix&&(e.flowable=d),"camunda"===this.prefix&&(e.camunda=m),e}},mounted:function(){var e=this;this.initBpmnModeler(),this.createNewDiagram(this.value),this.$once("hook:beforeDestroy",(function(){e.bpmnModeler&&e.bpmnModeler.destroy(),e.$emit("destroy",e.bpmnModeler),e.bpmnModeler=null,window.xmlString=""}))},methods:{handleCancel:function(){this.visible=!1,window.xmlString=""},saveXml:function(){this.$emit("saveXml")},release:function(){this.$emit("release")},initBpmnModeler:function(){this.bpmnModeler||(this.bpmnModeler=new s["a"](C({container:this.$refs["bpmn-canvas"],keyboard:this.keyboard?{bindTo:document}:null,additionalModules:this.additionalModules,moddleExtensions:this.moddleExtensions},this.options)),this.$emit("init-finished",this.bpmnModeler),this.initModelListeners())},initModelListeners:function(){var e=this,t=this.bpmnModeler.get("eventBus"),n=this;this.events.forEach((function(e){t.on(e,(function(t){var i=e.replace(/\./g,"-"),r=t?t.element:null;n.$emit(i,r,t)}))})),t.on("commandStack.changed",function(){var t=k(F().mark((function t(n){var i,r;return F().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.recoverable=e.bpmnModeler.get("commandStack").canRedo(),e.revocable=e.bpmnModeler.get("commandStack").canUndo(),t.next=5,e.bpmnModeler.saveXML({format:!0});case 5:i=t.sent,r=i.xml,e.$emit("commandStack-changed",n),e.$emit("input",r),e.$emit("change",r),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()),this.bpmnModeler.on("canvas.viewbox.changed",(function(t){var n=t.viewbox;e.$emit("canvas-viewbox-changed",{viewbox:n});var i=n.scale;e.defaultZoom=Math.floor(100*i)/100}))},createNewDiagram:function(){var e=k(F().mark((function e(t){var n,i,r,s,o;return F().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.processId||"Process_".concat((new Date).getTime()),i=this.processName||"业务流程_".concat((new Date).getTime()),r=t||a(n,i,this.prefix),window.xmlString=r,e.prev=4,e.next=7,this.bpmnModeler.importXML(r);case 7:s=e.sent,o=s.warnings,o&&o.length&&o.forEach((function(e){})),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4);case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));function t(t){return e.apply(this,arguments)}return t}(),downloadProcess:function(){var e=k(F().mark((function e(t,n){var i,r,s,a,o,l,c,p,m,u,d,f,b;return F().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(b=function(e,t){if(e&&t){var n=document.createElement("a");n.download=t,n.href=e,n.click(),URL.revokeObjectURL(n.href)}},e.prev=1,i=this,"xml"!==t&&"bpmn"!==t){e.next=14;break}return e.next=6,this.bpmnModeler.saveXML();case 6:r=e.sent,r.err,s=r.xml,a=i.setEncoded(t.toUpperCase(),n,s),o=a.href,l=a.filename,b(o,l),e.next=24;break;case 14:return e.next=16,this.bpmnModeler.saveSVG();case 16:if(c=e.sent,p=c.err,m=c.svg,!p){e.next=21;break}return e.abrupt("return",void 0);case 21:u=i.setEncoded("SVG",n,m),d=u.href,f=u.filename,this.svgXml=m,b(d,f);case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](1);case 29:case"end":return e.stop()}}),e,this,[[1,26]])})));function t(t,n){return e.apply(this,arguments)}return t}(),setEncoded:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"diagram",n=arguments.length>2?arguments[2]:void 0,i=encodeURIComponent(n);return{filename:"".concat(t,".").concat(e),href:"data:application/".concat("svg"===e?"text/xml":"bpmn20-xml",";charset=UTF-8,").concat(i),data:n}},importLocalFile:function(){var e=this,t=this.$refs.refFile.files[0],n=new FileReader;n.readAsText(t),n.onload=function(){var t=this.result;e.createNewDiagram(t)}},downloadProcessAsXml:function(){this.downloadProcess("xml")},downloadProcessAsBpmn:function(){this.downloadProcess("bpmn")},downloadProcessAsSvg:function(){this.downloadProcess("svg")},processSimulation:function(){this.simulationStatus=!this.simulationStatus,this.simulation&&this.bpmnModeler.get("toggleMode").toggleMode()},processRedo:function(){this.bpmnModeler.get("commandStack").redo()},processUndo:function(){this.bpmnModeler.get("commandStack").undo()},processZoomIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=Math.floor(100*this.defaultZoom+100*e)/100;if(t>4)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be greater than 4");this.defaultZoom=t,this.bpmnModeler.get("canvas").zoom(this.defaultZoom)},processZoomOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=Math.floor(100*this.defaultZoom-100*e)/100;if(t<.2)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be less than 0.2");this.defaultZoom=t,this.bpmnModeler.get("canvas").zoom(this.defaultZoom)},processZoomTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<.2)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be less than 0.2");if(e>4)throw new Error("[Process Designer Warn ]: The zoom ratio cannot be greater than 4");this.defaultZoom=e,this.bpmnModeler.get("canvas").zoom(e)},processReZoom:function(){this.defaultZoom=1,this.bpmnModeler.get("canvas").zoom("fit-viewport","auto")},processRestart:function(){this.recoverable=!1,this.revocable=!1,this.createNewDiagram(null)},elementsAlign:function(e){var t=this.bpmnModeler.get("alignElements"),n=this.bpmnModeler.get("selection"),i=n.get();!i||i.length<=1?this.$message.warning("请按住 Ctrl 键选择多个元素对齐"):this.$confirm({title:"提示",content:"自动对齐可能造成图形变形，是否继续？",okText:"确 认",cancelText:"取 消",onOk:function(){t.trigger(i,e)}})},previewProcessXML:function(){var e=this;this.bpmnModeler.saveXML({format:!0}).then((function(t){var n=t.xml;e.previewResult=n,e.previewType="xml",e.previewModelVisible=!0}))},previewProcessJson:function(){var e=this,t=new w.a;this.bpmnModeler.saveXML({format:!0}).then((function(n){var i=n.xml,r=t.xml2js(i),s=r.definitions;e.previewResult=s?JSON.stringify(s,null,4):"",e.previewType="json",e.previewModelVisible=!0}))},getJson:function(){}}},V=D,$=n("2877"),z=Object($["a"])(V,i,r,!1,null,null,null);t["default"]=z.exports},4:function(e,t){},4678:function(e,t,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356c","./ar-dz.js":"a356c","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc10","./be.js":"1fc10","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b4695","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b4695","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d1","./km.js":"e81d1","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b2","./mi.js":"688b2","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return n(t)}function s(e){var t=i[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id="4678"},"4c0a":function(e,t,n){},5:function(e,t){},6:function(e,t){},6687:function(e,t,n){},7:function(e,t){},8:function(e,t,n){e.exports=n("56d7")},"8b30":function(e,t,n){"use strict";var i=n("87f2").isFunction,r=n("87f2").isObject,s=n("87f2").some,a="*";function o(e){var t=this;e.on("moddleCopy.canCopyProperty",(function(e){var n=e.property,i=e.parent;return t.canCopyProperty(n,i)}))}function l(e,t){return e&&i(e.$instanceOf)&&e.$instanceOf(t)}function c(e,t){return s(t,(function(t){return l(e,t)}))}function p(e,t){return t?l(e,t)?e:e.$parent?p(e.$parent,t):void 0:e.$parent}function m(e,t){var n=e.$type&&e.$model.getTypeDescriptor(e.$type),i=n&&n.meta&&n.meta.allowedIn;return!(i&&!u(i))||s(i,(function(e){return p(t,e)}))}function u(e){return-1!==e.indexOf(a)}o.$inject=["eventBus"],o.prototype.canCopyProperty=function(e,t){return!(r(e)&&!m(e,t))&&(!(l(e,"camunda:InputOutput")&&!this.canHostInputOutput(t))&&(!(c(e,["camunda:Connector","camunda:Field"])&&!this.canHostConnector(t))&&(!(l(e,"camunda:In")&&!this.canHostIn(t))&&void 0)))},o.prototype.canHostInputOutput=function(e){var t=p(e,"camunda:Connector");if(t)return!0;var n=p(e,"bpmn:FlowNode");return!!n&&(!c(n,["bpmn:StartEvent","bpmn:Gateway","bpmn:BoundaryEvent"])&&(!l(n,"bpmn:SubProcess")||!n.get("triggeredByEvent")))},o.prototype.canHostConnector=function(e){var t=p(e,"camunda:ServiceTaskLike");return!l(t,"bpmn:MessageEventDefinition")||(p(e,"bpmn:IntermediateThrowEvent")||p(e,"bpmn:EndEvent"))},o.prototype.canHostIn=function(e){var t=p(e,"bpmn:CallActivity");if(t)return!0;var n=p(e,"bpmn:SignalEventDefinition");return!n||(p(e,"bpmn:IntermediateThrowEvent")||p(e,"bpmn:EndEvent"))},e.exports=o},9099:function(e,t,n){"use strict";var i=n("87f2"),r=n("7a6b"),s=n("dbc8"),a=n("145d"),o=n("cf0a"),l=n("78f9");function c(e,t,n,i,r,s,a,o,c,p,m,u,d){e=e||{},i.registerProvider(this),this._contextPad=i,this._modeling=r,this._elementFactory=s,this._connect=a,this._create=o,this._popupMenu=c,this._canvas=p,this._rules=m,this._translate=u,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context,n=t.shape;if(Object(l["a"])(e)&&i.isOpen(n)){var r=i.getEntries(n);r.replace&&r.replace.action.click(e,n)}}))}function p(e,t,n){var r=e.$instanceOf(t),s=!1,a=e.eventDefinitions||[];return Object(i["forEach"])(a,(function(e){e.$type===n&&(s=!0)})),r&&s}c.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","elementRegistry"],c.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,l=this._elementFactory,c=this._connect,m=this._create,u=this._popupMenu,d=this._canvas,f=this._rules,b=this._autoPlace,y=this._translate,h={};if("label"===e.type)return h;var v=e.businessObject;function g(e,t){c.start(e,t)}function S(){n.removeElements([e])}function w(e){var n=5,i=d.getContainer(),r=t.getPad(e).html,s=i.getBoundingClientRect(),a=r.getBoundingClientRect(),o=a.top-s.top,l=a.left-s.left,c={x:l,y:o+a.height+n};return c}function E(e,t,n,r){function s(t,n){var s=l.createShape(Object(i["assign"])({type:e},r));m.start(t,s,{source:n})}"string"!==typeof n&&(r=n,n=y("Append {type}",{type:e.replace(/^bpmn:/,"")}));var a=b?function(t,n){var s=l.createShape(Object(i["assign"])({type:e},r));b.append(n,s)}:s;return{group:"model",className:t,title:n,action:{dragstart:s,click:a}}}function x(e){return function(i,r){n.splitLane(r,e),t.open(r,!0)}}if(Object(a["b"])(v,["bpmn:Lane","bpmn:Participant"])&&Object(s["f"])(v)){var F=Object(o["d"])(e);Object(i["assign"])(h,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:y("Add Lane above"),action:{click:function(e,t){n.addLane(t,"top")}}}}),F.length<2&&(e.height>=120&&Object(i["assign"])(h,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:y("Divide into two Lanes"),action:{click:x(2)}}}),e.height>=180&&Object(i["assign"])(h,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:y("Divide into three Lanes"),action:{click:x(3)}}})),Object(i["assign"])(h,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:y("Add Lane below"),action:{click:function(e,t){n.addLane(t,"bottom")}}}})}Object(r["b"])(v,"bpmn:FlowNode")&&(Object(r["b"])(v,"bpmn:EventBasedGateway")?Object(i["assign"])(h,{"append.receive-task":E("bpmn:ReceiveTask","bpmn-icon-receive-task",y("Append ReceiveTask")),"append.message-intermediate-event":E("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",y("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":E("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",y("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":E("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",y("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":E("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",y("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):p(v,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Object(i["assign"])(h,{"append.compensation-activity":E("bpmn:Task","bpmn-icon-task",y("Append compensation activity"),{isForCompensation:!0})}):Object(r["b"])(v,"bpmn:EndEvent")||v.isForCompensation||p(v,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Object(s["e"])(v)||Object(i["assign"])(h,{"append.end-event":E("bpmn:EndEvent","bpmn-icon-end-event-none",y("Append EndEvent")),"append.gateway":E("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",y("Append Gateway")),"append.append-task":E("bpmn:UserTask","bpmn-icon-user-task",y("Append Task")),"append.intermediate-event":E("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",y("Append Intermediate/Boundary Event"))})),u.isEmpty(e,"bpmn-replace")||Object(i["assign"])(h,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:y("Change type"),action:{click:function(e,t){var n=Object(i["assign"])(w(t),{cursor:{x:e.x,y:e.y}});u.open(t,"bpmn-replace",n)}}}}),Object(a["b"])(v,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(i["assign"])(h,{"append.text-annotation":E("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:y("Connect using "+(v.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:g,dragstart:g}}}),Object(a["b"])(v,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(i["assign"])(h,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:y("Connect using DataInputAssociation"),action:{click:g,dragstart:g}}}),Object(r["b"])(v,"bpmn:Group")&&Object(i["assign"])(h,{"append.text-annotation":E("bpmn:TextAnnotation","bpmn-icon-text-annotation")});var j=f.allowed("elements.delete",{elements:[e]});return Object(i["isArray"])(j)&&(j=j[0]===e),j&&Object(i["assign"])(h,{delete:{group:"edit",className:"bpmn-icon-trash",title:y("Remove"),action:{click:S}}}),h};t["a"]={__init__:["contextPadProvider"],contextPadProvider:["type",c]}},"92ac1":function(e,t,n){var i={"./78-EUC-H.bcmap":["c1886","noprefetch-78-EUC-H-bcmap~af17e4a7"],"./78-EUC-V.bcmap":["b2da","noprefetch-78-EUC-V-bcmap~15452ef3"],"./78-H.bcmap":["93a0","noprefetch-78-H-bcmap~2c1d3c59"],"./78-RKSJ-H.bcmap":["e855","noprefetch-78-RKSJ-H-bcmap~58dcad5e"],"./78-RKSJ-V.bcmap":["6b7d","noprefetch-78-RKSJ-V-bcmap~5a482623"],"./78-V.bcmap":["dc65","noprefetch-78-V-bcmap~cae31572"],"./78ms-RKSJ-H.bcmap":["49c4","noprefetch-78ms-RKSJ-H-bcmap~d3f047f6"],"./78ms-RKSJ-V.bcmap":["f067","noprefetch-78ms-RKSJ-V-bcmap~b80c0249"],"./83pv-RKSJ-H.bcmap":["72c8","noprefetch-83pv-RKSJ-H-bcmap~b78f43c9"],"./90ms-RKSJ-H.bcmap":["08df","noprefetch-90ms-RKSJ-H-bcmap~0d40b1fc"],"./90ms-RKSJ-V.bcmap":["b845","noprefetch-90ms-RKSJ-V-bcmap~d8d83c1d"],"./90msp-RKSJ-H.bcmap":["3219","noprefetch-90msp-RKSJ-H-bcmap~50426628"],"./90msp-RKSJ-V.bcmap":["10b1","noprefetch-90msp-RKSJ-V-bcmap~ede354ff"],"./90pv-RKSJ-H.bcmap":["a3f7","noprefetch-90pv-RKSJ-H-bcmap~0fbaab67"],"./90pv-RKSJ-V.bcmap":["b6dc","noprefetch-90pv-RKSJ-V-bcmap~89798706"],"./Add-H.bcmap":["07a3","noprefetch-Add-H-bcmap~aa26ae40"],"./Add-RKSJ-H.bcmap":["47a9","noprefetch-Add-RKSJ-H-bcmap~ebc2a445"],"./Add-RKSJ-V.bcmap":["a87e","noprefetch-Add-RKSJ-V-bcmap~41163bee"],"./Add-V.bcmap":["4623","noprefetch-Add-V-bcmap~5cddb340"],"./Adobe-CNS1-0.bcmap":["3092","noprefetch-Adobe-CNS1-0-bcmap~498361a8"],"./Adobe-CNS1-1.bcmap":["b08a","noprefetch-Adobe-CNS1-1-bcmap~22576f79"],"./Adobe-CNS1-2.bcmap":["8042","noprefetch-Adobe-CNS1-2-bcmap~baf965b9"],"./Adobe-CNS1-3.bcmap":["df79","noprefetch-Adobe-CNS1-3-bcmap~b68c36b8"],"./Adobe-CNS1-4.bcmap":["b80b","noprefetch-Adobe-CNS1-4-bcmap~9f23dfb1"],"./Adobe-CNS1-5.bcmap":["3508","noprefetch-Adobe-CNS1-5-bcmap~b653802c"],"./Adobe-CNS1-6.bcmap":["d3c7","noprefetch-Adobe-CNS1-6-bcmap~97559eac"],"./Adobe-CNS1-UCS2.bcmap":["49c23","vendors~noprefetch-Adobe-CNS1-UCS2-bcmap~071cabcd"],"./Adobe-GB1-0.bcmap":["ab7d","noprefetch-Adobe-GB1-0-bcmap~2eade76a"],"./Adobe-GB1-1.bcmap":["b41c","noprefetch-Adobe-GB1-1-bcmap~6be96684"],"./Adobe-GB1-2.bcmap":["9279","noprefetch-Adobe-GB1-2-bcmap~2576f344"],"./Adobe-GB1-3.bcmap":["e401","noprefetch-Adobe-GB1-3-bcmap~40fa50b3"],"./Adobe-GB1-4.bcmap":["67d3","noprefetch-Adobe-GB1-4-bcmap~ff0dfafd"],"./Adobe-GB1-5.bcmap":["10eb3","noprefetch-Adobe-GB1-5-bcmap~241ec8c9"],"./Adobe-GB1-UCS2.bcmap":["4f52","vendors~noprefetch-Adobe-GB1-UCS2-bcmap~ff2ac3a0"],"./Adobe-Japan1-0.bcmap":["7c4a","noprefetch-Adobe-Japan1-0-bcmap~72dff4d4"],"./Adobe-Japan1-1.bcmap":["0451","noprefetch-Adobe-Japan1-1-bcmap~b80fa65d"],"./Adobe-Japan1-2.bcmap":["e314","noprefetch-Adobe-Japan1-2-bcmap~c52df2b9"],"./Adobe-Japan1-3.bcmap":["624d1","noprefetch-Adobe-Japan1-3-bcmap~e82c3a7f"],"./Adobe-Japan1-4.bcmap":["686f","noprefetch-Adobe-Japan1-4-bcmap~75f1e509"],"./Adobe-Japan1-5.bcmap":["7b19","noprefetch-Adobe-Japan1-5-bcmap~05aabd4d"],"./Adobe-Japan1-6.bcmap":["eb55","noprefetch-Adobe-Japan1-6-bcmap~085c63ea"],"./Adobe-Japan1-UCS2.bcmap":["23fd","vendors~noprefetch-Adobe-Japan1-UCS2-bcmap~c4d28acc"],"./Adobe-Korea1-0.bcmap":["e2b4","noprefetch-Adobe-Korea1-0-bcmap~d08a5400"],"./Adobe-Korea1-1.bcmap":["58e6","noprefetch-Adobe-Korea1-1-bcmap~6cefbb64"],"./Adobe-Korea1-2.bcmap":["d96e8","noprefetch-Adobe-Korea1-2-bcmap~32e376d1"],"./Adobe-Korea1-UCS2.bcmap":["4568","vendors~noprefetch-Adobe-Korea1-UCS2-bcmap~558f420f"],"./B5-H.bcmap":["5580","noprefetch-B5-H-bcmap~f8750f29"],"./B5-V.bcmap":["8925","noprefetch-B5-V-bcmap~90e55562"],"./B5pc-H.bcmap":["5158","noprefetch-B5pc-H-bcmap~d7354538"],"./B5pc-V.bcmap":["bc89","noprefetch-B5pc-V-bcmap~76c6c009"],"./CNS-EUC-H.bcmap":["cead","noprefetch-CNS-EUC-H-bcmap~8b761516"],"./CNS-EUC-V.bcmap":["7fa24","noprefetch-CNS-EUC-V-bcmap~d2eeb92c"],"./CNS1-H.bcmap":["fa90","noprefetch-CNS1-H-bcmap~82a03488"],"./CNS1-V.bcmap":["e345","noprefetch-CNS1-V-bcmap~e6e60f14"],"./CNS2-H.bcmap":["c889","noprefetch-CNS2-H-bcmap~eed94ef8"],"./CNS2-V.bcmap":["aac8","noprefetch-CNS2-V-bcmap~2d0e9093"],"./ETHK-B5-H.bcmap":["92d9","noprefetch-ETHK-B5-H-bcmap~5d28b2ae"],"./ETHK-B5-V.bcmap":["08bb","noprefetch-ETHK-B5-V-bcmap~f9e0df04"],"./ETen-B5-H.bcmap":["d1bd","noprefetch-ETen-B5-H-bcmap~6bd0d136"],"./ETen-B5-V.bcmap":["2621","noprefetch-ETen-B5-V-bcmap~375f9f1c"],"./ETenms-B5-H.bcmap":["bae2","noprefetch-ETenms-B5-H-bcmap~34ac4880"],"./ETenms-B5-V.bcmap":["5d80","noprefetch-ETenms-B5-V-bcmap~bc87864c"],"./EUC-H.bcmap":["ff44","noprefetch-EUC-H-bcmap~69ecff4d"],"./EUC-V.bcmap":["0f57","noprefetch-EUC-V-bcmap~8335511d"],"./Ext-H.bcmap":["d076e","noprefetch-Ext-H-bcmap~c159ae2a"],"./Ext-RKSJ-H.bcmap":["d38ec","noprefetch-Ext-RKSJ-H-bcmap~17032ee0"],"./Ext-RKSJ-V.bcmap":["6568","noprefetch-Ext-RKSJ-V-bcmap~470d53bf"],"./Ext-V.bcmap":["6350","noprefetch-Ext-V-bcmap~713a5dc3"],"./GB-EUC-H.bcmap":["6a88","noprefetch-GB-EUC-H-bcmap~c6ce0b2e"],"./GB-EUC-V.bcmap":["0466","noprefetch-GB-EUC-V-bcmap~aab02541"],"./GB-H.bcmap":["2dd6","noprefetch-GB-H-bcmap~8acdc9ff"],"./GB-V.bcmap":["6ff8","noprefetch-GB-V-bcmap~271535bf"],"./GBK-EUC-H.bcmap":["b679","noprefetch-GBK-EUC-H-bcmap~8251de78"],"./GBK-EUC-V.bcmap":["a11e","noprefetch-GBK-EUC-V-bcmap~837cd107"],"./GBK2K-H.bcmap":["3769","noprefetch-GBK2K-H-bcmap~1d662561"],"./GBK2K-V.bcmap":["1ce0","noprefetch-GBK2K-V-bcmap~2f907ec2"],"./GBKp-EUC-H.bcmap":["010c","noprefetch-GBKp-EUC-H-bcmap~e38c8bf1"],"./GBKp-EUC-V.bcmap":["0278","noprefetch-GBKp-EUC-V-bcmap~2bedf9af"],"./GBT-EUC-H.bcmap":["0bb6","noprefetch-GBT-EUC-H-bcmap~2569d6c0"],"./GBT-EUC-V.bcmap":["20aa","noprefetch-GBT-EUC-V-bcmap~d89ff4cd"],"./GBT-H.bcmap":["ab5d","noprefetch-GBT-H-bcmap~13309855"],"./GBT-V.bcmap":["6ed4a","noprefetch-GBT-V-bcmap~a2634c99"],"./GBTpc-EUC-H.bcmap":["9c3e","noprefetch-GBTpc-EUC-H-bcmap~761291ff"],"./GBTpc-EUC-V.bcmap":["7529","noprefetch-GBTpc-EUC-V-bcmap~a7d639c9"],"./GBpc-EUC-H.bcmap":["7b2dc","noprefetch-GBpc-EUC-H-bcmap~0e4e3345"],"./GBpc-EUC-V.bcmap":["c76c0","noprefetch-GBpc-EUC-V-bcmap~1bb0f930"],"./H.bcmap":["dad4","noprefetch-H-bcmap~05cdb080"],"./HKdla-B5-H.bcmap":["ef21","noprefetch-HKdla-B5-H-bcmap~d5d4b67e"],"./HKdla-B5-V.bcmap":["dcfb","noprefetch-HKdla-B5-V-bcmap~8d74d37d"],"./HKdlb-B5-H.bcmap":["2975","noprefetch-HKdlb-B5-H-bcmap~9f8b5fbd"],"./HKdlb-B5-V.bcmap":["d764","noprefetch-HKdlb-B5-V-bcmap~2e6d926c"],"./HKgccs-B5-H.bcmap":["0977","noprefetch-HKgccs-B5-H-bcmap~107c7ed2"],"./HKgccs-B5-V.bcmap":["dbd6","noprefetch-HKgccs-B5-V-bcmap~03bd3f9d"],"./HKm314-B5-H.bcmap":["3d7e","noprefetch-HKm314-B5-H-bcmap~8059b8a2"],"./HKm314-B5-V.bcmap":["f7a7","noprefetch-HKm314-B5-V-bcmap~f0c11fb5"],"./HKm471-B5-H.bcmap":["2450","noprefetch-HKm471-B5-H-bcmap~7e8ea999"],"./HKm471-B5-V.bcmap":["d4a0","noprefetch-HKm471-B5-V-bcmap~0699843a"],"./HKscs-B5-H.bcmap":["0f0d","noprefetch-HKscs-B5-H-bcmap~c6604e21"],"./HKscs-B5-V.bcmap":["294c","noprefetch-HKscs-B5-V-bcmap~2bf7ff02"],"./Hankaku.bcmap":["fb15","noprefetch-Hankaku-bcmap~dc2aeec1"],"./Hiragana.bcmap":["0092","noprefetch-Hiragana-bcmap~6a2f8930"],"./KSC-EUC-H.bcmap":["da31","noprefetch-KSC-EUC-H-bcmap~c68058c3"],"./KSC-EUC-V.bcmap":["55df","noprefetch-KSC-EUC-V-bcmap~9c60f050"],"./KSC-H.bcmap":["0051","noprefetch-KSC-H-bcmap~741d27d5"],"./KSC-Johab-H.bcmap":["190e","noprefetch-KSC-Johab-H-bcmap~d8cfb7f5"],"./KSC-Johab-V.bcmap":["5df8","noprefetch-KSC-Johab-V-bcmap~60f82ca0"],"./KSC-V.bcmap":["9cd8","noprefetch-KSC-V-bcmap~b508406e"],"./KSCms-UHC-H.bcmap":["8523","noprefetch-KSCms-UHC-H-bcmap~26ade006"],"./KSCms-UHC-HW-H.bcmap":["3633","noprefetch-KSCms-UHC-HW-H-bcmap~88e8bd34"],"./KSCms-UHC-HW-V.bcmap":["546b","noprefetch-KSCms-UHC-HW-V-bcmap~9941eb1a"],"./KSCms-UHC-V.bcmap":["37de","noprefetch-KSCms-UHC-V-bcmap~3278765b"],"./KSCpc-EUC-H.bcmap":["445f","noprefetch-KSCpc-EUC-H-bcmap~0e9efd30"],"./KSCpc-EUC-V.bcmap":["9f6b","noprefetch-KSCpc-EUC-V-bcmap~d8b90046"],"./Katakana.bcmap":["2490","noprefetch-Katakana-bcmap~0d164016"],"./NWP-H.bcmap":["9b95","noprefetch-NWP-H-bcmap~a0310773"],"./NWP-V.bcmap":["c81b","noprefetch-NWP-V-bcmap~14c1e2dc"],"./RKSJ-H.bcmap":["02fb5","noprefetch-RKSJ-H-bcmap~58b66ff1"],"./RKSJ-V.bcmap":["3b93","noprefetch-RKSJ-V-bcmap~86c79dea"],"./Roman.bcmap":["27ce","noprefetch-Roman-bcmap~a4e907fb"],"./UniCNS-UCS2-H.bcmap":["185d","vendors~noprefetch-UniCNS-UCS2-H-bcmap~81ccba06"],"./UniCNS-UCS2-V.bcmap":["ee17","noprefetch-UniCNS-UCS2-V-bcmap~6857fa1b"],"./UniCNS-UTF16-H.bcmap":["bee4","vendors~noprefetch-UniCNS-UTF16-H-bcmap~1da6911f"],"./UniCNS-UTF16-V.bcmap":["cc10","noprefetch-UniCNS-UTF16-V-bcmap~817eee8b"],"./UniCNS-UTF32-H.bcmap":["add8","vendors~noprefetch-UniCNS-UTF32-H-bcmap~198f2db4"],"./UniCNS-UTF32-V.bcmap":["c5a3","noprefetch-UniCNS-UTF32-V-bcmap~47cfae6f"],"./UniCNS-UTF8-H.bcmap":["20bd","vendors~noprefetch-UniCNS-UTF8-H-bcmap~05d10544"],"./UniCNS-UTF8-V.bcmap":["51c6","noprefetch-UniCNS-UTF8-V-bcmap~c10beebf"],"./UniGB-UCS2-H.bcmap":["0bb8","vendors~noprefetch-UniGB-UCS2-H-bcmap~43e7c767"],"./UniGB-UCS2-V.bcmap":["60ee","noprefetch-UniGB-UCS2-V-bcmap~001a200d"],"./UniGB-UTF16-H.bcmap":["93bb","vendors~noprefetch-UniGB-UTF16-H-bcmap~0678506d"],"./UniGB-UTF16-V.bcmap":["4fa0","noprefetch-UniGB-UTF16-V-bcmap~54b4e363"],"./UniGB-UTF32-H.bcmap":["88a6","vendors~noprefetch-UniGB-UTF32-H-bcmap~8cd5132d"],"./UniGB-UTF32-V.bcmap":["3118","noprefetch-UniGB-UTF32-V-bcmap~6887790b"],"./UniGB-UTF8-H.bcmap":["129a","vendors~noprefetch-UniGB-UTF8-H-bcmap~6d557296"],"./UniGB-UTF8-V.bcmap":["0a37","noprefetch-UniGB-UTF8-V-bcmap~d8e34c59"],"./UniJIS-UCS2-H.bcmap":["6090","vendors~noprefetch-UniJIS-UCS2-H-bcmap~d6f422c6"],"./UniJIS-UCS2-HW-H.bcmap":["f0671","noprefetch-UniJIS-UCS2-HW-H-bcmap~6110e61f"],"./UniJIS-UCS2-HW-V.bcmap":["5797","noprefetch-UniJIS-UCS2-HW-V-bcmap~e6e02411"],"./UniJIS-UCS2-V.bcmap":["0e2f","noprefetch-UniJIS-UCS2-V-bcmap~af32b0a8"],"./UniJIS-UTF16-H.bcmap":["ca59","vendors~noprefetch-UniJIS-UTF16-H-bcmap~f3708008"],"./UniJIS-UTF16-V.bcmap":["f887","noprefetch-UniJIS-UTF16-V-bcmap~592051e7"],"./UniJIS-UTF32-H.bcmap":["32cd","vendors~noprefetch-UniJIS-UTF32-H-bcmap~4dd52cc4"],"./UniJIS-UTF32-V.bcmap":["f06e","noprefetch-UniJIS-UTF32-V-bcmap~96dc2148"],"./UniJIS-UTF8-H.bcmap":["e3da","vendors~noprefetch-UniJIS-UTF8-H-bcmap~fe9c0baa"],"./UniJIS-UTF8-V.bcmap":["5d51","noprefetch-UniJIS-UTF8-V-bcmap~58a79895"],"./UniJIS2004-UTF16-H.bcmap":["65bd","vendors~noprefetch-UniJIS2004-UTF16-H-bcmap~cf3b66a7"],"./UniJIS2004-UTF16-V.bcmap":["34d4","noprefetch-UniJIS2004-UTF16-V-bcmap~63e7c62a"],"./UniJIS2004-UTF32-H.bcmap":["f258","vendors~noprefetch-UniJIS2004-UTF32-H-bcmap~3ef8300b"],"./UniJIS2004-UTF32-V.bcmap":["5954","noprefetch-UniJIS2004-UTF32-V-bcmap~64a2ad36"],"./UniJIS2004-UTF8-H.bcmap":["43fe","vendors~noprefetch-UniJIS2004-UTF8-H-bcmap~3ac8e447"],"./UniJIS2004-UTF8-V.bcmap":["76c4","noprefetch-UniJIS2004-UTF8-V-bcmap~f17d8696"],"./UniJISPro-UCS2-HW-V.bcmap":["a77b","noprefetch-UniJISPro-UCS2-HW-V-bcmap~28e76b7b"],"./UniJISPro-UCS2-V.bcmap":["cfa7","noprefetch-UniJISPro-UCS2-V-bcmap~5f2122d9"],"./UniJISPro-UTF8-V.bcmap":["b1bd","noprefetch-UniJISPro-UTF8-V-bcmap~82c96ef1"],"./UniJISX0213-UTF32-H.bcmap":["6b74","vendors~noprefetch-UniJISX0213-UTF32-H-bcmap~e147b12e"],"./UniJISX0213-UTF32-V.bcmap":["b6f8","noprefetch-UniJISX0213-UTF32-V-bcmap~cbd2f9a1"],"./UniJISX02132004-UTF32-H.bcmap":["37c06","vendors~noprefetch-UniJISX02132004-UTF32-H-bcmap~109e97d2"],"./UniJISX02132004-UTF32-V.bcmap":["a7c8","noprefetch-UniJISX02132004-UTF32-V-bcmap~d9dc9467"],"./UniKS-UCS2-H.bcmap":["a4e0","vendors~noprefetch-UniKS-UCS2-H-bcmap~e3dada03"],"./UniKS-UCS2-V.bcmap":["9221","noprefetch-UniKS-UCS2-V-bcmap~e07f058e"],"./UniKS-UTF16-H.bcmap":["0024","vendors~noprefetch-UniKS-UTF16-H-bcmap~69f42079"],"./UniKS-UTF16-V.bcmap":["19a14","noprefetch-UniKS-UTF16-V-bcmap~92ef33aa"],"./UniKS-UTF32-H.bcmap":["debd","vendors~noprefetch-UniKS-UTF32-H-bcmap~7b6de314"],"./UniKS-UTF32-V.bcmap":["a8fc4","noprefetch-UniKS-UTF32-V-bcmap~19adf7fa"],"./UniKS-UTF8-H.bcmap":["a067","vendors~noprefetch-UniKS-UTF8-H-bcmap~674dfbba"],"./UniKS-UTF8-V.bcmap":["64c9","noprefetch-UniKS-UTF8-V-bcmap~ae5d8d97"],"./V.bcmap":["47db","noprefetch-V-bcmap~002880a2"],"./WP-Symbol.bcmap":["e886","noprefetch-WP-Symbol-bcmap~9e6c2dda"]};function r(e){var t=i[e];return t?n.e(t[1]).then((function(){var e=t[0];return n(e)})):Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return Object.keys(i)},r.id="92ac1",e.exports=r},9991:function(e,t,n){"use strict";var i=n("87f2").some,r={FailedJobRetryTimeCycle:["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent","bpmn:Activity"],Connector:["bpmn:EndEvent","bpmn:IntermediateThrowEvent"],Field:["bpmn:EndEvent","bpmn:IntermediateThrowEvent"]};function s(e,t){return e&&"function"===typeof e.$instanceOf&&e.$instanceOf(t)}function a(e){return e&&e.length}function o(e,t){return a(e)&&i(e,(function(e){return s(e,t)}))}function l(e,t){return i(t,(function(t){return s(e,t)}))}function c(e,t,n){var i=t.name,s=r[i.replace(/activiti:/,"")];return i===e&&l(n,s)}function p(e){e.on("property.clone",(function(e){var t=e.newElement,n=e.propertyDescriptor;this.canCloneProperty(t,n)}),this)}p.$inject=["eventBus"],p.prototype.canCloneProperty=function(e,t){return c("activiti:FailedJobRetryTimeCycle",t,e)?o(e.eventDefinitions,"bpmn:TimerEventDefinition")||o(e.eventDefinitions,"bpmn:SignalEventDefinition")||s(e.loopCharacteristics,"bpmn:MultiInstanceLoopCharacteristics"):c("activiti:Connector",t,e)||c("activiti:Field",t,e)?o(e.eventDefinitions,"bpmn:MessageEventDefinition"):void 0},e.exports=p},d5a9:function(e,t,n){},e71e:function(e,t,n){e.exports={__init__:["FlowableModdleExtension"],FlowableModdleExtension:["type",n("1e98")]}},fb8f:function(e,t,n){"use strict";var i=n("fb2b"),r=n("87f2");function s(e,t,n,r,s,a,o,l){i["a"].call(this,e,t,n,r,s,a,o,l,2e3)}var a=function(){};a.prototype=i["a"].prototype,a.prototype.getPaletteEntries=function(){var e={},t=this._create,n=this._elementFactory,i=this._spaceTool,s=this._lassoTool,a=this._handTool,o=this._globalConnect,l=this._translate;function c(e,i,s,a,o){function c(i){var s=n.createShape(Object(r["assign"])({type:e},o));o&&(s.businessObject.di.isExpanded=o.isExpanded),t.start(i,s)}var p=e.replace(/^bpmn:/,"");return{group:i,className:s,title:a||l("Create {type}",{type:p}),action:{dragstart:c,click:c}}}function p(e){var i=n.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),r=n.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:i});t.start(e,[i,r],{hints:{autoSelect:[r]}})}function m(e){t.start(e,n.createParticipantShape())}return Object(r["assign"])(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:l("Activate the hand tool"),action:{click:function(e){a.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:l("Activate the lasso tool"),action:{click:function(e){s.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:l("Activate the create/remove space tool"),action:{click:function(e){i.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:l("Activate the global connect tool"),action:{click:function(e){o.toggle(e)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":c("bpmn:StartEvent","event","bpmn-icon-start-event-none",l("Create StartEvent")),"create.intermediate-event":c("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",l("Create Intermediate/Boundary Event")),"create.end-event":c("bpmn:EndEvent","event","bpmn-icon-end-event-none",l("Create EndEvent")),"create.exclusive-gateway":c("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",l("Create Gateway")),"create.user-task":c("bpmn:UserTask","activity","bpmn-icon-user-task",l("Create User Task")),"create.data-object":c("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",l("Create DataObjectReference")),"create.data-store":c("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",l("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:l("Create expanded SubProcess"),action:{dragstart:p,click:p}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:l("Create Pool/Participant"),action:{dragstart:m,click:m}},"create.group":c("bpmn:Group","artifact","bpmn-icon-group",l("Create Group"))}),e},s.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],s.prototype=new a,s.prototype.constructor=s;t["a"]={__init__:["customPalette"],customPalette:["type",s]}},fe15d:function(e){e.exports={name:"Camunda",uri:"http://camunda.org/schema/1.0/bpmn",prefix:"camunda",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"Definitions",isAbstract:!0,extends:["bpmn:Definitions"],properties:[{name:"diagramRelationId",isAttr:!0,type:"String"}]},{name:"InOutBinding",superClass:["Element"],isAbstract:!0,properties:[{name:"source",isAttr:!0,type:"String"},{name:"sourceExpression",isAttr:!0,type:"String"},{name:"target",isAttr:!0,type:"String"},{name:"businessKey",isAttr:!0,type:"String"},{name:"local",isAttr:!0,type:"Boolean",default:!1},{name:"variables",isAttr:!0,type:"String"}]},{name:"In",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity","bpmn:SignalEventDefinition"]}},{name:"Out",superClass:["InOutBinding"],meta:{allowedIn:["bpmn:CallActivity"]}},{name:"AsyncCapable",isAbstract:!0,extends:["bpmn:Activity","bpmn:Gateway","bpmn:Event"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1},{name:"asyncBefore",isAttr:!0,type:"Boolean",default:!1},{name:"asyncAfter",isAttr:!0,type:"Boolean",default:!1},{name:"exclusive",isAttr:!0,type:"Boolean",default:!0}]},{name:"JobPriorized",isAbstract:!0,extends:["bpmn:Process","camunda:AsyncCapable"],properties:[{name:"jobPriority",isAttr:!0,type:"String"}]},{name:"SignalEventDefinition",isAbstract:!0,extends:["bpmn:SignalEventDefinition"],properties:[{name:"async",isAttr:!0,type:"Boolean",default:!1}]},{name:"ErrorEventDefinition",isAbstract:!0,extends:["bpmn:ErrorEventDefinition"],properties:[{name:"errorCodeVariable",isAttr:!0,type:"String"},{name:"errorMessageVariable",isAttr:!0,type:"String"}]},{name:"Error",isAbstract:!0,extends:["bpmn:Error"],properties:[{name:"camunda:errorMessage",isAttr:!0,type:"String"}]},{name:"PotentialStarter",superClass:["Element"],properties:[{name:"resourceAssignmentExpression",type:"bpmn:ResourceAssignmentExpression"}]},{name:"FormSupported",isAbstract:!0,extends:["bpmn:StartEvent","bpmn:UserTask"],properties:[{name:"formHandlerClass",isAttr:!0,type:"String"},{name:"formKey",isAttr:!0,type:"String"}]},{name:"TemplateSupported",isAbstract:!0,extends:["bpmn:Process","bpmn:FlowElement"],properties:[{name:"modelerTemplate",isAttr:!0,type:"String"},{name:"modelerTemplateVersion",isAttr:!0,type:"Integer"}]},{name:"Initiator",isAbstract:!0,extends:["bpmn:StartEvent"],properties:[{name:"initiator",isAttr:!0,type:"String"}]},{name:"ScriptTask",isAbstract:!0,extends:["bpmn:ScriptTask"],properties:[{name:"resultVariable",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"}]},{name:"Process",isAbstract:!0,extends:["bpmn:Process"],properties:[{name:"candidateStarterGroups",isAttr:!0,type:"String"},{name:"candidateStarterUsers",isAttr:!0,type:"String"},{name:"versionTag",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"},{name:"isStartableInTasklist",isAttr:!0,type:"Boolean",default:!0}]},{name:"EscalationEventDefinition",isAbstract:!0,extends:["bpmn:EscalationEventDefinition"],properties:[{name:"escalationCodeVariable",isAttr:!0,type:"String"}]},{name:"FormalExpression",isAbstract:!0,extends:["bpmn:FormalExpression"],properties:[{name:"resource",isAttr:!0,type:"String"}]},{name:"Assignable",extends:["bpmn:UserTask"],properties:[{name:"assignee",isAttr:!0,type:"String"},{name:"candidateUsers",isAttr:!0,type:"String"},{name:"candidateGroups",isAttr:!0,type:"String"},{name:"dueDate",isAttr:!0,type:"String"},{name:"followUpDate",isAttr:!0,type:"String"},{name:"priority",isAttr:!0,type:"String"}]},{name:"CallActivity",extends:["bpmn:CallActivity"],properties:[{name:"calledElementBinding",isAttr:!0,type:"String",default:"latest"},{name:"calledElementVersion",isAttr:!0,type:"String"},{name:"calledElementVersionTag",isAttr:!0,type:"String"},{name:"calledElementTenantId",isAttr:!0,type:"String"},{name:"caseRef",isAttr:!0,type:"String"},{name:"caseBinding",isAttr:!0,type:"String",default:"latest"},{name:"caseVersion",isAttr:!0,type:"String"},{name:"caseTenantId",isAttr:!0,type:"String"},{name:"variableMappingClass",isAttr:!0,type:"String"},{name:"variableMappingDelegateExpression",isAttr:!0,type:"String"}]},{name:"ServiceTaskLike",extends:["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"resultVariable",isAttr:!0,type:"String"}]},{name:"DmnCapable",extends:["bpmn:BusinessRuleTask"],properties:[{name:"decisionRef",isAttr:!0,type:"String"},{name:"decisionRefBinding",isAttr:!0,type:"String",default:"latest"},{name:"decisionRefVersion",isAttr:!0,type:"String"},{name:"mapDecisionResult",isAttr:!0,type:"String",default:"resultList"},{name:"decisionRefTenantId",isAttr:!0,type:"String"}]},{name:"ExternalCapable",extends:["camunda:ServiceTaskLike"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"topic",isAttr:!0,type:"String"}]},{name:"TaskPriorized",extends:["bpmn:Process","camunda:ExternalCapable"],properties:[{name:"taskPriority",isAttr:!0,type:"String"}]},{name:"Properties",superClass:["Element"],meta:{allowedIn:["*"]},properties:[{name:"values",type:"Property",isMany:!0}]},{name:"Property",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"value",type:"String",isAttr:!0}]},{name:"Connector",superClass:["Element"],meta:{allowedIn:["camunda:ServiceTaskLike"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"}]},{name:"InputOutput",superClass:["Element"],meta:{allowedIn:["bpmn:FlowNode","camunda:Connector"]},properties:[{name:"inputOutput",type:"InputOutput"},{name:"connectorId",type:"String"},{name:"inputParameters",isMany:!0,type:"InputParameter"},{name:"outputParameters",isMany:!0,type:"OutputParameter"}]},{name:"InputOutputParameter",properties:[{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"InputOutputParameterDefinition",isAbstract:!0},{name:"List",superClass:["InputOutputParameterDefinition"],properties:[{name:"items",isMany:!0,type:"InputOutputParameterDefinition"}]},{name:"Map",superClass:["InputOutputParameterDefinition"],properties:[{name:"entries",isMany:!0,type:"Entry"}]},{name:"Entry",properties:[{name:"key",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"},{name:"definition",type:"InputOutputParameterDefinition"}]},{name:"Value",superClass:["InputOutputParameterDefinition"],properties:[{name:"id",isAttr:!0,type:"String"},{name:"name",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Script",superClass:["InputOutputParameterDefinition"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"resource",isAttr:!0,type:"String"},{name:"value",isBody:!0,type:"String"}]},{name:"Field",superClass:["Element"],meta:{allowedIn:["camunda:ServiceTaskLike","camunda:ExecutionListener","camunda:TaskListener"]},properties:[{name:"name",isAttr:!0,type:"String"},{name:"expression",type:"String"},{name:"stringValue",isAttr:!0,type:"String"},{name:"string",type:"String"}]},{name:"InputParameter",superClass:["InputOutputParameter"]},{name:"OutputParameter",superClass:["InputOutputParameter"]},{name:"Collectable",isAbstract:!0,extends:["bpmn:MultiInstanceLoopCharacteristics"],superClass:["camunda:AsyncCapable"],properties:[{name:"collection",isAttr:!0,type:"String"},{name:"elementVariable",isAttr:!0,type:"String"}]},{name:"FailedJobRetryTimeCycle",superClass:["Element"],meta:{allowedIn:["camunda:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},properties:[{name:"body",isBody:!0,type:"String"}]},{name:"ExecutionListener",superClass:["Element"],meta:{allowedIn:["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0}]},{name:"TaskListener",superClass:["Element"],meta:{allowedIn:["bpmn:UserTask"]},properties:[{name:"expression",isAttr:!0,type:"String"},{name:"class",isAttr:!0,type:"String"},{name:"delegateExpression",isAttr:!0,type:"String"},{name:"event",isAttr:!0,type:"String"},{name:"script",type:"Script"},{name:"fields",type:"Field",isMany:!0},{name:"id",type:"String",isAttr:!0},{name:"eventDefinitions",type:"bpmn:TimerEventDefinition",isMany:!0}]},{name:"FormProperty",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"id",type:"String",isAttr:!0},{name:"name",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"required",type:"String",isAttr:!0},{name:"readable",type:"String",isAttr:!0},{name:"writable",type:"String",isAttr:!0},{name:"variable",type:"String",isAttr:!0},{name:"expression",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"default",type:"String",isAttr:!0},{name:"values",type:"Value",isMany:!0}]},{name:"FormData",superClass:["Element"],meta:{allowedIn:["bpmn:StartEvent","bpmn:UserTask"]},properties:[{name:"fields",type:"FormField",isMany:!0},{name:"businessKey",type:"String",isAttr:!0}]},{name:"FormField",superClass:["Element"],properties:[{name:"id",type:"String",isAttr:!0},{name:"label",type:"String",isAttr:!0},{name:"type",type:"String",isAttr:!0},{name:"datePattern",type:"String",isAttr:!0},{name:"defaultValue",type:"String",isAttr:!0},{name:"properties",type:"Properties"},{name:"validation",type:"Validation"},{name:"values",type:"Value",isMany:!0}]},{name:"Validation",superClass:["Element"],properties:[{name:"constraints",type:"Constraint",isMany:!0}]},{name:"Constraint",superClass:["Element"],properties:[{name:"name",type:"String",isAttr:!0},{name:"config",type:"String",isAttr:!0}]},{name:"ConditionalEventDefinition",isAbstract:!0,extends:["bpmn:ConditionalEventDefinition"],properties:[{name:"variableName",isAttr:!0,type:"String"},{name:"variableEvents",isAttr:!0,type:"String"}]}],emumerations:[]}}}]);