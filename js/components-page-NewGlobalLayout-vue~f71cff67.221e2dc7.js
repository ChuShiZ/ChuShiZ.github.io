(window["webpackJsonp_joinsoft-v9"]=window["webpackJsonp_joinsoft-v9"]||[]).push([["components-page-NewGlobalLayout-vue~f71cff67","components-page-GlobalFooter-vue~868e38b1"],{"08f0":function(e,t,o){},2980:function(e,t,o){e.exports=o.p+"img/newBanner.62482598.png"},"2f868":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=this,o=t.$createElement,n=t._self._c||o;return n("a-layout",{staticClass:"layout",class:[t.device]},[n("a-layout-header",{class:["layoutHeader","layoutHeader-"+t.layoutMode],staticStyle:{height:"59px","background-color":"#fff!important"}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("logo",{class:["logo-"+t.layoutMode],attrs:{title:t.logoText?t.logoText:"维修资金综合管理平台V9"}}),n("global-header",{attrs:{mode:t.layoutMode,menus:t.menus,theme:t.navTheme,collapsed:t.collapsed,device:t.device},on:{toggle:t.toggle,updateMenuTitle:t.handleUpdateMenuTitle}})],1)]),n("a-layout",{class:["a-layout-content-"+t.layoutMode],staticStyle:{"background-size":"100% 100%","background-position":"center center",height:"calc(100vh - 59px - 48px)"},style:{backgroundImage:"url("+t.imgUrl+")"}},[["mobile"===t.device?n("a-drawer",{attrs:{wrapClassName:"drawer-sider "+t.navTheme,placement:"left",closable:!1,visible:t.collapsed,width:"careMode"!==t.layoutMode?"200px":"240px"},on:{close:function(){return e.collapsed=!1}}},["mobile"===t.device?n("side-menu",{class:[t.layoutMode],attrs:{layout:t.layoutMode,mode:"inline",menus:t.menus,theme:t.navTheme,collapsed:!1,collapsible:!0},on:{menuSelect:t.myMenuSelect,updateMenuTitle:t.handleUpdateMenuTitle}}):t._e()],1):t._e(),n("side-menu",{directives:[{name:"show",rawName:"v-show",value:"desktop"===t.device,expression:"device === 'desktop'"}],class:[t.layoutMode],attrs:{layout:t.layoutMode,mode:"inline",menus:t.menus,theme:t.navTheme,collapsed:t.collapsed,collapsible:!0},on:{menuSelect:t.myMenuSelect,updateMenuTitle:t.handleUpdateMenuTitle,toggle:t.toggle}})],n("a-layout",{class:[t.layoutMode,"content-width-"+t.contentWidth],staticStyle:{height:"calc(100% - 10px)"}},["newSidemenu"!==t.layoutMode?n("global-header",{attrs:{mode:t.layoutMode,menus:t.menus,theme:t.navTheme,collapsed:t.collapsed,device:t.device},on:{updateMenuTitle:t.handleUpdateMenuTitle}}):t._e(),n("a-layout-content",{style:{height:"100%",paddingTop:t.fixedHeader?"59px":"0"},attrs:{id:"layoutRightContent"}},[t._t("default")],2)],1)],2)],1)},i=[],s=o("e5f9"),a=o("630d"),r=o("911cc"),l=o("a250"),u=o("ca00"),d=o("2f62"),c=o("ac0d"),h=o("0fea");function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=m(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,r=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){r=!0,s=e},f:function(){try{a||null==o.return||o.return()}finally{if(r)throw s}}}}function m(e,t){if(e){if("string"==typeof e)return y(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){b(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function b(e,t,o){return(t=w(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function w(e){var t=S(e,"string");return"symbol"==f(t)?t:t+""}function S(e,t){if("object"!=f(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var M={name:"NewGlobalLayout",components:{SideMenu:s["default"],GlobalHeader:a["default"],GlobalFooter:r["default"],Logo:l["default"]},mixins:[c["a"],c["b"]],data:function(){return{collapsed:!1,activeMenu:{},menus:[],logoText:"",imgUrl:o("2980"),layoutStyle:{backgroundSize:"100% 100%",backgroundPosition:"center center"}}},computed:v({},Object(d["d"])({mainRouters:function(e){return e.permission.addRouters},permissionMenuList:function(e){return e.user.permissionList}})),watch:{sidebarOpened:function(e){this.collapsed=!e}},created:function(){this.menus=this.permissionMenuList,this.collapsed=!this.sidebarOpened,window._H5_INFO.systemVersion?this.logoText=window._H5_INFO.logoText+window._H5_INFO.systemVersion:this.logoText=window._H5_INFO.logoText},methods:v(v({},Object(d["b"])(["setSidebar"])),{},{getPictureInfo:function(){var e=this;Object(h["e"])("/base/pictureConfigInfo/pictureInit").then((function(t){t.success&&t.result&&t.result.logoText&&(t.result.systemVersion?e.logoText=t.result.logoText+t.result.systemVersion:e.logoText=t.result.logoText+"V9.0")}))},toggle:function(){this.collapsed=!this.collapsed,this.setSidebar(!this.collapsed),Object(u["v"])()},menuSelect:function(){this.isDesktop()||(this.collapsed=!1)},myMenuSelect:function(e){this.findMenuBykey(this.menus,e.key),this.$emit("dynamicRouterShow",e.key,this.activeMenu.meta.title)},findMenuBykey:function(e,t){var o,n=p(e);try{for(n.s();!(o=n.n()).done;){var i=o.value;i.path===t?this.activeMenu=v({},i):i.children&&i.children.length>0&&this.findMenuBykey(i.children,t)}}catch(s){n.e(s)}finally{n.f()}},handleUpdateMenuTitle:function(e){this.findMenuBykey(this.menus,e.path),this.activeMenu.meta.title=e.meta.title,this.$emit("dynamicRouterShow",e.path,this.activeMenu.meta.title)}})},x=M,T=(o("9d35"),o("2877")),_=Object(T["a"])(x,n,i,!1,null,"49edffce",null);t["default"]=_.exports},"45fe":function(e,t,o){"use strict";o("08f0")},"5a75":function(e,t,o){},"630d":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.headerBarFixed?e._e():o("a-layout-header",{class:[e.fixedHeader&&"ant-header-fixedHeader",e.sidebarOpened?"ant-header-side-opened":"ant-header-side-closed"],style:{padding:"0"}},["sidemenu"===e.mode||"careMode"===e.mode?o("div",{staticClass:"header childShrink",class:e.theme},[o("a-space",{staticClass:"childShrink headerLeft"},[o("logo",{attrs:{title:e.logoText?e.logoText:"维修资金平台"}}),o("div",{staticClass:"headerLeftAction childShrink"},["mobile"===e.device?o("a-icon",{staticClass:"trigger",attrs:{title:"左侧菜单",type:e.collapsed?"menu-fold":"menu-unfold"},on:{click:e.toggle}}):o("a-icon",{staticClass:"trigger",attrs:{title:"左侧菜单",type:e.collapsed?"menu-unfold":"menu-fold"},on:{click:e.toggle}}),e.is_wuye_system?e._e():o("a-badge",{attrs:{"show-zero":!1,count:e.todoTotal,offset:[14,2]},on:{click:e.goToTodoList}},[o("span",{staticClass:"cursorPointer"},[e._v("待办事项")])])],1)],1),e.searchVisible&&!e.is_wuye_system?o("shortcut-operation",{ref:"shortcutOperation",on:{showSearch:e.showSearch}}):e._e(),o("user-menu",{attrs:{theme:e.theme,showIcon:e.searchVisible},on:{showSearch:e.showSearch}})],1):"topLeftMenu"===e.mode?o("div",{class:["top-nav-header-index",e.layoutMode,e.theme]},[o("div",{staticClass:"header-index-wide"},[o("div",{staticClass:"header-index-left childShrink",style:e.topMenuStyle.headerIndexLeft},[o("logo",{staticStyle:{"flex-shrink":"0"},attrs:{title:e.logoText?e.logoText:"维修资金平台","show-title":"mobile"!==e.device}}),"mobile"!==e.device?o("div",{staticStyle:{flex:"1",width:"0",display:"flex","align-items":"center"}},[o("div",{staticStyle:{overflow:"hidden",width:"0"},style:{flex:e.searchVisible?0:1}},[o("a-menu",{staticClass:"topLeftMenuLayoutTopMenu",attrs:{mode:"horizontal"},on:{click:e.noChildMenuSelect}},e._l(e.noChildMenus,(function(t){return o("a-menu-item",{key:t.id,class:{currentMenu:e.parentMenuObj&&e.parentMenuObj.id===t.id}},[e._v("\n                  "+e._s(t.meta.title)+"\n                ")])})),1)],1),e.is_wuye_system?e._e():o("shortcut-operation",{ref:"shortcutOperation",staticStyle:{flex:"0",overflow:"hidden",transition:"0.3s"},style:{flex:e.searchVisible?1:0},on:{showSearch:e.showSearch}})],1):o("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-fold":"menu-unfold"},on:{click:e.toggle}})],1),o("user-menu",{staticClass:"header-index-right",style:e.topMenuStyle.headerIndexRight,attrs:{theme:e.theme},on:{showSearch:e.showSearch}})],1)]):"newSidemenu"===e.mode?o("div",{class:["header","header-"+e.mode,e.theme]},[o("div",{staticClass:"headerLeft headerLeft_newLayout"},["mobile"===e.device?o("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-fold":"menu-unfold"},on:{click:e.toggle}}):o("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-unfold":"menu-fold"},on:{click:e.toggle}}),e.is_wuye_system?e._e():o("a-badge",{attrs:{"show-zero":!1,count:e.todoTotal,offset:[14,2]},on:{click:e.goToTodoList}},[o("span",{staticClass:"cursorPointer"},[e._v("待办事项")])])],1),e.searchVisible&&!e.is_wuye_system?o("shortcut-operation",{ref:"shortcutOperation",on:{showSearch:e.showSearch}}):e._e(),o("user-menu",{attrs:{theme:e.theme,mode:"newSidemenu",showIcon:e.searchVisible},on:{showSearch:e.showSearch}})],1):o("div",{class:["top-nav-header-index",e.theme]},[o("div",{staticClass:"header-index-wide"},[o("div",{staticClass:"header-index-left childShrink",style:e.topMenuStyle.headerIndexLeft},[o("logo",{staticStyle:{"flex-shrink":"0"},attrs:{title:e.logoText?e.logoText:"维修资金平台","show-title":"mobile"!==e.device}}),"mobile"!==e.device?o("div",{staticStyle:{flex:"auto",width:"0"}},[o("s-menu",{attrs:{mode:"horizontal",menu:e.menus,theme:e.theme},on:{updateMenuTitle:e.handleUpdateMenuTitle}})],1):o("a-icon",{staticClass:"trigger",attrs:{type:e.collapsed?"menu-fold":"menu-unfold"},on:{click:e.toggle}})],1),o("user-menu",{staticClass:"header-index-right",style:e.topMenuStyle.headerIndexRight,attrs:{theme:e.theme}})],1)]),e.showGuideButton?o("div",{ref:"guidance",staticClass:"guide-wrapper",style:e.getGuideStyle,on:{mousedown:e.guideMouseDown}},[o("a-tooltip",{attrs:{placement:"left"}},[o("template",{slot:"title"},[e._v("\n          功能引导\n        ")]),o("a-button",{attrs:{type:"primary",shape:"circle",icon:"question-circle"},on:{click:function(t){return t.stopPropagation(),e.onGuideButtonClick.apply(null,arguments)}}})],2)],1):e._e()])},i=[],s=o("8d4db"),a=o("955f"),r=o("a250"),l=o("5719"),u=o("ac0d"),d=o("0fea"),c=o("2b0e"),h={name:"GlobalHeader",components:{UserMenu:s["default"],SMenu:a["a"],Logo:r["default"],ShortcutOperation:l["default"]},mixins:[u["a"]],props:{mode:{type:String,default:"sidemenu"},menus:{type:Array,required:!0},theme:{type:String,required:!1,default:"dark"},collapsed:{type:Boolean,required:!1,default:!1},device:{type:String,required:!1,default:"desktop"}},computed:{parentMenuObj:function(){return this.$store.state.permission.parentMenuObj},is_wuye_system:function(){return this.$store.state.app.is_wuye_system}},data:function(){return{headerBarFixed:!1,topMenuStyle:{headerIndexLeft:{},topNavHeader:{},headerIndexRight:{},topSmenuStyle:{}},chatStatus:"",todoCount:0,url:{todoList:"/act/task/todo"},searchVisible:"topLeftMenu"===this.mode,logoText:"",noChildMenus:[]}},watch:{device:function(){"topmenu"===this.mode&&this.buildTopMenuStyle()},mode:function(e){"topmenu"===e&&this.buildTopMenuStyle()},layoutMode:{immediate:!0,handler:function(e){"topLeftMenu"===e&&this.initNoChildMenu()}}},mounted:function(){window.addEventListener("scroll",this.handleScroll),"topmenu"===this.mode&&this.buildTopMenuStyle(),this.initTodo(),window._H5_INFO.systemVersion?this.logoText=window._H5_INFO.logoText+window._H5_INFO.systemVersion:this.logoText=window._H5_INFO.logoText},methods:{initNoChildMenu:function(){var e=this;this.noChildMenus=[],this.menus.forEach((function(t){t.hidden||e.noChildMenus.push(t)}))},noChildMenuSelect:function(e){var t=e.key;if(this.parentMenuObj&&this.parentMenuObj.length>0&&this.parentMenuObj[0].id===t)this.$bus.$emit("topLeftMenuLayoutTopMenuSelect",[this.noChildMenus[0]]),this.$store.commit("SET_PARENT_MENU",[this.noChildMenus[0]]);else{var o=this.noChildMenus.find((function(e){return e.id===t}));o&&(this.$bus.$emit("topLeftMenuLayoutTopMenuSelect",[o]),this.$store.commit("SET_PARENT_MENU",[o]))}},onGuideButtonClick:function(){var e=this;setTimeout((function(){var t=(c["default"].ls.get("guideSteps")||{})[e.$route.path];if(t){var o=new Driver;o.defineSteps(JSON.parse(t)),o.start()}}),10)},getPictureInfo:function(){var e=this;Object(d["e"])("/base/pictureConfigInfo/pictureInit").then((function(t){t.success&&t.result&&t.result.logoText&&(t.result.systemVersion?e.logoText=t.result.logoText+t.result.systemVersion:e.logoText=t.result.logoText+"V9.0")}))},initTodo:function(){this.$store.dispatch("setTodoNum")},handleScroll:function(){if(this.autoHideHeader){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.headerBarFixed=e>100}else this.headerBarFixed=!1},toggle:function(){this.$emit("toggle")},buildTopMenuStyle:function(){if("topmenu"===this.mode)if("mobile"===this.device)this.topMenuStyle.topNavHeader={},this.topMenuStyle.topSmenuStyle={},this.topMenuStyle.headerIndexRight={},this.topMenuStyle.headerIndexLeft={};else{var e="360px";this.topMenuStyle.topNavHeader={"min-width":"200px"},this.topMenuStyle.topSmenuStyle={width:"calc(100% - 200px)"},this.topMenuStyle.headerIndexRight={"min-width":e},this.topMenuStyle.headerIndexLeft={width:"calc(100% - ".concat(e,")")}}},handleUpdateMenuTitle:function(e){this.$emit("updateMenuTitle",e)},showSearch:function(){this.searchVisible=!this.searchVisible},goToTodoList:function(){this.$router.push("/activiti/TodoList")},guideMouseDown:function(e){var t,o=this.$refs.guidance;o.classList.add("mouseDownGuide"),o.style.left="calc(100% - 10px)",o.style.borderRadius="50%";var n=e||window.event,i=n.clientY-o.offsetTop;"undefined"!==typeof o.setCapture&&o.setCapture(),n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),document.onmousemove=function(e){var t=e||window.event,n=t.clientY-i;n<0?n=0:n>window.innerHeight-o.offsetHeight&&(n=window.innerHeight-o.offsetHeight),o.style.top=n+"px",c["default"].ls.set("guideYSite",{x:n+"px",y:"right"})},document.onmouseup=function(){"left"===t?(o.style.transform="translateY(-50%) translateX(0)",o.style.left="0px",o.style.borderRadius="0 18px 18px 0"):(o.style.transform="translateY(-50%) translateX(-100%)",o.style.left="100%",o.style.borderRadius="18px 0 0 18px"),document.onmousemove=void 0,"undefined"!==typeof o.releaseCapture&&o.releaseCapture()}},getGuideStyle:function(){var e,t=c["default"].ls.get("guideYSite")?c["default"].ls.get("guideYSite").x:"80%",o=c["default"].ls.get("guideYSite")?c["default"].ls.get("guideYSite").direction:"right";return e="right"===o?{top:t,left:"100%",transform:"translateY(-50%) translateX(-100%)"}:{top:t,left:"0",transform:"translateY(-50%) translateX(0)"},e}}},f=h,p=(o("45fe"),o("2877")),m=Object(p["a"])(f,n,i,!1,null,"4f3b2488",null);t["default"]=m.exports},"911cc":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"footer"},[o("div",{staticClass:"links"},[o("a",{attrs:{href:"http://www.jeecg.com",target:"_blank"}},[e._v("JEECG 首页")]),o("a",{attrs:{href:"https://github.com/zhangdaiscott/jeecg-boot",target:"_blank"}},[o("a-icon",{attrs:{type:"github"}})],1),o("a",{attrs:{href:"https://ant.design/"}},[e._v("Ant Design")]),o("a",{attrs:{href:"https://vuecomponent.github.io/ant-design-vue/docs/vue/introduce-cn/"}},[e._v("Vue Antd")])]),o("div",{staticClass:"copyright"},[e._v("\n    Copyright\n    "),o("a-icon",{attrs:{type:"copyright"}}),e._v("\n    2019 "),o("span",[e._v("JEECG开源社区 出品")])],1)])},i=[],s={name:"LayoutFooter"},a=s,r=(o("ff0a9"),o("2877")),l=Object(r["a"])(a,n,i,!1,null,"691c4966",null);t["default"]=l.exports},"9d35":function(e,t,o){"use strict";o("d376")},d376:function(e,t,o){},ff0a9:function(e,t,o){"use strict";o("5a75")}}]);