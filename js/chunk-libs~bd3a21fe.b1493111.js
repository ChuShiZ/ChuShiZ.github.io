(window["webpackJsonp_joinsoft-v9"]=window["webpackJsonp_joinsoft-v9"]||[]).push([["chunk-libs~bd3a21fe"],{"0014":function(t,e,n){"use strict";var i=n("e81d").is,o=n("99e7"),s=o.CONSUME_TOKEN_EVENT,r=o.GENERATE_TOKEN_EVENT,a=o.UPDATE_ELEMENT_EVENT;function c(t,e,n){this._animation=t,this._eventBus=e,this._log=n}c.prototype.consume=function(t){var e=t.element,n=t.processInstanceId,o=e.children.filter((function(t){return i(t,"bpmn:StartEvent")}))[0];o?(this._log.log("Starting Subprocess","info","fa-sign-in"),this._eventBus.fire(r,{element:o,parentProcessInstanceId:n})):(this._log.log("Skipping Subprocess","info","fa-angle-double-right"),this._eventBus.fire(r,t)),this._eventBus.fire(a,{element:e})},c.prototype.generate=function(t){var e=this,n=t.element,o=t.processInstanceId,r=n.outgoing.filter((function(t){return i(t,"bpmn:SequenceFlow")}));r.forEach((function(t){e._animation.createAnimation(t,o,(function(){e._eventBus.fire(s,{element:t.target,processInstanceId:o})}))})),this._eventBus.fire(a,{element:n})},c.$inject=["animation","eventBus","log"],t.exports=c},"0131":function(t,e,n){"use strict";var i=n("0af7"),o=n("99e7"),s=o.TOGGLE_MODE_EVENT,r=o.RESET_SIMULATION_EVENT,a=o.GENERATE_TOKEN_EVENT,c=-15,u=15;function f(t,e){var n=this;this._overlays=t,e.on(s,(function(t){var e=t.simulationModeActive;e||n.removeElementNotifications()})),e.on([r,a],(function(){n.removeElementNotifications()}))}f.prototype.addElementNotifications=function(t,e){var n=this;t.forEach((function(t){n.addElementNotification(t,e)}))},f.prototype.addElementNotification=function(t,e){var n={top:c,right:u},o='<div class="element-notification '+(e.type||"")+'">'+(e.icon?'<i class="fa '+e.icon+'"></i>':"")+('<span class="text">'+e.text+"</span>"||!1)+"</div>",s=i(o);this._overlays.add(t,"element-notification",{position:n,html:s,show:{minZoom:.5}})},f.prototype.removeElementNotifications=function(t){var e=this;t?t.forEach((function(t){e.removeElementNotification(t)})):this._overlays.remove({type:"element-notification"})},f.prototype.removeElementNotification=function(t){this._overlays.remove({element:t})},f.$inject=["overlays","eventBus"],t.exports=f},"0394":function(t,e,n){"use strict";var i=n("e81d").is,o=n("99e7"),s=o.CONSUME_TOKEN_EVENT,r=o.GENERATE_TOKEN_EVENT;function a(t,e){this._animation=t,this._eventBus=e}a.prototype.consume=function(t){this._eventBus.fire(r,{element:t})},a.prototype.generate=function(t){var e=this,n=t.outgoing.filter((function(t){return i(t,"bpmn:SequenceFlow")}));n.forEach((function(t){e._animation.createAnimation(t,(function(){e._eventBus.fire(s,{element:t.target})}))}))},a.$inject=["animation","eventBus"],t.exports=a},"04fb":function(t,e,n){"use strict";var i=n("99e7"),o=i.TOGGLE_MODE_EVENT,s=i.PROCESS_INSTANCE_CREATED_EVENT,r=i.PROCESS_INSTANCE_FINISHED_EVENT,a=i.PROCESS_INSTANCE_SHOWN_EVENT,c=i.PROCESS_INSTANCE_HIDDEN_EVENT,u=500;function f(t,e,n,i){var a=this;this._animation=t,this._eventBus=e,this._processInstances=n,this._elementRegistry=i,this._eventBus.on(s,u,(function(t){var e=t.parent,i=t.processInstanceId,o=n.getProcessInstances(e).filter((function(t){return!t.isFinished}));1===o.length?a.showProcessInstance(i,e):o.length>1&&a.hideProcessInstance(i)})),this._eventBus.on(r,u,(function(t){var e=t.parent,o=t.processInstanceId,s=n.getProcessInstances(e).filter((function(t){return o!==t.processInstanceId&&!t.isFinished}));s.length&&o===e.shownProcessInstance?a.showProcessInstance(s[0].processInstanceId,e):delete e.shownProcessInstance,e.parent||i.forEach((function(t){delete t.shownProcessInstance}))})),e.on(o,(function(){i.forEach((function(t){delete t.shownProcessInstance}))}))}f.prototype.showProcessInstance=function(t,e){this._animation.showProcessInstanceAnimations(t),e.shownProcessInstance=t,this._eventBus.fire(a,{processInstanceId:t})},f.prototype.hideProcessInstance=function(t){this._animation.hideProcessInstanceAnimations(t),this._eventBus.fire(c,{processInstanceId:t})},f.prototype.showNext=function(t){var e=this,n=this._processInstances.getProcessInstances(t),i=t.shownProcessInstance,o=0;for(let s=0;s<n.length;s++){if(n[s].processInstanceId===i)break;o++}n.forEach((function(t){e.hideProcessInstance(t.processInstanceId)})),o===n.length-1?this.showProcessInstance(n[0].processInstanceId,t):this.showProcessInstance(n[o+1].processInstanceId,t)},f.$inject=["animation","eventBus","processInstances","elementRegistry"],t.exports=f},"0809":function(t,e,n){t.exports=n("ddeb")},"0af7":function(t,e,n){t.exports=n("f95b")},"0ebc":function(t,e,n){"use strict";var i=n("4193"),o=n("e81d"),s=o.is,r=o.supportedElements,a=n("99e7"),c=a.TOGGLE_MODE_EVENT,u=a.GENERATE_TOKEN_EVENT,f=["bpmn:Process","bpmn:Collaboration","bpmn:Participant","bpmn:Lane","bpmn:TextAnnotation"];function l(t){return t.labelTarget}function h(t,e,n,o,r){var a=this;this._eventBus=t,this._elementRegistry=e,this._elementNotifications=r,this._notifications=o,this.canvasParent=n.getContainer().parentNode,t.on(u,2e4,(function(t){var e=t.element;if(s(e,"bpmn:StartEvent"))return a.allElementsSupported()?void 0:(a.showWarnings(),i(a.canvasParent).add("warning"),!0)})),t.on(c,(function(t){var e=t.simulationModeActive;e||i(a.canvasParent).remove("warning")}))}h.prototype.allElementsSupported=function(){var t=!0;return this._elementRegistry.forEach((function(e){s(e,f)||s(e,r)||l(e)||(t=!1)})),t},h.prototype.showWarnings=function(t){var e=this,n=[];this._elementRegistry.forEach((function(t){s(t,f)||s(t,r)||l(t)||(e.showWarning(t),n.indexOf(t.type)&&(e._notifications.showNotification(t.type+" not supported","warning"),n.push(t.type)))}))},h.prototype.showWarning=function(t){this._elementNotifications.addElementNotification(t,{type:"warning",icon:"fa-exclamation-triangle",text:"Not supported"})},h.$inject=["eventBus","elementRegistry","canvas","notifications","elementNotifications"],t.exports=h},"0fab":function(t,e,n){t.exports=n("c7ca")},1460:function(t,e){t.exports=function(t){var e;while(t.childNodes.length)e=t.childNodes[0],t.removeChild(e);return t}},17413:function(t,e,n){t.exports=n("af04")},"195c":function(t,e,n){t.exports=n("afc4")},2159:function(t,e,n){"use strict";var i=n("0af7"),o=n("99e7"),s=o.TOGGLE_MODE_EVENT,r=2e3;function a(t,e){var n=this;this._eventBus=t,this._canvas=e,this._init(),t.on(s,(function(t){var e=t.simulationModeActive;e||n.removeAll()}))}a.prototype._init=function(){this.container=i('<div class="notifications"></div>'),this._canvas.getContainer().appendChild(this.container)},a.prototype.showNotification=function(t,e,n){var o;n||(n="fa-info"),o=n.includes("bpmn")?'<i class="'+n+'"></i>':'<i class="fa '+n+'"></i>';var s=i('<div class="notification '+e+'"><span class="icon">'+o+"</span>"+t+"</div>");this.container.appendChild(s);while(this.container.children.length>5)this.container.children[0].remove();setTimeout((function(){s.remove()}),r)},a.prototype.removeAll=function(){while(this.container.children.length)this.container.children[0].remove()},a.$inject=["eventBus","canvas"],t.exports=a},"2ae0":function(t,e,n){t.exports=n("adb0")},"2c13":function(t,e,n){},"36ae":function(t,e,n){"use strict";var i=n("e81d").is,o=n("99e7"),s=o.UPDATE_ELEMENTS_EVENT;function r(t,e){this._eventBus=t,this._animation=e}r.prototype.consume=function(t){var e=t.element,n=t.processInstanceId;e.tokenCount||(e.tokenCount={}),e.tokenCount[n]||(e.tokenCount[n]=0),e.tokenCount[n]++;var o=e.outgoing,r=[];o.forEach((function(t){var e=t.target;i(e,"bpmn:IntermediateCatchEvent")&&r.push(e)})),this._eventBus.fire(s,{elements:r})},r.prototype.generate=function(){},r.$inject=["eventBus","animation"],t.exports=r},"36bc":function(t,e,n){"use strict";var i=n("e81d"),o=i.getBusinessObject,s=i.is,r=i.isAncestor,a=i.isTypedEvent,c=n("99e7"),u=c.CONSUME_TOKEN_EVENT,f=250;function l(t,e,n,i,o,s,r){this._animation=e,this._elementRegistry=n,this._log=i,this._elementNotifications=o,this._canvas=s,this._processInstances=r,t.on(u,f,(function(){}))}l.prototype.isDeadlock=function(){var t=this,e=[];this._elementRegistry.forEach((function(t){t.tokenCount&&e.push(t)}));var n=[],i=[];e.forEach((function(t){var e=t.outgoing.filter((function(t){return s(t,"bpmn:SequenceFlow")}));if(e.length||n.push(t),s(t,"bpmn:ParallelGateway")){var r=t.incoming.filter((function(t){return s(t,"bpmn:SequenceFlow")}));r.length>t.tokenCount&&n.push(t)}var c=[];function u(t){t.outgoing.forEach((function(e){if(-1===c.indexOf(e.target)){c.push(e.target);var n=a(o(e.target),"bpmn:TerminateEventDefinition");n&&i.push(t),u(e.target)}}))}u(t)})),e.length&&!i.length&&n.length&&!this._animation.animations.length&&(t._log.log("Deadlock","warning","fa-exclamation-triangle"),n.forEach((function(e){t._elementNotifications.addElementNotification(e,{type:"warning",icon:"fa-exclamation-triangle",text:"Deadlock"})})))},l.prototype.isFinished=function(t,e){var n=this._processInstances.getProcessInstance(e),i=n.parent,o=!1;i||(i=this._canvas.getRootElement()),i.children.forEach((function(t){t.tokenCount&&t.tokenCount[e]&&t.tokenCount[e].length&&(o=!0)}));var a=!1;if(this._animation.animations.forEach((function(t){r(i,t.element)&&t.processInstanceId===e&&(a=!0)})),!o&&!a)return s(i,"bpmn:SubProcess")?this._log.log("Subprocess "+e+" finished","info","fa-check-circle"):(this._log.log("Process "+e+" finished","success","fa-check-circle"),this._elementNotifications.addElementNotification(t,{type:"success",icon:"fa-check-circle",text:"Finished"})),!0},l.$inject=["eventBus","animation","elementRegistry","log","elementNotifications","canvas","processInstances"],t.exports=l},"3bf7":function(t,e,n){t.exports=n("6c3e")},4193:function(t,e,n){t.exports=n("3c55")},4225:function(t,e,n){"use strict";var i=n("0af7"),o=n("4193"),s=n("e19d"),r=n("69b6"),a=n("99e7"),c=a.TOGGLE_MODE_EVENT;function u(t,e,n){var i=this;this._canvas=t,this._animation=e,this._eventBus=n,this._init(),n.on(c,(function(t){var e=t.simulationModeActive;e?o(i.container).remove("hidden"):o(i.container).add("hidden")}))}u.prototype._init=function(){var t=this;this.container=i('<div class="set-animation-speed hidden"><i title="Set Animation Speed" class="fa fa-tachometer" aria-hidden="true"></i><div class="animation-speed-buttons"><div title="Slow" id="animation-speed-1" class="animation-speed-button"><i class="fa fa-angle-right" aria-hidden="true"></i></div><div title="Normal" id="animation-speed-2" class="animation-speed-button active"><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-angle-right" aria-hidden="true"></i></div><div title="Fast" id="animation-speed-3" class="animation-speed-button"><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-angle-right" aria-hidden="true"></i></div></div></div>');var e=r("#animation-speed-1",this.container),n=r("#animation-speed-2",this.container),o=r("#animation-speed-3",this.container);s.bind(e,"click",(function(){t.setActive(e),t._animation.setAnimationSpeed(.5)})),s.bind(n,"click",(function(){t.setActive(n),t._animation.setAnimationSpeed(1)})),s.bind(o,"click",(function(){t.setActive(o),t._animation.setAnimationSpeed(1.5)})),this._canvas.getContainer().appendChild(this.container)},u.prototype.setActive=function(t){r.all(".animation-speed-button",this.container).forEach((function(t){o(t).remove("active")})),o(t).add("active")},u.$inject=["canvas","animation","eventBus"],t.exports=u},4744:function(t,e,n){"use strict";var i=n("0af7"),o=n("e19d"),s=n("e81d").is,r=n("99e7"),a=r.GENERATE_TOKEN_EVENT,c=r.UPDATE_ELEMENT_EVENT;function u(t,e,n){this._eventBus=t,this._processInstances=e,this._processInstanceSettings=n}u.prototype.createContextPads=function(t){if(t.attachers.length&&this._processInstances.getProcessInstances(t).length){var e=t.incoming.filter((function(t){return s(t,"bpmn:SequenceFlow")})),n=this,r=[];return t.attachers.forEach((function(u){var f=u.outgoing.filter((function(t){return s(t,"bpmn:SequenceFlow")}));if(e.length&&f.length){var l=i('<div class="context-pad" title="Trigger Event"><i class="fa fa-play"></i></div>');r.push({element:u,html:l}),o.bind(l,"click",(function(){n._processInstances.getProcessInstances(t).forEach((function(e){var i=e.parentProcessInstanceId;u.businessObject.cancelActivity&&(t.children.forEach((function(t){t.tokenCount&&t.tokenCount[e.processInstanceId]&&t.tokenCount[e.processInstanceId]--})),n._processInstances.finish(e.processInstanceId),n._eventBus.fire(c,{element:t})),n._eventBus.fire(a,{element:u,processInstanceId:i})}))}))}})),r}},u.$inject=["eventBus","processInstances","processInstanceSettings"],t.exports=u},"47b8":function(t,e,n){"use strict";var i=n("0af7"),o=n("e19d");function s(t,e){this._processInstances=t,this._processInstanceSettings=e}s.prototype.createContextPads=function(t){var e=this,n=this._processInstances.getProcessInstances(t).filter((function(t){return!t.isFinished}));if(!(n.length<2)){var s=i('<div class="context-pad" title="View Process Instances"><i class="fa fa-list-ol"></i></div>');return o.bind(s,"click",(function(){e._processInstanceSettings.showNext(t)})),[{element:t,html:s}]}},s.$inject=["processInstances","processInstanceSettings"],t.exports=s},"4a56":function(t,e,n){"use strict";var i=n("0af7"),o=n("4193"),s=n("e19d"),r=n("e81d").is,a=n("99e7"),c=a.TOGGLE_MODE_EVENT,u=a.GENERATE_TOKEN_EVENT,f=a.RESET_SIMULATION_EVENT;function l(t,e,n,i){var s=this;this._eventBus=t,this._tokenSimulationPalette=e,this._notifications=n,this._elementRegistry=i,this._init(),t.on(u,(function(t){r(t.element,"bpmn:StartEvent")&&o(s.paletteEntry).remove("disabled")})),t.on(c,(function(t){var e=t.simulationModeActive;e||s.resetSimulation()}))}l.prototype._init=function(){var t=this;this.paletteEntry=i('<div class="entry disabled" title="Reset Simulation"><i class="fa fa-refresh"></i></div>'),s.bind(this.paletteEntry,"click",(function(){t.resetSimulation(),t._notifications.showNotification("Reset Simulation","info")})),this._tokenSimulationPalette.addEntry(this.paletteEntry,2)},l.prototype.resetSimulation=function(){o(this.paletteEntry).add("disabled"),this._elementRegistry.forEach((function(t){void 0!==t.tokenCount&&delete t.tokenCount})),this._eventBus.fire(f)},l.$inject=["eventBus","tokenSimulationPalette","notifications","elementRegistry"],t.exports=l},"563d":function(t,e,n){"use strict";var i=n("e81d"),o=i.is,s=n("99e7"),r=s.CONSUME_TOKEN_EVENT,a=s.UPDATE_ELEMENT_EVENT;function c(t,e,n){this._animation=t,this._eventBus=e,this._elementRegistry=n}c.prototype.consume=function(t){var e=t.element,n=t.processInstanceId;e.tokenCount||(e.tokenCount={}),e.tokenCount[n]||(e.tokenCount[n]=0),e.tokenCount[n]++,this._eventBus.fire(a,{element:e})},c.prototype.generate=function(t){var e=this,n=t.element,i=t.processInstanceId,s=n.outgoing.filter((function(t){return o(t,"bpmn:SequenceFlow")}));s.forEach((function(t){e._animation.createAnimation(t,i,(function(){e._eventBus.fire(r,{element:t.target,processInstanceId:i})}))}))},c.$inject=["animation","eventBus","elementRegistry"],t.exports=c},"56a8":function(t,e,n){"use strict";var i=n("0af7"),o=n("4193"),s=n("e19d"),r=n("69b6"),a=n("99e7"),c=a.TOGGLE_MODE_EVENT;function u(t,e,n,i){var o=this;this._eventBus=t,this._canvas=e,this._selection=n,this._contextPad=i,this.simulationModeActive=!1,t.on("import.done",(function(){o.canvasParent=o._canvas.getContainer().parentNode,o.palette=r(".djs-palette",o._canvas.getContainer()),o._init()}))}u.prototype._init=function(){this.container=i('\n    <div class="toggle-mode">\n      Token Simulation <span class="toggle"><i class="fa fa-toggle-off"></i></span>\n    </div>\n  '),s.bind(this.container,"click",this.toggleMode.bind(this)),this._canvas.getContainer().appendChild(this.container)},u.prototype.toggleMode=function(){if(this.simulationModeActive){this.container.innerHTML='Token Simulation <span class="toggle"><i class="fa fa-toggle-off"></i></span>',o(this.canvasParent).remove("simulation"),o(this.palette).remove("hidden"),this._eventBus.fire(c,{simulationModeActive:!1});var t=this._selection.get();1===t.length&&this._contextPad.open(t[0])}else this.container.innerHTML='Token Simulation <span class="toggle"><i class="fa fa-toggle-on"></i></span>',o(this.canvasParent).add("simulation"),o(this.palette).add("hidden"),this._eventBus.fire(c,{simulationModeActive:!0});this.simulationModeActive=!this.simulationModeActive},u.$inject=["eventBus","canvas","selection","contextPad"],t.exports=u},"5c13":function(t,e,n){t.exports=n("7e75")},"5dc1":function(t,e,n){t.exports=n("ae90")},"6667c":function(t,e,n){t.exports=n("4225")},"676c":function(t,e,n){t.exports=n("2159")},"69b6":function(t,e,n){t.exports=n("1145")},"6a33":function(t,e,n){"use strict";var i=n("99e7"),o=i.TOGGLE_MODE_EVENT,s=10001;function r(t,e,n,i,r,c,u,f){var l=this;function h(t,e,n){var i=t[e];t[e]=function(){return n.call(this,i,arguments)}}function p(t,e){h(t,e,(function(t,e){if(!l.modelingDisabled)return t.apply(this,e)}))}function d(t,e){h(t,e,(function(t,e){if(l.modelingDisabled)throw new Error("model is read-only");return t.apply(this,e)}))}this._eventBus=t,this.modelingDisabled=!1,t.on(o,s,(function(t){var o=t.simulationModeActive;l.modelingDisabled=o,l.modelingDisabled&&(i.cancel(),e.close(),n.cancel()),u._update()})),p(e,"open"),p(n,"init"),p(i,"activate"),p(n,"init"),p(i,"activate"),d(c,"moveShape"),d(c,"updateAttachment"),d(c,"moveElements"),d(c,"moveConnection"),d(c,"layoutConnection"),d(c,"createConnection"),d(c,"createShape"),d(c,"createLabel"),d(c,"appendShape"),d(c,"removeElements"),d(c,"distributeElements"),d(c,"removeShape"),d(c,"removeConnection"),d(c,"replaceShape"),d(c,"pasteElements"),d(c,"alignElements"),d(c,"resizeShape"),d(c,"createSpace"),d(c,"updateWaypoints"),d(c,"reconnectStart"),d(c,"reconnectEnd"),h(r,"trigger",(function(t,e){var n=e[0];if(!l.modelingDisabled||!a(["undo","redo","copy","paste","removeSelection","spaceTool","lassoTool","globalConnectTool","distributeElements","alignElements","directEditing"],n))return t.apply(this,e)}))}function a(t,e){return t.indexOf(e)>-1}r.$inject=["eventBus","contextPad","dragging","directEditing","editorActions","modeling","palette","paletteProvider"],t.exports=r},"6aa5":function(t,e,n){t.exports=n("f338")},"6c3e":function(t,e,n){t.exports={__init__:["animation","contextPads","disableModeling","elementNotifications","elementSupport","exclusiveGatewaySettings","log","notifications","pauseSimulation","preserveElementColors","processInstanceIds","processInstanceSettings","processInstances","resetSimulation","setAnimationSpeed","showProcessInstance","simulationState","toggleMode","tokenCount","tokenSimulationBehavior","tokenSimulationEditorActions","tokenSimulationKeyboardBindings","tokenSimulationPalette"],animation:["type",n("da797")],contextPads:["type",n("17413")],disableModeling:["type",n("e1cb")],elementNotifications:["type",n("76ca")],elementSupport:["type",n("857f")],exclusiveGatewaySettings:["type",n("6aa5")],log:["type",n("195c")],notifications:["type",n("676c")],pauseSimulation:["type",n("88da")],preserveElementColors:["type",n("2ae0")],processInstanceIds:["type",n("5c13")],processInstanceSettings:["type",n("a55b")],processInstances:["type",n("989f")],resetSimulation:["type",n("9b6e")],setAnimationSpeed:["type",n("6667c")],showProcessInstance:["type",n("0809")],simulationState:["type",n("9390")],toggleMode:["type",n("ff13")],tokenCount:["type",n("f2bb")],tokenSimulationBehavior:["type",n("5dc1")],tokenSimulationEditorActions:["type",n("0fab")],tokenSimulationKeyboardBindings:["type",n("cfa6")],tokenSimulationPalette:["type",n("a60b")]}},"711d":function(t,e,n){"use strict";var i=n("e81d").is,o=n("99e7"),s=o.CONSUME_TOKEN_EVENT,r=o.GENERATE_TOKEN_EVENT;function a(t,e){this._animation=t,this._eventBus=e}a.prototype.consume=function(t){this._eventBus.fire(r,t)},a.prototype.generate=function(t){var e=this,n=t.element,o=t.processInstanceId,r=n.outgoing.filter((function(t){return i(t,"bpmn:SequenceFlow")}));r.forEach((function(t){e._animation.createAnimation(t,o,(function(){e._eventBus.fire(s,{element:t.target,processInstanceId:o})}))}))},a.$inject=["animation","eventBus"],t.exports=a},"76ca":function(t,e,n){t.exports=n("0131")},"7e75":function(t,e,n){"use strict";var i=n("99e7"),o=i.TOGGLE_MODE_EVENT,s=i.RESET_SIMULATION_EVENT;function r(t){this.nextProcessInstanceId=1,t.on(o,this.reset.bind(this)),t.on(s,this.reset.bind(this))}r.prototype.getNext=function(){var t=this.nextProcessInstanceId;return this.nextProcessInstanceId++,t},r.prototype.reset=function(){this.nextProcessInstanceId=1},r.$inject=["eventBus"],t.exports=r},"857f":function(t,e,n){t.exports=n("0ebc")},"865a":function(t,e,n){"use strict";var i=n("99e7"),o=i.TOGGLE_MODE_EVENT,s=1e4;function r(t,e){var n=e.get("editorActions",!1),i=e.get("keyboard",!1);if(i&&n){var r=!1;t.on("keyboard.init",(function(){i.addListener(s,(function(t){var e=t.keyEvent;c(e)}))})),t.on(o,(function(t){var e=t.simulationModeActive;r=!!e}))}function c(t){return a(["t","T"],t)?(n.trigger("toggleTokenSimulation"),!0):r?a(["l","L"],t)?(n.trigger("toggleTokenSimulationLog"),!0):a([" ","Spacebar"],t)?(n.trigger("togglePauseTokenSimulation"),!0):a(["r","R"],t)?(n.trigger("resetTokenSimulation"),!0):void 0:void 0}}function a(t,e){return t.indexOf(e.key)>-1}r.$inject=["eventBus","injector"],t.exports=r},"88da":function(t,e,n){t.exports=n("9d58")},"8da0":function(t,e,n){"use strict";var i=n("e81d").is,o=n("99e7"),s=o.CONSUME_TOKEN_EVENT,r=o.UPDATE_ELEMENTS_EVENT;function a(t,e,n,i){this._animation=t,this._eventBus=e,this._elementRegistry=n,this._processInstances=i}a.prototype.consume=function(){},a.prototype.generate=function(t){var e=this,n=t.element,o=t.parentProcessInstanceId,a=n.outgoing.filter((function(t){return i(t,"bpmn:SequenceFlow")})),c=n.parent,u=this._processInstances.create(c,o);if(a.forEach((function(t){e._animation.createAnimation(t,u,(function(){e._eventBus.fire(s,{element:t.target,processInstanceId:u})}))})),!i(n.parent,"bpmn:SubProcess")){var f=this._elementRegistry.filter((function(t){return i(t,"bpmn:StartEvent")}));this._eventBus.fire(r,{elements:f})}},a.$inject=["animation","eventBus","elementRegistry","processInstances"],t.exports=a},"8ea4":function(t,e){t.exports.getMid=function(t){var e=t.bbox();return{x:e.x+e.width/2,y:e.y+e.height/2}},t.exports.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}},9243:function(t,e,n){"use strict";var i=n("e81d").is,o=n("99e7"),s=o.CONSUME_TOKEN_EVENT,r=o.GENERATE_TOKEN_EVENT;function a(t,e){this._animation=t,this._eventBus=e}a.prototype.consume=function(t){var e=t.element,n=t.processInstanceId;e.tokenCount||(e.tokenCount={}),e.tokenCount[n]||(e.tokenCount[n]=0),e.tokenCount[n]++;var i=e.incoming;i.length===e.tokenCount[n]&&(this._eventBus.fire(r,t),e.tokenCount[n]=0)},a.prototype.generate=function(t){var e=this,n=t.element,o=t.processInstanceId,r=n.outgoing.filter((function(t){return i(t,"bpmn:SequenceFlow")}));r.forEach((function(t){e._animation.createAnimation(t,o,(function(){e._eventBus.fire(s,{element:t.target,processInstanceId:o})}))}))},a.$inject=["animation","eventBus"],t.exports=a},9342:function(t,e,n){"use strict";var i=n("e81d").is,o=n("0af7"),s=n("e19d");function r(t){this._exclusiveGatewaySettings=t}r.prototype.createContextPads=function(t){var e=this,n=t.outgoing.filter((function(t){return i(t,"bpmn:SequenceFlow")}));if(!(n.length<2)){var r=o('<div class="context-pad" title="Set Sequence Flow"><i class="fa fa-code-fork"></i></div>');return s.bind(r,"click",(function(){e._exclusiveGatewaySettings.setSequenceFlow(t)})),[{element:t,html:r}]}},r.$inject=["exclusiveGatewaySettings"],t.exports=r},9390:function(t,e,n){t.exports=n("36bc")},"989f":function(t,e,n){t.exports=n("da53")},"99e7":function(t,e){var n="tokenSimulation";t.exports={TOGGLE_MODE_EVENT:n+".toggleMode",GENERATE_TOKEN_EVENT:n+".generateToken",CONSUME_TOKEN_EVENT:n+".consumeToken",PLAY_SIMULATION_EVENT:n+".playSimulation",PAUSE_SIMULATION_EVENT:n+".pauseSimulation",RESET_SIMULATION_EVENT:n+".resetSimulation",TERMINATE_EVENT:n+".terminateEvent",UPDATE_ELEMENTS_EVENT:n+".updateElements",UPDATE_ELEMENT_EVENT:n+".updateElement",PROCESS_INSTANCE_CREATED_EVENT:n+".processInstanceCreated",PROCESS_INSTANCE_FINISHED_EVENT:n+".processInstanceFinished",PROCESS_INSTANCE_SHOWN_EVENT:n+".processInstanceShown",PROCESS_INSTANCE_HIDDEN_EVENT:n+".processInstanceHidden",ANIMATION_CREATED_EVENT:n+".animationCreated"}},"9b6e":function(t,e,n){t.exports=n("4a56")},"9d58":function(t,e,n){"use strict";var i=n("0af7"),o=n("4193"),s=n("e19d"),r=n("99e7"),a=r.TOGGLE_MODE_EVENT,c=r.PLAY_SIMULATION_EVENT,u=r.PAUSE_SIMULATION_EVENT,f=r.RESET_SIMULATION_EVENT,l=r.ANIMATION_CREATED_EVENT,h=r.PROCESS_INSTANCE_CREATED_EVENT,p='<i class="fa fa-play"></i>',d='<i class="fa fa-pause"></i>';function E(t,e,n,i){var o=this;this._eventBus=t,this._tokenSimulationPalette=e,this._notifications=n,this.canvasParent=i.getContainer().parentNode,this.isActive=!1,this.isPaused=!1,this._init(),t.on(h,(function(t){var e=t.parent;e.parent||(o.activate(),o.unpause(),n.showNotification("Start Simulation","info"))})),t.on([f,a],(function(){o.deactivate(),o.unpause()})),t.on(l,(function(t){var e=t.animation;o.isPaused&&e.pause()}))}E.prototype._init=function(){this.paletteEntry=i('<div class="entry disabled" title="Play/Pause Simulation">'+p+"</div>"),s.bind(this.paletteEntry,"click",this.toggle.bind(this)),this._tokenSimulationPalette.addEntry(this.paletteEntry,1)},E.prototype.toggle=function(){this.isActive&&(this.isPaused?this.unpause():this.pause())},E.prototype.pause=function(){this.isActive&&(o(this.paletteEntry).remove("active"),o(this.canvasParent).add("paused"),this.paletteEntry.innerHTML=p,this._eventBus.fire(u),this._notifications.showNotification("Pause Simulation","info"),this.isPaused=!0)},E.prototype.unpause=function(){this.isActive&&(o(this.paletteEntry).add("active"),o(this.canvasParent).remove("paused"),this.paletteEntry.innerHTML=d,this._eventBus.fire(c),this._notifications.showNotification("Play Simulation","info"),this.isPaused=!1)},E.prototype.activate=function(){this.isActive=!0,o(this.paletteEntry).remove("disabled")},E.prototype.deactivate=function(){this.isActive=!1,o(this.paletteEntry).remove("active"),o(this.paletteEntry).add("disabled")},E.$inject=["eventBus","tokenSimulationPalette","notifications","canvas"],t.exports=E},"9dcd":function(t,e,n){var i;(function(o){"use strict";var s,r=20,a=1,c=1e6,u=1e6,f=-7,l=21,h="[big.js] ",p=h+"Invalid ",d=p+"decimal places",E=p+"rounding mode",m=h+"Division by zero",v={},g=void 0,_=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function y(){function t(e){var n=this;if(!(n instanceof t))return e===g?y():new t(e);e instanceof t?(n.s=e.s,n.e=e.e,n.c=e.c.slice()):T(n,e),n.constructor=t}return t.prototype=v,t.DP=r,t.RM=a,t.NE=f,t.PE=l,t.version="5.2.2",t}function T(t,e){var n,i,o;if(0===e&&1/e<0)e="-0";else if(!_.test(e+=""))throw Error(p+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),o=e.length,i=0;i<o&&"0"==e.charAt(i);)++i;if(i==o)t.c=[t.e=0];else{for(;o>0&&"0"==e.charAt(--o););for(t.e=n-i-1,t.c=[],n=0;i<=o;)t.c[n++]=+e.charAt(i++)}return t}function I(t,e,n,i){var o=t.c,s=t.e+e+1;if(s<o.length){if(1===n)i=o[s]>=5;else if(2===n)i=o[s]>5||5==o[s]&&(i||s<0||o[s+1]!==g||1&o[s-1]);else if(3===n)i=i||!!o[0];else if(i=!1,0!==n)throw Error(E);if(s<1)o.length=1,i?(t.e=-e,o[0]=1):o[0]=t.e=0;else{if(o.length=s--,i)for(;++o[s]>9;)o[s]=0,s--||(++t.e,o.unshift(1));for(s=o.length;!o[--s];)o.pop()}}else if(n<0||n>3||n!==~~n)throw Error(E);return t}function N(t,e,n,i){var o,s,r=t.constructor,a=!t.c[0];if(n!==g){if(n!==~~n||n<(3==e)||n>c)throw Error(3==e?p+"precision":d);for(t=new r(t),n=i-t.e,t.c.length>++i&&I(t,n,r.RM),2==e&&(i=t.e+n+1);t.c.length<i;)t.c.push(0)}if(o=t.e,s=t.c.join(""),n=s.length,2!=e&&(1==e||3==e&&i<=o||o<=r.NE||o>=r.PE))s=s.charAt(0)+(n>1?"."+s.slice(1):"")+(o<0?"e":"e+")+o;else if(o<0){for(;++o;)s="0"+s;s="0."+s}else if(o>0)if(++o>n)for(o-=n;o--;)s+="0";else o<n&&(s=s.slice(0,o)+"."+s.slice(o));else n>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&(!a||4==e)?"-"+s:s}v.abs=function(){var t=new this.constructor(this);return t.s=1,t},v.cmp=function(t){var e,n=this,i=n.c,o=(t=new n.constructor(t)).c,s=n.s,r=t.s,a=n.e,c=t.e;if(!i[0]||!o[0])return i[0]?s:o[0]?-r:0;if(s!=r)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(r=(a=i.length)<(c=o.length)?a:c,s=-1;++s<r;)if(i[s]!=o[s])return i[s]>o[s]^e?1:-1;return a==c?0:a>c^e?1:-1},v.div=function(t){var e=this,n=e.constructor,i=e.c,o=(t=new n(t)).c,s=e.s==t.s?1:-1,r=n.DP;if(r!==~~r||r<0||r>c)throw Error(d);if(!o[0])throw Error(m);if(!i[0])return new n(0*s);var a,u,f,l,h,p=o.slice(),E=a=o.length,v=i.length,_=i.slice(0,a),y=_.length,T=t,N=T.c=[],b=0,S=r+(T.e=e.e-t.e)+1;for(T.s=s,s=S<0?0:S,p.unshift(0);y++<a;)_.push(0);do{for(f=0;f<10;f++){if(a!=(y=_.length))l=a>y?1:-1;else for(h=-1,l=0;++h<a;)if(o[h]!=_[h]){l=o[h]>_[h]?1:-1;break}if(!(l<0))break;for(u=y==a?o:p;y;){if(_[--y]<u[y]){for(h=y;h&&!_[--h];)_[h]=9;--_[h],_[y]+=10}_[y]-=u[y]}for(;!_[0];)_.shift()}N[b++]=l?f:++f,_[0]&&l?_[y]=i[E]||0:_=[i[E]]}while((E++<v||_[0]!==g)&&s--);return N[0]||1==b||(N.shift(),T.e--),b>S&&I(T,r,n.RM,_[0]!==g),T},v.eq=function(t){return!this.cmp(t)},v.gt=function(t){return this.cmp(t)>0},v.gte=function(t){return this.cmp(t)>-1},v.lt=function(t){return this.cmp(t)<0},v.lte=function(t){return this.cmp(t)<1},v.minus=v.sub=function(t){var e,n,i,o,s=this,r=s.constructor,a=s.s,c=(t=new r(t)).s;if(a!=c)return t.s=-c,s.plus(t);var u=s.c.slice(),f=s.e,l=t.c,h=t.e;if(!u[0]||!l[0])return l[0]?(t.s=-c,t):new r(u[0]?s:0);if(a=f-h){for((o=a<0)?(a=-a,i=u):(h=f,i=l),i.reverse(),c=a;c--;)i.push(0);i.reverse()}else for(n=((o=u.length<l.length)?u:l).length,a=c=0;c<n;c++)if(u[c]!=l[c]){o=u[c]<l[c];break}if(o&&(i=u,u=l,l=i,t.s=-t.s),(c=(n=l.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;n>a;){if(u[--n]<l[n]){for(e=n;e&&!u[--e];)u[e]=9;--u[e],u[n]+=10}u[n]-=l[n]}for(;0===u[--c];)u.pop();for(;0===u[0];)u.shift(),--h;return u[0]||(t.s=1,u=[h=0]),t.c=u,t.e=h,t},v.mod=function(t){var e,n=this,i=n.constructor,o=n.s,s=(t=new i(t)).s;if(!t.c[0])throw Error(m);return n.s=t.s=1,e=1==t.cmp(n),n.s=o,t.s=s,e?new i(n):(o=i.DP,s=i.RM,i.DP=i.RM=0,n=n.div(t),i.DP=o,i.RM=s,this.minus(n.times(t)))},v.plus=v.add=function(t){var e,n=this,i=n.constructor,o=n.s,s=(t=new i(t)).s;if(o!=s)return t.s=-s,n.minus(t);var r=n.e,a=n.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]?t:new i(a[0]?n:0*o);if(a=a.slice(),o=r-c){for(o>0?(c=r,e=u):(o=-o,e=a),e.reverse();o--;)e.push(0);e.reverse()}for(a.length-u.length<0&&(e=u,u=a,a=e),o=u.length,s=0;o;a[o]%=10)s=(a[--o]=a[o]+u[o]+s)/10|0;for(s&&(a.unshift(s),++c),o=a.length;0===a[--o];)a.pop();return t.c=a,t.e=c,t},v.pow=function(t){var e=this,n=new e.constructor(1),i=n,o=t<0;if(t!==~~t||t<-u||t>u)throw Error(p+"exponent");for(o&&(t=-t);;){if(1&t&&(i=i.times(e)),t>>=1,!t)break;e=e.times(e)}return o?n.div(i):i},v.round=function(t,e){var n=this.constructor;if(t===g)t=0;else if(t!==~~t||t<-c||t>c)throw Error(d);return I(new n(this),t,e===g?n.RM:e)},v.sqrt=function(){var t,e,n,i=this,o=i.constructor,s=i.s,r=i.e,a=new o(.5);if(!i.c[0])return new o(i);if(s<0)throw Error(h+"No square root");s=Math.sqrt(i+""),0===s||s===1/0?(e=i.c.join(""),e.length+r&1||(e+="0"),s=Math.sqrt(e),r=((r+1)/2|0)-(r<0||1&r),t=new o((s==1/0?"1e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+r)):t=new o(s),r=t.e+(o.DP+=4);do{n=t,t=a.times(n.plus(i.div(n)))}while(n.c.slice(0,r).join("")!==t.c.slice(0,r).join(""));return I(t,o.DP-=4,o.RM)},v.times=v.mul=function(t){var e,n=this,i=n.constructor,o=n.c,s=(t=new i(t)).c,r=o.length,a=s.length,c=n.e,u=t.e;if(t.s=n.s==t.s?1:-1,!o[0]||!s[0])return new i(0*t.s);for(t.e=c+u,r<a&&(e=o,o=s,s=e,u=r,r=a,a=u),e=new Array(u=r+a);u--;)e[u]=0;for(c=a;c--;){for(a=0,u=r+c;u>c;)a=e[u]+s[c]*o[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=(e[u]+a)%10}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},v.toExponential=function(t){return N(this,1,t,t)},v.toFixed=function(t){return N(this,2,t,this.e+t)},v.toPrecision=function(t){return N(this,3,t,t-1)},v.toString=function(){return N(this)},v.valueOf=v.toJSON=function(){return N(this,4)},s=y(),s["default"]=s.Big=s,i=function(){return s}.call(e,n,e,t),void 0===i||(t.exports=i)})()},a55b:function(t,e,n){t.exports=n("04fb")},a60b:function(t,e,n){t.exports=n("f440")},adb0:function(t,e,n){"use strict";var i=n("99e7"),o=i.TOGGLE_MODE_EVENT,s=5e4;function r(t,e,n){var i=this;this._elementRegistry=e,this._graphicsFactory=n,this.elementColors={},t.on(o,s,(function(t){var e=t.simulationModeActive;e?i.preserveColors():i.resetColors()}))}r.prototype.preserveColors=function(){var t=this;this._elementRegistry.forEach((function(e){t.elementColors[e.id]={stroke:e.businessObject.di.get("stroke"),fill:e.businessObject.di.get("fill")},t.setColor(e,"#000","#fff")}))},r.prototype.resetColors=function(){var t=this;this._elementRegistry.forEach((function(e){t.elementColors[e.id]&&t.setColor(e,t.elementColors[e.id].stroke,t.elementColors[e.id].fill)})),this.elementColors={}},r.prototype.setColor=function(t,e,n){var i=t.businessObject;i.di.set("stroke",e),i.di.set("fill",n);var o=this._elementRegistry.getGraphics(t),s=t.waypoints?"connection":"shape";this._graphicsFactory.update(s,t,o)},r.$inject=["eventBus","elementRegistry","graphicsFactory"],t.exports=r},ae90:function(t,e,n){"use strict";var i=n("fcbd"),o=n("36ae"),s=n("cef9"),r=n("edde"),a=n("0394"),c=n("9243"),u=n("8da0"),f=n("0014"),l=n("563d"),h=n("711d"),p=n("99e7"),d=p.GENERATE_TOKEN_EVENT,E=p.CONSUME_TOKEN_EVENT;function m(t,e,n){var p=this;this._injector=n,this.handlers={},this.registerHandler("bpmn:EndEvent",i),this.registerHandler("bpmn:EventBasedGateway",o),this.registerHandler("bpmn:ExclusiveGateway",s),this.registerHandler("bpmn:IntermediateCatchEvent",r),this.registerHandler("bpmn:IntermediateThrowEvent",a),this.registerHandler("bpmn:ParallelGateway",c),this.registerHandler("bpmn:StartEvent",u),this.registerHandler("bpmn:SubProcess",f),this.registerHandler("bpmn:BoundaryEvent",l),this.registerHandler(["bpmn:BusinessRuleTask","bpmn:CallActivity","bpmn:ManualTask","bpmn:ScriptTask","bpmn:ServiceTask","bpmn:Task","bpmn:UserTask"],h),t.on(d,(function(t){var e=t.element;if(!p.handlers[e.type])throw new Error("no handler for type "+e.type);p.handlers[e.type].generate(t)})),t.on(E,(function(t){var e=t.element;if(!p.handlers[e.type])throw new Error("no handler for type "+e.type);p.handlers[e.type].consume(t)}))}m.prototype.registerHandler=function(t,e){var n=this,i=this._injector.instantiate(e);Array.isArray(t)||(t=[t]),t.forEach((function(t){n.handlers[t]=i}))},m.$inject=["eventBus","animation","injector"],t.exports=m},af04:function(t,e,n){"use strict";var i=n("e81d"),o=i.isAncestor,s=n("99e7"),r=s.TOGGLE_MODE_EVENT,a=s.RESET_SIMULATION_EVENT,c=s.TERMINATE_EVENT,u=s.UPDATE_ELEMENTS_EVENT,f=s.UPDATE_ELEMENT_EVENT,l=s.PROCESS_INSTANCE_SHOWN_EVENT,h=n("4744"),p=n("9342"),d=n("ce60"),E=n("47b8"),m=n("b9b0"),v=500,g=-15,_=-15;function y(t,e,n,i,o,s){var g=this;this._elementRegistry=e,this._overlays=n,this._injector=i,this._canvas=o,this._processInstances=s,this.overlayIds={},this.handlers={},this.registerHandler("bpmn:ExclusiveGateway",p),this.registerHandler("bpmn:IntermediateCatchEvent",d),this.registerHandler("bpmn:SubProcess",E),this.registerHandler("bpmn:SubProcess",h),this.registerHandler("bpmn:StartEvent",m),t.on(r,v,(function(t){var e=t.simulationModeActive;e?g.openContextPads():g.closeContextPads()})),t.on(a,v,(function(){g.closeContextPads(),g.openContextPads()})),t.on(c,v,(function(t){var e=t.element,n=e.parent;g.closeContextPads(n)})),t.on(u,v,(function(t){var e=t.elements;e.forEach((function(t){g.closeElementContextPads(t),g.openElementContextPads(t)}))})),t.on(f,v,(function(t){var e=t.element;g.closeElementContextPads(e),g.openElementContextPads(e)})),t.on(l,(function(t){var e=t.processInstanceId,n=s.getProcessInstance(e),i=n.parent;g.closeContextPads(i),g.openContextPads(i)}))}y.prototype.registerHandler=function(t,e){var n=this._injector.instantiate(e);this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(n)},y.prototype.openContextPads=function(t){var e=this;t||(t=this._canvas.getRootElement()),this._elementRegistry.forEach((function(n){e.handlers[n.type]&&o(t,n)&&e.openElementContextPads(n)}))},y.prototype.openElementContextPads=function(t){if(this.handlers[t.type]){var e=[];this.handlers[t.type].forEach((function(n){var i=n.createContextPads(t);i&&i.forEach((function(t){t&&e.push(t)}))}));var n=this;e.forEach((function(t){var e={top:g,left:_},i=n._overlays.add(t.element,"context-menu",{position:e,html:t.html,show:{minZoom:.5}});n.overlayIds[t.element.id]=i}))}},y.prototype.closeContextPads=function(t){var e=this;t||(t=this._canvas.getRootElement()),this._elementRegistry.forEach((function(n){o(t,n)&&e.closeElementContextPads(n)}))},y.prototype.closeElementContextPads=function(t){var e=this;t.attachers&&t.attachers.length>0&&t.attachers.forEach((function(t){e.closeElementContextPads(t)})),t.children&&t.children.length>0&&t.children.forEach((function(t){e.closeElementContextPads(t)}));var n=this.overlayIds[t.id];n&&(this._overlays.remove(n),delete this.overlayIds[t.id])},y.$inject=["eventBus","elementRegistry","overlays","injector","canvas","processInstances"],t.exports=y},afc4:function(t,e,n){"use strict";var i=n("0af7"),o=n("4193"),s=n("e19d"),r=n("69b6"),a=n("e81d"),c=a.getBusinessObject,u=a.is,f=a.isTypedEvent,l=n("99e7"),h=l.GENERATE_TOKEN_EVENT,p=l.CONSUME_TOKEN_EVENT,d=l.TOGGLE_MODE_EVENT,E=l.RESET_SIMULATION_EVENT,m=l.PROCESS_INSTANCE_CREATED_EVENT;function v(t){return t&&t.businessObject.name}function g(t,e,n,i){var s=this;this._notifications=e,this._tokenSimulationPalette=n,this._canvas=i,this._init(),t.on(h,(function(t){var e=t.element,n=v(e);if(u(e,"bpmn:BusinessRuleTask"))s.log(n||"Business Rule Task","info","bpmn-icon-business-rule");else if(u(e,"bpmn:CallActivity"))s.log(n||"Call Activity","info","bpmn-icon-call-activity");else if(u(e,["bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent"]))s.log(n||"Intermediate Event","info","bpmn-icon-intermediate-event-none");else if(u(e,"bpmn:ManualTask"))s.log(n||"Manual Task","info","bpmn-icon-manual");else if(u(e,"bpmn:ScriptTask"))s.log(n||"Script Task","info","bpmn-icon-script");else if(u(e,"bpmn:ServiceTask"))s.log(n||"Service Task","info","bpmn-icon-service");else if(u(e,"bpmn:StartEvent"))s.log(n||"Start Event","info","bpmn-icon-start-event-none");else if(u(e,"bpmn:Task"))s.log(n||"Task","info","bpmn-icon-task");else if(u(e,"bpmn:UserTask"))s.log(n||"User Task","info","bpmn-icon-user");else if(u(e,"bpmn:ExclusiveGateway")){if(e.outgoing.length<2)return;var i=v(e.sequenceFlow),o=n||"Gateway";i&&(o=o.concat(' <i class="fa fa-angle-right" aria-hidden="true"></i> '+i)),s.log(o,"info","bpmn-icon-gateway-xor")}})),t.on(p,(function(t){var e=t.element,n=v(e);u(e,"bpmn:EndEvent")&&(f(c(e),"bpmn:TerminateEventDefinition")?s.log(n||"Terminate End Event","info","bpmn-icon-end-event-terminate"):s.log(n||"End Event","info","bpmn-icon-end-event-none"))})),t.on(m,(function(t){var e=t.processInstanceId,n=t.parent;u(n,"bpmn:Process")?s.log("Process "+e+" started","success","fa-check"):s.log("Subprocess "+e+" started","info","fa-check")})),t.on(d,(function(t){var e=t.simulationModeActive;e||(s.emptyLog(),o(s.container).add("hidden"))})),t.on(E,(function(t){s.emptyLog(),o(s.container).add("hidden")}))}g.prototype._init=function(){var t=this;this.container=i('<div class="token-simulation-log hidden"><div class="header"><i class="fa fa-align-left"></i><button class="close"><i class="fa fa-times" aria-hidden="true"></i></button></div><div class="content"><p class="entry placeholder">No Entries</p></div></div>'),this.placeholder=r(".placeholder",this.container),this.content=r(".content",this.container),s.bind(this.content,"wheel",(function(t){t.stopPropagation()})),s.bind(this.content,"mousedown",(function(t){t.stopPropagation()})),this.close=r(".close",this.container),s.bind(this.close,"click",(function(){o(t.container).add("hidden")})),this.icon=r(".fa-align-left",this.container),s.bind(this.icon,"click",(function(){o(t.container).add("hidden")})),this._canvas.getContainer().appendChild(this.container),this.paletteEntry=i('<div class="entry" title="Show Simulation Log"><i class="fa fa-align-left"></i></div>'),s.bind(this.paletteEntry,"click",(function(){o(t.container).remove("hidden")})),this._tokenSimulationPalette.addEntry(this.paletteEntry,3)},g.prototype.toggle=function(){var t=this.container;o(t).has("hidden")?o(t).remove("hidden"):o(t).add("hidden")},g.prototype.log=function(t,e,n){o(this.placeholder).add("hidden");var s,r=new Date,a=r.toLocaleTimeString()+":"+r.getUTCMilliseconds();this._notifications.showNotification(t,e,n),n||(n="fa-info"),s=n.includes("bpmn")?'<span class="icon '+n+'">':'<i class="icon fa '+n+'"></i>';var c=i('<p class="entry '+e+'"><span class="date">'+a+"</span>"+s+"</span>"+t+"</p>");this.content.appendChild(c),this.content.scrollTop=this.content.scrollHeight},g.prototype.emptyLog=function(){while(this.content.firstChild)this.content.removeChild(this.content.firstChild);this.placeholder=i('<p class="entry placeholder">No Entries</p>'),this.content.appendChild(this.placeholder)},g.$inject=["eventBus","notifications","tokenSimulationPalette","canvas"],t.exports=g},b9b0:function(t,e,n){"use strict";var i=n("0af7"),o=n("e19d"),s=n("e81d").is,r=n("99e7"),a=r.GENERATE_TOKEN_EVENT;function c(t,e,n){this._eventBus=t,this._elementRegistry=e,this._animation=n}c.prototype.createContextPads=function(t){var e=!1;if(this._elementRegistry.forEach((function(t){t.tokenCount&&Object.values(t.tokenCount).forEach((function(t){t&&(e=!0)}))})),!(s(t.parent,"bpmn:SubProcess")||e||this._animation.animations.length)){var n=this,r=i('<div class="context-pad"><i class="fa fa-play"></i></div>');return o.bind(r,"click",(function(){n._eventBus.fire(a,{element:t})})),[{element:t,html:r}]}},c.$inject=["eventBus","elementRegistry","animation"],t.exports=c},c7ca:function(t,e,n){"use strict";function i(t,e,n,i,o,s){s.register({toggleTokenSimulation:function(){e.toggleMode()}}),s.register({togglePauseTokenSimulation:function(){n.toggle()}}),s.register({resetTokenSimulation:function(){o.resetSimulation()}}),s.register({toggleTokenSimulationLog:function(){i.toggle()}})}i.$inject=["eventBus","toggleMode","pauseSimulation","log","resetSimulation","editorActions"],t.exports=i},ce60:function(t,e,n){"use strict";var i=n("0af7"),o=n("e19d"),s=n("e81d").is,r=n("99e7"),a=r.GENERATE_TOKEN_EVENT;function c(t){this._eventBus=t}c.prototype.createContextPads=function(t){var e=t.parent.shownProcessInstance,n=t.incoming.filter((function(t){return s(t,"bpmn:SequenceFlow")})),r=[];n.forEach((function(t){var n=t.source;s(n,"bpmn:EventBasedGateway")&&n.tokenCount&&n.tokenCount[e]&&r.push(n)}));var c=t.outgoing.filter((function(t){return s(t,"bpmn:SequenceFlow")}));if(n.length&&c.length){var u,f=this;if(t.tokenCount&&t.tokenCount[e])u=i('<div class="context-pad" title="Trigger Event"><i class="fa fa-play"></i></div>'),o.bind(u,"click",(function(){t.tokenCount[e]--,f._eventBus.fire(a,{element:t,processInstanceId:e})}));else{if(!r.length)return;u=i('<div class="context-pad" title="Trigger Event"><i class="fa fa-play"></i></div>'),o.bind(u,"click",(function(){r.forEach((function(t){t.tokenCount[e]--})),f._eventBus.fire(a,{element:t,processInstanceId:e})}))}return[{element:t,html:u}]}},c.$inject=["eventBus"],t.exports=c},cef9:function(t,e,n){"use strict";var i=n("99e7"),o=i.CONSUME_TOKEN_EVENT,s=i.GENERATE_TOKEN_EVENT;function r(t,e,n){this._eventBus=t,this._animation=e,this._elementRegistry=n}r.prototype.consume=function(t){var e=t.element;if(!e.sequenceFlow)throw new Error("no sequence flow configured for element "+e.id);this._eventBus.fire(s,t)},r.prototype.generate=function(t){var e=t.element,n=t.processInstanceId;if(!e.sequenceFlow)throw new Error("no sequence flow configured for element "+e.id);var i=this,s=this._elementRegistry.get(e.sequenceFlow.id);this._animation.createAnimation(s,n,(function(){i._eventBus.fire(o,{element:s.target,processInstanceId:n})}))},r.$inject=["eventBus","animation","elementRegistry"],t.exports=r},cfa6:function(t,e,n){t.exports=n("865a")},d508:function(t,e,n){"use strict";function i(t){return Array.prototype.concat.apply([],t)}n.r(e),n.d(e,"assign",(function(){return U})),n.d(e,"bind",(function(){return D})),n.d(e,"debounce",(function(){return j})),n.d(e,"ensureArray",(function(){return d})),n.d(e,"every",(function(){return I})),n.d(e,"filter",(function(){return g})),n.d(e,"find",(function(){return m})),n.d(e,"findIndex",(function(){return v})),n.d(e,"flatten",(function(){return i})),n.d(e,"forEach",(function(){return _})),n.d(e,"get",(function(){return H})),n.d(e,"groupBy",(function(){return A})),n.d(e,"has",(function(){return E})),n.d(e,"isArray",(function(){return u})),n.d(e,"isDefined",(function(){return a})),n.d(e,"isFunction",(function(){return h})),n.d(e,"isNil",(function(){return c})),n.d(e,"isNumber",(function(){return l})),n.d(e,"isObject",(function(){return f})),n.d(e,"isString",(function(){return p})),n.d(e,"isUndefined",(function(){return r})),n.d(e,"keys",(function(){return S})),n.d(e,"map",(function(){return b})),n.d(e,"matchPattern",(function(){return O})),n.d(e,"merge",(function(){return W})),n.d(e,"omit",(function(){return K})),n.d(e,"pick",(function(){return $})),n.d(e,"reduce",(function(){return T})),n.d(e,"set",(function(){return q})),n.d(e,"size",(function(){return C})),n.d(e,"some",(function(){return N})),n.d(e,"sortBy",(function(){return x})),n.d(e,"throttle",(function(){return G})),n.d(e,"unionBy",(function(){return k})),n.d(e,"uniqueBy",(function(){return P})),n.d(e,"values",(function(){return w})),n.d(e,"without",(function(){return y}));var o=Object.prototype.toString,s=Object.prototype.hasOwnProperty;function r(t){return void 0===t}function a(t){return void 0!==t}function c(t){return null==t}function u(t){return"[object Array]"===o.call(t)}function f(t){return"[object Object]"===o.call(t)}function l(t){return"[object Number]"===o.call(t)}function h(t){var e=o.call(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object AsyncGeneratorFunction]"===e||"[object Proxy]"===e}function p(t){return"[object String]"===o.call(t)}function d(t){if(!u(t))throw new Error("must supply array")}function E(t,e){return s.call(t,e)}function m(t,e){var n;return e=B(e),_(t,(function(t,i){if(e(t,i))return n=t,!1})),n}function v(t,e){e=B(e);var n=u(t)?-1:void 0;return _(t,(function(t,i){if(e(t,i))return n=i,!1})),n}function g(t,e){var n=[];return _(t,(function(t,i){e(t,i)&&n.push(t)})),n}function _(t,e){var n,i;if(!r(t)){var o=u(t)?V:M;for(var s in t)if(E(t,s)&&(n=t[s],i=e(n,o(s)),!1===i))return n}}function y(t,e){return r(t)?[]:(d(t),e=B(e),t.filter((function(t,n){return!e(t,n)})))}function T(t,e,n){return _(t,(function(t,i){n=e(n,t,i)})),n}function I(t,e){return!!T(t,(function(t,n,i){return t&&e(n,i)}),!0)}function N(t,e){return!!m(t,e)}function b(t,e){var n=[];return _(t,(function(t,i){n.push(e(t,i))})),n}function S(t){return t&&Object.keys(t)||[]}function C(t){return S(t).length}function w(t){return b(t,(function(t){return t}))}function A(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=R(e),_(t,(function(t){var i=e(t)||"_",o=n[i];o||(o=n[i]=[]),o.push(t)})),n}function P(t){t=R(t);for(var e={},n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];_(i,(function(n){return A(n,t,e)}));var s=b(e,(function(t,e){return t[0]}));return s}var k=P;function x(t,e){e=R(e);var n=[];return _(t,(function(t,i){for(var o=e(t,i),s={d:o,v:t},r=0;r<n.length;r++){var a=n[r].d;if(o<a)return void n.splice(r,0,s)}n.push(s)})),b(n,(function(t){return t.v}))}function O(t){return function(e){return I(t,(function(t,n){return e[n]===t}))}}function R(t){return h(t)?t:function(e){return e[t]}}function B(t){return h(t)?t:function(e){return e===t}}function M(t){return t}function V(t){return Number(t)}function j(t,e){var n,i,o,s;function r(n){var r=Date.now(),u=n?0:s+e-r;if(u>0)return a(u);t.apply(o,i),c()}function a(t){n=setTimeout(r,t)}function c(){n&&clearTimeout(n),n=s=i=o=void 0}function u(){n&&r(!0),c()}function f(){s=Date.now();for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];i=r,o=this,n||a(e)}return f.flush=u,f.cancel=c,f}function G(t,e){var n=!1;return function(){n||(t.apply(void 0,arguments),n=!0,setTimeout((function(){n=!1}),e))}}function D(t,e){return t.bind(e)}function F(t){return F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function L(){return L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L.apply(this,arguments)}function U(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return L.apply(void 0,[t].concat(n))}function q(t,e,n){var i=t;return _(e,(function(t,o){if("number"!==typeof t&&"string"!==typeof t)throw new Error("illegal key type: "+F(t)+". Key should be of type number or string.");if("constructor"===t)throw new Error("illegal key: constructor");if("__proto__"===t)throw new Error("illegal key: __proto__");var s=e[o+1],u=i[t];a(s)&&c(u)&&(u=i[t]=isNaN(+s)?{}:[]),r(s)?r(n)?delete i[t]:i[t]=n:i=u})),t}function H(t,e,n){var i=t;return _(e,(function(t){if(c(i))return i=void 0,!1;i=i[t]})),r(i)?n:i}function $(t,e){var n={},i=Object(t);return _(e,(function(e){e in i&&(n[e]=t[e])})),n}function K(t,e){var n={},i=Object(t);return _(i,(function(t,i){-1===e.indexOf(i)&&(n[i]=t)})),n}function W(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?(_(n,(function(e){e&&f(e)&&_(e,(function(e,n){if("__proto__"!==n){var i=t[n];f(e)?(f(i)||(i={}),t[n]=W(i,e)):t[n]=e}}))})),t):t}},d7a8:function(t,e,n){"use strict";var i=n("0af7"),o=n("e81d"),s=o.isAncestor,r=n("99e7"),a=r.TOGGLE_MODE_EVENT,c=r.GENERATE_TOKEN_EVENT,u=r.CONSUME_TOKEN_EVENT,f=r.RESET_SIMULATION_EVENT,l=r.TERMINATE_EVENT,h=r.PROCESS_INSTANCE_SHOWN_EVENT,p=10,d=-15,E=500;function m(t,e,n,i,o){var s=this;this._overlays=e,this._elementRegistry=n,this._canvas=i,this._processInstances=o,this.overlayIds={},t.on(a,(function(t){var e=t.simulationModeActive;e||s.removeTokenCounts()})),t.on(f,(function(){s.removeTokenCounts()})),t.on(l,(function(t){var e=t.element,n=e.parent;s.removeTokenCounts(n)})),t.on([c,u],E,(function(t){var e=t.element,n=e.parent;s.removeTokenCounts(n),s.addTokenCounts(n)})),t.on(h,(function(t){var e=t.processInstanceId,n=o.getProcessInstance(e),i=n.parent;s.removeTokenCounts(i),s.addTokenCounts(i)}))}m.prototype.addTokenCounts=function(t){var e=this;t||(t=this._canvas.getRootElement());var n=t.shownProcessInstance;if(!n){var i=this._processInstances.getProcessInstances(t);if(!i.length)return;n=i[0].processInstanceId}this._elementRegistry.forEach((function(i){s(t,i)&&e.addTokenCount(i,n)}))},m.prototype.addTokenCount=function(t,e){var n=t.tokenCount&&t.tokenCount[e];if(n){var i=this.createTokenCount(n),o={bottom:p,left:d},s=this._overlays.add(t,"token-count",{position:o,html:i,show:{minZoom:.5}});this.overlayIds[t.id]=s}},m.prototype.createTokenCount=function(t){return i('<div class="token-count waiting">'+t+"</div>")},m.prototype.removeTokenCounts=function(t){var e=this;t||(t=this._canvas.getRootElement()),this._elementRegistry.forEach((function(n){s(t,n)&&e.removeTokenCount(n)}))},m.prototype.removeTokenCount=function(t){var e=this.overlayIds[t.id];e&&(this._overlays.remove(e),delete this.overlayIds[t.id])},m.$inject=["eventBus","overlays","elementRegistry","canvas","processInstances"],t.exports=m},da53:function(t,e,n){"use strict";var i=n("99e7"),o=i.TOGGLE_MODE_EVENT,s=i.RESET_SIMULATION_EVENT,r=i.PROCESS_INSTANCE_CREATED_EVENT,a=i.PROCESS_INSTANCE_FINISHED_EVENT;function c(t,e){var n=this;this._eventBus=t,this._processInstanceIds=e,this.processInstances=[],t.on([o,s],(function(){n.processInstances=[]}))}c.prototype.create=function(t,e){var n=this._processInstanceIds.getNext(),i={parent:t,processInstanceId:n,parentProcessInstanceId:e};return this.processInstances.push(i),this._eventBus.fire(r,i),n},c.prototype.remove=function(t){this.processInstances=this.processInstances.filter((function(e){return e.processInstanceId!==t}))},c.prototype.finish=function(t){var e=this.processInstances.find((function(e){return e.processInstanceId===t}));this._eventBus.fire(a,e),e.isFinished=!0},c.prototype.getProcessInstances=function(t,e){if(!t)return this.processInstances;var n=this.processInstances.filter((function(e){return e.parent===t}));return e&&!0!==e.includeFinished&&(n=n.filter((function(t){return!t.isFinished}))),n},c.prototype.getProcessInstance=function(t){return this.processInstances.find((function(e){return e.processInstanceId===t}))},c.$inject=["eventBus","processInstanceIds"],t.exports=c},da797:function(t,e,n){"use strict";var i=n("1929"),o=n("69b6"),s=n("99e7"),r=s.RESET_SIMULATION_EVENT,a=s.PLAY_SIMULATION_EVENT,c=s.PAUSE_SIMULATION_EVENT,u=s.TERMINATE_EVENT,f=s.PROCESS_INSTANCE_FINISHED_EVENT,l=s.ANIMATION_CREATED_EVENT,h=n("e81d").isAncestor,p=n("8ea4"),d=p.distance,E=getComputedStyle(document.documentElement).getPropertyValue("--token-simulation-green-base-44");function m(t){return 1===t}function v(t){return 2==t.length}var g=0,_="-",y="<",T="<>",I=20;function N(t,e){var n=window.animation=this;this._eventBus=e,this.animations=[],this.hiddenAnimations=[],this.animationSpeed=1,e.on("import.done",(function(){var e=i(t._svg),s=o(".viewport",t._svg),r=i.adopt(s);n.group=e.group().attr("id","token-simulation"),r.put(n.group)})),e.on(u,(function(t){var e=t.element,i=e.parent;n.animations.forEach((function(t){h(i,t.element)&&(t.animation.stop(),n.animations=n.animations.filter((function(e){return e!==t})))}))})),e.on(f,(function(t){var e=t.parent;n.animations.forEach((function(i){(t.processInstanceId===i.processInstanceId||h(e,i.element))&&(i.animation.stop(),n.animations=n.animations.filter((function(t){return t!==i})))}))})),e.on(r,(function(){n.animations.forEach((function(t){t.animation.stop()})),n.animations=[],n.hiddenAnimations=[]})),e.on(c,(function(){n.animations.forEach((function(t){t.animation.pause()}))})),e.on(a,(function(){n.animations.forEach((function(t){t.animation.play()}))}))}function b(t,e,n){this.gfx=this.fx=t,this.waypoints=e,this.done=n,this.create()}N.prototype.createAnimation=function(t,e,n){var i=this;if(this.group){var o,s=this._createTokenGfx(e);return o=new b(s,t.waypoints,(function(){i.animations=i.animations.filter((function(t){return t.animation!==o})),n&&n()})),this.hiddenAnimations.includes(e)&&s.hide(),s.fx._speed=this.animationSpeed,this.animations.push({tokenGfx:s,animation:o,element:t,processInstanceId:e}),this._eventBus.fire(l,{tokenGfx:s,animation:o,element:t,processInstanceId:e}),o}},N.prototype.setAnimationSpeed=function(t){this.animations.forEach((function(e){e.tokenGfx.fx._speed=t})),this.animationSpeed=t},N.prototype._createTokenGfx=function(t){var e=this.group.group().attr("class","token").hide();return e.circle(I,I).attr("fill",E).attr("class","circle"),e.text(t.toString()).attr("transform","translate(10, -7)").attr("text-anchor","middle").attr("class","text"),e},N.prototype.showProcessInstanceAnimations=function(t){this.animations.forEach((function(e){e.processInstanceId===t&&e.tokenGfx.show()})),this.hiddenAnimations=this.hiddenAnimations.filter((function(e){return e!==t}))},N.prototype.hideProcessInstanceAnimations=function(t){this.animations.forEach((function(e){e.processInstanceId===t&&e.tokenGfx.hide()})),this.hiddenAnimations.push(t)},N.$inject=["canvas","eventBus"],t.exports=N,b.prototype.create=function(){var t=this.gfx,e=this.waypoints,n=this.done,i=this.fx;t.show().move(e[0].x-I/2,e[0].y-I/2),e.forEach((function(t,n){if(n>0){var o=t.x-I/2,s=t.y-I/2,r=m(n)?y:_;v(e)&&(r=T);var a=20*d(e[n-1],t);i=i.animate(a,r,g).move(o,s)}})),i.after((function(){t.remove(),n()}))},b.prototype.play=function(){this.gfx.play()},b.prototype.pause=function(){this.gfx.pause()},b.prototype.stop=function(){this.fx.stop(),this.gfx.remove()}},ddeb:function(t,e,n){"use strict";var i=n("0af7"),o=n("4193"),s=n("e19d"),r=n("69b6"),a=n("1460"),c=n("99e7"),u=c.TOGGLE_MODE_EVENT,f=c.PROCESS_INSTANCE_CREATED_EVENT,l=c.PROCESS_INSTANCE_FINISHED_EVENT,h=c.PROCESS_INSTANCE_SHOWN_EVENT,p=c.PROCESS_INSTANCE_HIDDEN_EVENT,d=c.RESET_SIMULATION_EVENT,E=getComputedStyle(document.documentElement).getPropertyValue("--token-simulation-silver-base-97"),m=getComputedStyle(document.documentElement).getPropertyValue("--token-simulation-green-base-44");function v(t){return null===t}function g(t,e,n,i,s,r){var c=this;this._eventBus=t,this._canvas=e,this._processInstanceSettings=n,this._processInstances=i,this._graphicsFactory=s,this._elementRegistry=r,this.highlightedElement=null,this._init(),t.on(u,(function(t){var e=t.simulationModeActive;e?o(c.container).remove("hidden"):(o(c.container).add("hidden"),a(c.container),v(c.highlightedElement)||(c.removeHighlightFromProcess(c.highlightedElement.element),c.highlightedElement=null))})),t.on(f,(function(t){c.addInstance(t)})),t.on(l,(function(t){c.removeInstance(t)})),t.on(h,(function(t){c.setInstanceShown(t.processInstanceId)})),t.on(p,(function(t){c.setInstanceHidden(t.processInstanceId)})),t.on(d,(function(){c.removeAllInstances()}))}g.prototype._init=function(){this.container=i('<div class="process-instances hidden"></div>'),this._canvas.getContainer().appendChild(this.container)},g.prototype.addInstance=function(t){var e=this,n=t.processInstanceId,o=t.parent,r=i('<div id="instance-'+n+'" class="process-instance" title="View Process Instance '+n+'">'+n+"</div>");s.bind(r,"click",(function(){var t=e._processInstances.getProcessInstances(o);t.forEach((function(t){e._processInstanceSettings.hideProcessInstance(t.processInstanceId)})),e._processInstanceSettings.showProcessInstance(n,o)})),s.bind(r,"mouseenter",(function(){e.highlightedElement={element:o,stroke:o.businessObject.di.get("stroke"),fill:o.businessObject.di.get("fill")},e.addHighlightToProcess(o)})),s.bind(r,"mouseleave",(function(){e.removeHighlightFromProcess(o),e.highlightedElement=null})),this.container.appendChild(r)},g.prototype.removeInstance=function(t){var e=t.processInstanceId,n=r("#instance-"+e,this.container);n&&n.remove()},g.prototype.removeAllInstances=function(){this.container.innerHTML=""},g.prototype.setInstanceShown=function(t){var e=r("#instance-"+t,this.container);e&&o(e).add("active")},g.prototype.setInstanceHidden=function(t){var e=r("#instance-"+t,this.container);e&&o(e).remove("active")},g.prototype.addHighlightToProcess=function(t){this.setColor(t,m,E),t.parent||o(this._canvas.getContainer()).add("highlight")},g.prototype.removeHighlightFromProcess=function(t){v(this.highlightedElement)||(this.setColor(t,this.highlightedElement.stroke,this.highlightedElement.fill),t.parent||o(this._canvas.getContainer()).remove("highlight"))},g.prototype.setColor=function(t,e,n){var i=t.businessObject;i.di.set("stroke",e),i.di.set("fill",n);var o=this._elementRegistry.getGraphics(t);this._graphicsFactory.update("connection",t,o)},g.$inject=["eventBus","canvas","processInstanceSettings","processInstances","graphicsFactory","elementRegistry"],t.exports=g},e19d:function(t,e,n){t.exports=n("4f68")},e1cb:function(t,e,n){t.exports=n("6a33")},e7f6:function(t,e,n){},e81d:function(t,e,n){"use strict";var i=n("d508").every,o=n("d508").some;function s(t,e){var n=e.parent;while(n){if(n===t)return!0;n=n.parent}return!1}t.exports.is=function(t,e){if("label"!==t.type){Array.isArray(e)||(e=[e]);var n=!1;return e.forEach((function(e){e===t.type&&(n=!0)})),n}},t.exports.isTypedEvent=function(t,e,n){function s(t,e){return i(e,(function(e,n){return t[n]==e}))}return o(t.eventDefinitions,(function(i){return i.$type===e&&s(t,n)}))},t.exports.getBusinessObject=function(t){return t&&t.businessObject||t},t.exports.isAncestor=s,t.exports.getDescendants=function(t,e){return t.filter((function(t){return s(e,t)}))},t.exports.supportedElements=["bpmn:Association","bpmn:BoundaryEvent","bpmn:BusinessRuleTask","bpmn:CallActivity","bpmn:DataInputAssociation","bpmn:DataObjectReference","bpmn:DataOutputAssociation","bpmn:DataStoreReference","bpmn:EndEvent","bpmn:EventBasedGateway","bpmn:ExclusiveGateway","bpmn:IntermediateCatchEvent","bpmn:ManualTask","bpmn:ParallelGateway","bpmn:Process","bpmn:ScriptTask","bpmn:SequenceFlow","bpmn:ServiceTask","bpmn:StartEvent","bpmn:SubProcess","bpmn:Task","bpmn:TextAnnotation","bpmn:UserTask"]},edde:function(t,e,n){"use strict";var i=n("e81d"),o=i.is,s=n("99e7"),r=s.CONSUME_TOKEN_EVENT,a=s.UPDATE_ELEMENT_EVENT,c=s.UPDATE_ELEMENTS_EVENT;function u(t,e,n){this._animation=t,this._eventBus=e,this._elementRegistry=n}u.prototype.consume=function(t){var e=t.element,n=t.processInstanceId;e.tokenCount||(e.tokenCount={}),e.tokenCount[n]||(e.tokenCount[n]=0),e.tokenCount[n]++,this._eventBus.fire(a,{element:e})},u.prototype.generate=function(t){var e=this,n=t.element,i=t.processInstanceId,s=n.outgoing.filter((function(t){return o(t,"bpmn:SequenceFlow")}));s.forEach((function(t){e._animation.createAnimation(t,i,(function(){e._eventBus.fire(r,{element:t.target,processInstanceId:i})}))}));var a=n.parent,u=this._elementRegistry.filter((function(t){return o(t,"bpmn:IntermediateCatchEvent")&&t.parent===a}));this._eventBus.fire(c,{elements:u})},u.$inject=["animation","eventBus","elementRegistry"],t.exports=u},f2bb:function(t,e,n){t.exports=n("d7a8")},f338:function(t,e,n){"use strict";var i=n("e81d").is,o=n("99e7"),s=o.TOGGLE_MODE_EVENT,r=getComputedStyle(document.documentElement).getPropertyValue("--token-simulation-grey-lighten-56"),a=getComputedStyle(document.documentElement).getPropertyValue("--token-simulation-grey-darken-30");function c(t){var e=t.outgoing.filter(u),n=e.indexOf(t.sequenceFlow);return e[n+1]?e[n+1]:e[0]}function u(t){return i(t,"bpmn:SequenceFlow")}function f(t,e,n){var i=this;this._elementRegistry=e,this._graphicsFactory=n,t.on(s,(function(t){var e=t.simulationModeActive;e?i.setSequenceFlowsDefault():i.resetSequenceFlows()}))}f.prototype.setSequenceFlowsDefault=function(){var t=this,e=this._elementRegistry.filter((function(t){return i(t,"bpmn:ExclusiveGateway")}));e.forEach((function(e){e.outgoing.filter(u).length&&t.setSequenceFlow(e,e.outgoing.filter(u)[0])}))},f.prototype.resetSequenceFlows=function(){var t=this,e=this._elementRegistry.filter((function(t){return i(t,"bpmn:ExclusiveGateway")}));e.forEach((function(e){e.outgoing.filter(u).length&&t.resetSequenceFlow(e)}))},f.prototype.resetSequenceFlow=function(t){t.sequenceFlow&&delete t.sequenceFlow},f.prototype.setSequenceFlow=function(t){var e=this,n=t.outgoing.filter(u);if(n.length){var i=t.sequenceFlow;t.sequenceFlow=i?c(t):n[0],t.outgoing.forEach((function(n){n===t.sequenceFlow?e.setColor(n,a):e.setColor(n,r)}))}},f.prototype.setColor=function(t,e){var n=t.businessObject;n.di.set("stroke",e);var i=this._elementRegistry.getGraphics(t);this._graphicsFactory.update("connection",t,i)},f.$inject=["eventBus","elementRegistry","graphicsFactory"],t.exports=f},f440:function(t,e,n){"use strict";var i=n("0af7"),o=n("4193"),s=n("99e7"),r=s.TOGGLE_MODE_EVENT;function a(t,e){var n=this;this._canvas=e,this.entries=[],this._init(),t.on(r,(function(t){var e=t.simulationModeActive;e?o(n.container).remove("hidden"):o(n.container).add("hidden")}))}a.prototype._init=function(){this.container=i('<div class="token-simulation-palette hidden"></div>'),this._canvas.getContainer().appendChild(this.container)},a.prototype.addEntry=function(t,e){var n=0;this.entries.forEach((function(t){e>=t.index&&n++})),this.container.insertBefore(t,this.container.childNodes[n]),this.entries.push({entry:t,index:e})},a.$inject=["eventBus","canvas"],t.exports=a},f910:function(t,e,n){},fcbd:function(t,e,n){"use strict";var i=n("e81d"),o=i.getBusinessObject,s=i.is,r=i.isAncestor,a=i.getDescendants,c=i.isTypedEvent,u=n("99e7"),f=u.GENERATE_TOKEN_EVENT,l=u.TERMINATE_EVENT,h=u.UPDATE_ELEMENTS_EVENT;function p(t,e,n,i,o,s){this._animation=t,this._eventBus=e,this._log=n,this._simulationState=i,this._elementRegistry=o,this._processInstances=s}p.prototype.consume=function(t){var e=t.element,n=t.processInstanceId,i=c(o(e),"bpmn:TerminateEventDefinition"),u=s(e.parent,"bpmn:SubProcess");i&&(this._eventBus.fire(l,t),this._elementRegistry.forEach((function(t){r(e.parent,t)&&t.tokenCount&&t.tokenCount[n]&&delete t.tokenCount[n]})),this._processInstances.finish(n));var p=this._simulationState.isFinished(e,n);if(p&&this._processInstances.finish(n),(p||i)&&u){var d=this._processInstances.getProcessInstance(n);this._eventBus.fire(f,{element:e.parent,processInstanceId:d.parentProcessInstanceId})}this._eventBus.fire(h,{elements:a(this._elementRegistry.getAll(),e.parent)})},p.prototype.generate=function(t){},p.$inject=["animation","eventBus","log","simulationState","elementRegistry","processInstances"],t.exports=p},ff13:function(t,e,n){t.exports=n("56a8")}}]);