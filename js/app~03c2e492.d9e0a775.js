(window["webpackJsonp_joinsoft-v9"]=window["webpackJsonp_joinsoft-v9"]||[]).push([["app~03c2e492"],{"397d":function(e,t,a){},"60cb":function(e,t,a){"use strict";a("95a6")},"7fd7":function(e){e.exports=[{id:1700211927540,name:"丽都嘉园",address:"",path:[[[114.483267,36.63429],[114.485421,36.634125],[114.485284,36.633175],[114.483091,36.63341],[114.483062,36.634275]]]},{id:1700212313468,name:"东部美的城",address:"",path:[[[114.566781,36.63619],[114.571296,36.636158],[114.571156,36.631685],[114.566561,36.631621]]]},{id:1700212530440,name:"星城国际",address:"",path:[[[114.516498,36.639313],[114.519438,36.639104],[114.518991,36.634491],[114.516089,36.6347],[114.515996,36.634804]]]},{id:1700212689572,name:"天正·君悦府",address:"",path:[[[114.588296,36.629011],[114.592092,36.628986],[114.592123,36.626969],[114.5881,36.627052]]]},{id:1700272283479,name:"金宇小区",address:"",path:[[[114.492688,36.599346],[114.496566,36.59866],[114.495649,36.594714],[114.493562,36.594886],[114.493669,36.595688],[114.492407,36.595922],[114.492388,36.596031],[114.492514,36.597636]]]},{id:1700272412743,name:"荣盛城",address:"",path:[[[114.462839,36.594869],[114.470672,36.593883],[114.470356,36.590955],[114.465705,36.591508],[114.465872,36.592628],[114.465202,36.592747],[114.465109,36.592777],[114.465091,36.593345],[114.463825,36.593375]]]},{id:1700272565737,name:"盛锦花园",address:"",path:[[[114.459187,36.624346],[114.459629,36.624321],[114.459629,36.623623],[114.460878,36.623623],[114.46072,36.621657],[114.4594,36.62172],[114.45944,36.622151],[114.458664,36.622252],[114.458712,36.62257],[114.459012,36.622627],[114.459083,36.623451]]]},{id:1700272691183,name:"盛世中华",address:"",path:[[[114.471437,36.462519],[114.471892,36.462487],[114.471785,36.462117],[114.471397,36.462167],[114.47141,36.462232]]]},{id:1700272841247,name:"赵都新城景和园",address:"",path:[[[114.472096,36.587766],[114.477117,36.587681],[114.476586,36.583848],[114.470612,36.584303]]]},{id:1700279079007,name:"和谐小区",address:"邯郸市和谐小区",path:[[[115.17114,36.290714],[115.174269,36.290407],[115.173734,36.28718],[115.169781,36.287263]]]}]},"95a6":function(e,t,a){},"9fdf":function(e,t,a){"use strict";a("397d")},"9fe0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lockPage"},[a("div",{staticClass:"lockContainer"},[a("div",{staticClass:"glassBox"},[a("div",{staticClass:"lock_date"},[e._v("\n        "+e._s(e.moment().format("MM月DD日"))+" "+e._s(e.dayWeek)+"·"+e._s(e.getLunar().lunarYear)+e._s(e.getLunar().dateStr)+"\n      ")]),a("div",{staticClass:"lock_time"},[e._v(e._s(e.hour)+":"+e._s(e.minute))])]),a("div",{staticClass:"glassBox"},[a("a-avatar",{staticClass:"avatar",attrs:{size:80,src:e.getAvatar()}}),a("span",[e._v(e._s(e.nickname()))]),a("a-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text",value:e.userInfo.username}}),a("a-input",{staticClass:"unlock_psdInput",attrs:{type:"password",placeholder:"请输入密码或口令牌"},on:{pressEnter:e.handleLogin},scopedSlots:e._u([{key:"suffix",fn:function(){return[a("div",{staticClass:"unlock_inputIcon",on:{click:e.handleLogin}},[a("a-icon",{attrs:{type:"lock"}})],1)]},proxy:!0}]),model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}}),a("a",{on:{click:e.handleLogout}},[e._v("返回登录")])],1)])])},o=[],r=a("2f62"),i=a("0fea"),s=a("c1df"),l=a.n(s),c=a("ca00"),d=a("2b0e"),u=a("9816");function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){h(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t,a){return(t=g(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e){var t=v(e,"string");return"symbol"==p(t)?t:t+""}function v(e,t){if("object"!=p(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var V={name:"Lock",data:function(){return{passwd:"",passwdError:!1,passVisible:!1,meridiem:"上午",hour:"",minute:"",date:"",dayWeek:"",url:{checkPassword:"/sys/checkPassword"},moment:l.a}},created:function(){this.getDate()},mounted:function(){var e=this;setInterval((function(){e.getDate()}),1e3)},computed:f(f({},Object(r["d"])({name:function(e){return e.user.name}})),Object(r["c"])(["lockPasswd","isAutoLock","userInfo"])),props:[],methods:f(f(f({},Object(r["b"])(["Logout"])),Object(r["c"])(["nickname","avatar"])),{},{getAvatar:function(){return Object(i["f"])(this.avatar())||a("808d")},handleLogout:function(){var e=this;this.$confirm({title:"提示",content:"是否退出系统, 是否继续?",onOk:function(){return e.Logout({}).then((function(){e.$router.push({path:"/user/login"})})).catch((function(t){e.$message.error({title:"错误",description:t.message})}))}})},handleLogin:function(){var e=this;if(this.isAutoLock)Object(i["e"])(this.url.checkPassword,{username:this.userInfo.username,password:this.encode(this.passwd)}).then((function(t){t.success?e.backLock():e.passIsErr("密码或口令牌错误！")}));else{if(this.passwd!==this.lockPasswd.toString())return void e.passIsErr("解锁密码错误,请重新输入！");setTimeout((function(){e.backLock()}),1e3)}},encode:function(e){var t=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)}))),a="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCrJAV6yAdgRO5NBjX/h6m83w1QgjnWqREkdV8HTYEraeZANNeL6HXCjdLoxTbjuUyCJLdLildy9Jf3k9ZKT/ZJ6ScczihEY4JSc738NWwVm8W2Rte2vWOb1IDRNWTPMUZGGbs++YWgdvLuyqMU/0cRUMIy+UxX+3oww+cnbDiiyQIDAQAB",n=new u["a"];return n.setPublicKey(a),n.encrypt(t)},passIsErr:function(e){var t=this;this.passwd="",this.$message.error(e),this.passwdError=!0,setTimeout((function(){t.passwdError=!1}),1e3)},backLock:function(){this.$store.commit("CLEAR_LOCK"),this.$router.push({path:d["default"].ls.get("beforeLockPage")||"/dashboard/analysis"}),this.$notification.success({message:"欢迎",description:"".concat(Object(c["u"])(),"，欢迎回来")})},getDate:function(){var e=new Date;e.getHours()>=0&&e.getHours()<12?this.meridiem="上午":e.getHours()>=12&&e.getHours()<18?this.meridiem="下午":this.meridiem="晚上",this.hour=l()().format("HH"),this.minute=l()().format("mm"),this.date=l()().format("MM/DD"),this.dayWeek="周"+this.getweek(l()().format("E"))},getweek:function(e){var t=["一","二","三","四","五","六","天"];return t[e-1]},getLunar:function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1,a=(new Date).getDate(),n=this.getSolarTerm(),o=n.getSolarTerm,r=this.getLunarUtils(),i=r.checkDate,s=r.base64ToBit,l=[],c="甲乙丙丁戊己庚辛壬癸",d="子丑寅卯辰巳午未申酉戌亥",u="鼠牛虎兔龙蛇马羊猴鸡狗猪",p="正二三四五六七八九十冬腊",m="一二三四五六七八九十";function f(){for(var e="hLaCVwUrqpNDSYNlUaqgrUE1pJXQSuak2FJoaSrqlC1QNailtBK26TcElwpLWyWDUoNqJW1ArYJVySXgkuzJYNSg6lVtSC1oFbHJuCS58loZKhqU20oLVQVqSq2BLoSWlkrCpV7SoNlBaqqrUE2gpbNSuClcVKg6VBqpq1QVaglslK4KVwUmPpMGyrrVQVqCW1UroJWhSamk0NJY1ShaoFtTS2glbBJtKS4Ul1ZLBqUG1GraBVsEq6pLwSXBks2pQdSw1lBawKtlk2hJcGSyalQ1KDaUlqoK1PVbAl0JLVyVhUqFpSWqgrVlVqCXQUtspXBSsKk0dKg1UFapJtQS2alcFJwaTL0mDVMFqja1BLbaV0ErQpNbSWGkoapLtUC1oFbSStgk29JcKSwqlW1KDaQVtGq2CTeEl4JLgyWzUoOpQaqSrYFVwSXHkuDJZ9SoalBtKq1UFagptRS6ClsVKwqVC0prVQVqgq0lLoKWwUrOpODSbuUwaqCtVU2oJbBSuik4NFo6TBqkG1TNagVtBK5KToUWhoqWyUNUg",t=s(e),a={y:1900,m:1,d:31,obj:new Date(1900,0,31,0,0,0,0)},n=6,o=0,r=0;r<t.length;){if(r+16>=t.length)break;var i=t.substr(r,4);r+=4;var c=+"0b".concat(i),d=c>0?13:12,u=t.substr(r,d).split("").map((function(e){return+e}));r+=d,l.push({solarDate:a,leapMonth:c,months:u,heavenlyStem:n,earthlyBranch:o});var p=29*d+u.filter((function(e){return 1==e})).length,m=new Date(a.y,a.m-1,a.d+p,0,0,0,0);a={y:m.getFullYear(),m:m.getMonth()+1,d:m.getDate(),obj:m},n=(n+1)%10,o=(o+1)%12}}function h(e,t){return e.y!=t.y?e.y>t.y:e.m!=t.m?e.m>t.m:e.d!=t.d&&e.d>t.d}function g(e,t,a){var n="".concat(a?"闰":"").concat(p[e-1],"月");return t<=10?"".concat(n,"初").concat(m[t-1]):t<20?"".concat(n,"十").concat(m[t-11]):20==t?"".concat(n,"廿十"):t>20?"".concat(n,"廿").concat(m[t-21]):"".concat(n,"三十")}f();var v=Math.floor(+e),V=Math.floor(+t),y=Math.floor(+a);i(v,V,y);var b=v-1900,w=l[b];if(h(w.solarDate,{y:v,m:V,d:y})&&(b-=1,w=l[b]),!w)throw new Error("Invalid Date");for(var q=new Date(v,V-1,y,0,0,0,0),M=Math.round((q.getTime()-w.solarDate.obj.getTime())/864e5),E=!1,A=0;A<w.months.length;A++){var B=w.leapMonth>0&&A==w.leapMonth;B&&(E=!0);var _=29+w.months[A];if(M<_){var S=E?A:A+1;return{lunarMonth:S,lunarDate:M+1,isLeap:B,solarTerm:o(v,V,y),lunarYear:"".concat(c[w.heavenlyStem]).concat(d[w.earthlyBranch],"年"),zodiac:"".concat(u[w.earthlyBranch]),dateStr:g(S,M+1,B)}}M-=_}throw new Error("There's something wrong!")},getLunarUtils:function(){function e(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=[],n=0;n<e.length;n++){var o=t.indexOf(e[n]);a.push(o.toString(2).padStart(6,"0"))}return a.join("")}function t(e,t,a){if(e<1901||e>2100)throw new Error("Invalid Year");if(t<1||t>12)throw new Error("Invalid Month");if(a<1||a>31)throw new Error("Invalid Date");if(-1!=[4,6,9,11].indexOf(t)&&a>30)throw new Error("Invalid Date");if(2==t){if(a>29)throw new Error("Invalid Date");var n=!1;if((e%400==0||e%4==0&&e%100!=0)&&(n=!0),!n&&a>28)throw new Error("Invalid Date")}}return{checkDate:t,base64ToBit:e}},getSolarTerm:function(){var e=this.getLunarUtils(),t=e.checkDate,a=e.base64ToBit,n=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],o=[4,19,3,18,4,19,4,19,4,20,4,20,6,22,6,22,6,22,7,22,6,21,6,21],r=[];function i(){for(var e="ABCDAECDAECDFGHIJKHILKMILABNOABNOAENOAENOAEPQRGSTUGSTLAVTOAWXOAWXOAYXOAYZOabcdebcQUfgThijkOilXOimXOimXOimcOnocdpqcQrsgktujkvumXvumXvumcvumcvwocxyqcz0sj10s213u243um43um53wm56wq567q589s+/0s~/3u~!3u@#3um",t="paaqmqqpqaquqqqqqvruruqq6qWaWZqlqaqqqqqqlaaqmqqppaaqqqqqqrququqqqqWaWZaVlaaampqlpaaqqqqplaWampqlqaququqqqqWZWZVVlaWaWZqlqqVZWZVVlaWaWZaVlaaqmpqpqmVZVZVVVaWaWZaVlaWampqpqlVZVZVVqVVZVVVVVaWZWZVVqVVVVVVVVaVZWZVVpaaqmpqpqVFVVVVVVaVZVZVVlaWaWZalpaaampqppVFVRVVVVWVZVZVVlaWaWpqlpVFVRVVUVVVZVVVVVaWZWZaVVFVZVVVVVFVVVVVVpVFVRUVUVFFVVVVVpVFFRUVUVFFVRVVVlVBFRUVUUFFVRVVVlVBFBEVUUFFVRVVUlVBFBEVQUFFFRUVUlVBFBEFQUFBFRUVUlVBEBEFAQFBFBEVUVVBEBEFAVVVVVVVVQFBFBEVQVVBEBEAAVVAEAEAAQFBFBEFQUFBFBUVUQFBEBEFAUFBFBEVUVQAEAAAAAFBEBEFAVQAAAAAAAFBEBEAAVAAAAAAAAFBEAEAA",n=[],o=0;o<t.length;o+=8){for(var i=a(t.substr(o,8)),s=[],l=0;l<i.length;l+=2)s.push(+"0b".concat(i.substr(l,2)));n.push(s)}for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/~!@#",d=0;d<e.length;d++)r.push(n[c.indexOf(e[d])])}function s(e,a,i){e=Math.floor(+e),a=Math.floor(+a),i=Math.floor(+i),t(e,a,i);var s=2*(a-1)+(i<15?0:1),l=o[s]+r[e-1901][s];return i==l?n[s]:null}return i(),{getSolarTerm:s}},resetPwd:function(){this.passVisible=!1,this.passwd=""}}),components:{}},y=V,b=(a("9fdf"),a("2877")),w=Object(b["a"])(y,n,o,!1,null,"24fc9928",null);t["default"]=w.exports},caf0:function(e,t,a){"use strict";a.r(t);var n=a("3ed7");t["default"]={data:function(){return{gdModalModel:{}}},methods:{createInfoWindow:function(){var e=document.createElement("div");e.classList.add("gdMapContainer");var t=this.createGdModalHeader(),a=this.createGdModalBody();return e.appendChild(t),e.appendChild(a),e},createGdModalHeader:function(){var e=document.createElement("div");e.classList.add("gdMapHeader");var t=document.createElement("div");t.classList.add("gdMapTitle");var a=document.createTextNode(this.gdModalModel.name);t.appendChild(a);var o=document.createElement("div");o.classList.add("gdMapHeader_columnData");for(var r=0,i=["next_node_num","house_num","stru_area"];r<i.length;r++){var s=i[r],l=document.createElement("div");l.classList.add("gdMapHeader_columnData_item");var c=document.createElement("span"),d=document.createElement("span");switch(d.classList.add("gdMapHeader_columnData_item_value"),s){case"house_num":c.innerHTML="<em class='el-icon-office-building'></em> 总户数：",d.innerText=this.gdModalModel[s]+"户";break;case"next_node_num":c.innerHTML="<em class='el-icon-office-building'></em> 楼栋数：",d.innerText=this.gdModalModel[s];break;case"stru_area":c.innerHTML="<em class='el-icon-office-building'></em> 总面积：",d.innerText=Object(n["g"])(this.gdModalModel[s])+"m²";break}l.append(c,d),o.appendChild(l)}return e.append(t,o),e},createGdModalBody:function(){var e=document.createElement("div");e.classList.add("gdMapBody");var t=document.createElement("div");t.classList.add("gdMapBody_info");var a=document.createElement("div");a.classList.add("gdMapBody_info_title"),a.innerText="资金情况";var o=document.createElement("div");o.classList.add("gdMapBody_info_columnData");for(var r=[{label:"资金总额（万元）",field:"end_balance"},{label:"交存总额（万元）",field:"dep_amount"},{label:"使用总额（万元）",field:"use_amount"},{label:"增值收益（万元）",field:"public_income"},{label:"可用余额（万元）",field:"money_count"}],i=0;i<r.length;i++){var s=document.createElement("div");s.classList.add("gdMapBody_info_item");var l=document.createElement("span");l.classList.add("gdMapBody_info_item_label"),l.innerText=r[i].label;var c=document.createElement("span");c.classList.add("gdMapBody_info_item_value"),c.innerText=Object(n["i"])(this.gdModalModel[r[i].field]),s.append(c,l),o.appendChild(s)}t.append(a,o);var d=document.createElement("div");d.classList.add("gdMapBody_info");var u=document.createElement("div");u.classList.add("gdMapBody_info_title"),u.innerText="交存情况";var p=document.createElement("div");p.classList.add("gdMapBody_info_columnData");for(var m=[{label:"已交户数",field:"paid_house_nums"},{label:"未交户数",field:"unpaid_house_nums"},{label:"余额不足30%户数",field:"due_house_nums"}],f=0;f<m.length;f++){var h=document.createElement("div");h.classList.add("gdMapBody_info_item");var g=document.createElement("span");g.classList.add("gdMapBody_info_item_label"),g.innerText=m[f].label;var v=document.createElement("span");v.classList.add("gdMapBody_info_item_value"),v.innerText=this.gdModalModel[m[f].field],h.appendChild(v),h.appendChild(g),p.appendChild(h)}return d.appendChild(u),d.appendChild(p),e.appendChild(t),e.appendChild(d),e}}}},fdb4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticClass:"mainCard"},[a("div",{staticClass:"cardBody"},[a("div",{staticClass:"pageBody"},[e.mouseTool?a("a-card",{staticStyle:{width:"300px"},attrs:{title:"维护信息"}},[a("a-form-model",[a("a-form-model-item",{attrs:{label:"小区名称",prop:"name"}},[a("a-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("a-form-model-item",{attrs:{label:"小区地址",prop:"address"}},[a("a-input",{model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1)],1),a("a-form-model-item",[a("a-button",{attrs:{type:"primary"},on:{click:e.savePolygon}},[e._v("\n            保存\n          ")]),a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:e.clearPolygon}},[e._v("\n            清除覆盖物\n          ")])],1)],1):e._e(),a("div",{staticClass:"GdBody"},[a("div",{attrs:{id:"GdMapContainer"}})])],1)])])},o=[],r=a("862d"),i=a("2b0e"),s=a("caf0"),l=a("0fea");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e){return f(e)||m(e)||p(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(e,t):void 0}}function m(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){if(Array.isArray(e))return h(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){V(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V(e,t,a){return(t=y(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function y(e){var t=b(e,"string");return"symbol"==c(t)?t:t+""}function b(e,t){if("object"!=c(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var w={name:"GdMap",mixins:[s["default"]],props:{isComp:{type:Boolean,default:!1}},created:function(){window._AMapSecurityConfig={securityJsCode:"56236594c7e8c42808af764c02e599c7"};var e=this;if(!e.isComp){var t=e.$route_query;t&&t.regionId&&e.$nextTick((function(){e.initRegionMap({regionId:t.regionId})}))}},data:function(){return{map:null,mouseTool:null,overlays:[],infoWindow:null,autoSearchInput:null,model:{name:"",address:""}}},methods:{initRegionMap:function(e){var t=e.regionId,a=e.regionName,n=this;Object(r["load"])({key:"c7a923a2d1bbdc89068fa9d9acc01b09",version:"2.0",plugins:["AMap.MouseTool"]}).then((function(e){n.map=new e.Map("GdMapContainer",{viewMode:"2D"}),n.map.on("complete",(function(){n.generateLabel({regionId:t,regionName:a})}))})).catch((function(e){}))},initAutoSearchInput:function(e){var t=this;this.autoSearchInput=new e.AutoComplete({input:"GdBody_input_search",datatype:"poi"}),this.autoSearchInput.on("error",(function(e){})),this.autoSearchInput.on("select",(function(e){t.map.setZoomAndCenter(16,e.poi.location)}))},startLabel:function(){var e=this;this.map.remove(this.overlays),this.overlays=[],this.mouseTool=new AMap.MouseTool(this.map),this.mouseTool.on("draw",(function(t){e.overlays.push(t.obj)})),this.mouseTool.polygon({fillColor:"#00b0ff",strokeColor:"#80d8ff"})},stopLabel:function(){this.mouseTool.close(),this.mouseTool=null},generateLabel:function(e){var t=e.regionId,n=e.regionName,o=this,r=a("7fd7"),i=r.find((function(e){return e.id==t||e.name===n})),s=[],l=[i];l.forEach((function(e){var a=e.path;a.forEach((function(a,n){var r=new AMap.Polygon({path:a,strokeColor:"#FF33FF",strokeWeight:6,strokeOpacity:.2,fillOpacity:.4,fillColor:"#1791fc",zIndex:50,extData:v(v({},e),{},{path:void 0})});o.map.add(r),s.push(r),r.on("click",(function(e){o.mapPolygonOnClick(r,t)}))}))})),o.openModal(),o.map.setFitView(s,!1,[0,0,0,0])},mapPolygonOnClick:function(e,t){var a=this;Object(l["e"])("region/portrait/getRegionById",{id:t}).then((function(t){if(t.success){var n=e.getPath(),o=n.map((function(e){return e.lng})),r=n.map((function(e){return e.lat}));a.gdModalModel=t.result;var i=new AMap.LngLat(Math.min.apply(Math,d(o)),Math.min.apply(Math,d(r))),s=new AMap.LngLat(Math.max.apply(Math,d(o)),Math.max.apply(Math,d(r))),l=new AMap.Bounds(i,s).getCenter();a.infoWindow.setContent(a.createInfoWindow()),a.infoWindow.open(a.map,[l.lng,l.lat])}}))},openModal:function(){this.infoWindow=new AMap.InfoWindow({isCustom:!1,content:""})},savePolygon:function(){var e=i["default"].ls.get("Test_local_polygon");e||(e=[]),e.push(v(v({id:(new Date).getTime()},this.model),{},{path:this.overlays.map((function(e){return e.getPath().map((function(e){return e.toArray()}))}))})),i["default"].ls.set("Test_local_polygon",e),window.location.reload()},clearPolygon:function(){this.overlays.forEach((function(e){e.destroy&&e.destroy()})),this.overlays=[]}}},q=w,M=(a("5273"),a("60cb"),a("2877")),E=Object(M["a"])(q,n,o,!1,null,"052a49dc",null);t["default"]=E.exports}}]);