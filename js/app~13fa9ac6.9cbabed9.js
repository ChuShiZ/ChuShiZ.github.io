(window["webpackJsonp_joinsoft-v9"]=window["webpackJsonp_joinsoft-v9"]||[]).push([["app~13fa9ac6"],{"0251":function(e,t,a){"use strict";a("2bcc")},"079f":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{staticStyle:{height:"100%",overflow:"auto"},attrs:{title:e.title,width:"80%",visible:e.visible},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("div",[a("vxe-grid",{ref:"table",attrs:{bordered:"",size:"middle",columns:e.columns,data:e.dataSource,pagination:!1,loading:e.loading,"edit-config":{trigger:"click",mode:"cell",showStatus:!0},"edit-rules":e.rules},scopedSlots:e._u([{key:"bankCode",fn:function(t){var o=t.row,l=t.column;return[a("div",[a("j-dict-bank-list-select",{attrs:{"show-icon":"",placeholder:"请选择承办银行"},on:{select:function(t){return e.$refs.table.updateStatus({row:o,column:l})}},model:{value:o.bankCode,callback:function(t){e.$set(o,"bankCode",t)},expression:"row.bankCode"}})],1)]}},{key:"settleFlag",fn:function(t){var o=t.row,l=t.column;return[a("div",[a("a-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择是否参与结息"},on:{change:function(t){return e.handleChange(o,"settleFlag",l)}},model:{value:o.settleFlag,callback:function(t){e.$set(o,"settleFlag",t)},expression:"row.settleFlag"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:0}},[e._v("否")])],1)],1)]}}])})],1)])},l=[],n=a("b65a"),r=a("4349"),s=a("8c6e"),i=a("0d34"),c=a("996f"),d=a("3269"),u={name:"BldInfoOpenAccBatch",mixins:[n["a"],c["BldInfoOpenAccBatch"]],components:{JDictBankListSelect:d["default"],JThirdAppButton:i["default"],JInput:r["default"],JSuperQuery:s["default"]}},p=u,f=(a("f987"),a("2877")),m=Object(f["a"])(p,o,l,!1,null,"fb1c19ca",null);t["default"]=m.exports},"098e":function(e,t,a){"use strict";a("9f90")},"09ac":function(e,t,a){},1571:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["modal"===e.showType?a("a-drawer",{ref:"corpInfoDrawer",attrs:{title:e.title,"z-index":e.zIndex,maskClosable:!0,width:e.drawerWidth,destroyOnClose:"",placement:"right",closable:!0,visible:e.visible,"body-style":{paddingBottom:"53px",height:"calc(100% - 55px)",display:"flex",flexDirection:"column"}},on:{close:e.handleCancel}},[a("template",{slot:"title"},[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v(e._s(e.title))]),a("span",{staticStyle:{display:"inline-block",width:"calc(100% - 51px)","padding-right":"10px","text-align":"right"}},[a("a-button",{staticStyle:{height:"20px",width:"20px",border:"0px"},attrs:{icon:"appstore"},on:{click:e.toggleScreen}})],1)])]),a("a-tabs",{on:{change:e.checkModel}},[a("a-tab-pane",{key:"baseInfo",attrs:{tab:"基本信息"}}),e.model.accState&&"9"!=e.model.accState?a("a-tab-pane",{key:"accCount",attrs:{tab:"单位资金账户"}}):e._e(),e.model.accState&&"9"!=e.model.accState?a("a-tab-pane",{key:"trdlog",attrs:{tab:"交易明细"}}):e._e()],1),a("div",{staticClass:"scroll",staticStyle:{flex:"1",height:"0",overflow:"auto"}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("j-form-container",{attrs:{disabled:"",border:!1},scopedSlots:e._u([{key:"edit",fn:function(){return[a("a-collapse",{attrs:{id:"baseInfo",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 基本信息 ")])])]},proxy:!0}],null,!1,2157073215)},[a("a-row",{staticClass:"maintainInfo",attrs:{type:"flex"}},[a("a-col",{attrs:{span:4}},[e._v("单位类型")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.baseType_dictText)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("单位名称")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.name)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("单位编号")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.code)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("单位地址")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.address}})],1),a("a-col",{attrs:{span:4}},[e._v("成立日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.foundDate)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("法人代表")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargeName)+"\n                  ")]):e._e(),a("a-col",{staticStyle:{"padding-right":"5px"},attrs:{span:4}},[e._v("统一社会信用代码")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.license)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("营业执照有效期")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.validDate1)+"\n                  ")]):e._e(),"03"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("维修范围")]):e._e(),"03"==e.model.baseType?a("a-col",{attrs:{span:20}},[e.model.fstbuScopeData&&e.model.fstbuScopeData.length>0?a("scope-maintenance",{attrs:{disabled:"",scopeData:e.model.fstbuScopeData}}):[e._v(e._s(e.model.fstbuScopeName))]],2):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("第几届")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.whichSession)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("到届日期")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.arrivalDate)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("业委会/社区主任")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargeName)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("主任手机号")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargePhone)+"\n                  ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("联系人")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.linkMan)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("联系电话")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.phone)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("企业网址")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.website}})],1):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("邮箱")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.email}})],1):e._e(),a("a-col",{attrs:{span:4}},[e._v("申请日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.createTime)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("备案人")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.recOper_dictText||e.model.recOper)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("备案日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.recTime)+"\n                  ")])],1)],1)],1),e.model.accState&&"9"!=e.model.accState?a("a-collapse",{attrs:{id:"accCount",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"3",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 单位资金账户 ")])])]},proxy:!0}],null,!1,3480319675)},[a("a-row",{staticClass:"maintainInfo"},[a("a-col",{attrs:{span:4}},[e._v("资金账户")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.accModel.code)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("账户余额")]),a("a-col",{attrs:{span:8}},[e._v(" "+e._s(e._f("getAmount")(e.accModel.balance))+" 元 ")]),a("a-col",{attrs:{span:4}},[e._v("承办银行")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.accModel.bankName)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("冻结金额")]),a("a-col",{attrs:{span:8}},[e._v(" "+e._s(e._f("getAmount")(e.accModel.balanceFrozen))+" 元 ")]),a("a-col",{attrs:{span:4}},[e._v("是否参与结息")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.settleFlag_dictText)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("账户状态")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.accState_dictText)+"\n                  ")])],1)],1)],1):e._e(),e.model.accState&&"9"!=e.model.accState?a("a-collapse",{attrs:{id:"trdlog",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"3",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 交易明细 ")])])]},proxy:!0}],null,!1,794429336)},[a("vxe-grid",{ref:"tradeGridRef",attrs:{columns:e.TradeColumns,data:e.TradeData,"print-config":{modes:["current","selected","all"]},"max-height":"300","auto-resize":"","show-overflow":"",resizable:"",border:""},scopedSlots:e._u([{key:"toLoanSign",fn:function(e,t){var o=e.row;return["1"==o.loanFlag?a("a-badge",{attrs:{color:"orange",text:"收入"}}):a("a-badge",{attrs:{color:"#8bcc00",text:"支出"}})]}}],null,!1,2168846219)})],1)],1):e._e()]},proxy:!0}],null,!1,1849023227)})],1)],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleCancel}},[a("a-icon",{attrs:{type:"close-circle"}}),e._v("关闭")],1)],1)],2):a("div",{ref:"corpInfoDrawer"},[a("template",{slot:"title"},[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v(e._s(e.title))]),a("span",{staticStyle:{display:"inline-block",width:"calc(100% - 51px)","padding-right":"10px","text-align":"right"}},[a("a-button",{staticStyle:{height:"20px",width:"20px",border:"0"},attrs:{icon:"appstore"},on:{click:e.toggleScreen}})],1)])]),a("a-tabs",{on:{change:e.checkModeler}},[a("a-tab-pane",{key:"baseInfo",attrs:{tab:"基本信息"}}),e.model.revokeReason?a("a-tab-pane",{key:"revokeReason",attrs:{tab:"撤销原因"}}):e._e()],1),a("div",{staticClass:"scroll",staticStyle:{width:"100%","overflow-y":"auto",height:"80vh"}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("j-form-container",{attrs:{disabled:"",border:!1},scopedSlots:e._u([{key:"edit",fn:function(){return[a("a-collapse",{attrs:{id:"baseInfo",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 基本信息 ")])])]},proxy:!0}])},[a("a-row",{staticClass:"maintainInfo"},[a("a-col",{attrs:{span:4}},[e._v("售房款账户编号")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.accCode)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("账户余额")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.balance)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("交易代码")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.trdCode)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("记账日期")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.trdDate}})],1),a("a-col",{attrs:{span:4}},[e._v("计提金额")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.amount)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("计提人")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.createBy)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("备注")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.remark)+"\n                  ")])],1)],1)],1),e.model.revokeReason?a("a-collapse",{attrs:{id:"revokeReason",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"2",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 撤销原因 ")])])]},proxy:!0}],null,!1,524397212)},[a("a-row",{staticClass:"maintainInfo"},[a("a-col",{attrs:{span:4}},[e._v("撤销原因")]),a("a-col",{attrs:{span:20}},[e._v("\n                    "+e._s(e.model.revokeReason)+"\n                  ")])],1)],1)],1):e._e()]},proxy:!0}])})],1)],1)],2)],1)},l=[],n=a("9fbd"),r=a("4bf9"),s=a("bb50"),i=a("eccd"),c=a("3130"),d={name:"AccSaleExtractDetail",components:{ScopeMaintenance:c["default"],TypeAttachmentUpload:n["default"],AccountInfoModal:r["default"],JDDictSelectTag:i["default"]},mixins:[s["AccSaleExtractDetail"]]},u=d,p=(a("365a"),a("2877")),f=Object(p["a"])(u,o,l,!1,null,"05da29f0",null);t["default"]=f.exports},1618:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{switchFullscreen:!0,visible:e.visible,width:"1140px",title:e.title,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("template",{slot:"footer"},[a("a-button",{staticStyle:{"margin-right":"500px",width:"127px",height:"40px"},attrs:{type:"danger",loading:e.loading},on:{click:e.handleCancel}},[a("i",{staticClass:"el-icon-circle-close"}),e._v("关闭\n    ")])],1),a("a-tabs",{staticClass:"tabsContent",attrs:{activeKey:e.activeKey},on:{change:e.changeModalTab}},[a("a-tab-pane",{key:"1",attrs:{tab:"房屋业主信息"}},[a("div",{staticClass:"infoBodyContent"},[a("content-view",{attrs:{title:"房屋信息","header-style":{padding:"12px 0"},"body-style":{padding:"0"}}},[a("house-info-comp",{ref:"hic",attrs:{disabled:!0,isShowHeader:!1,"is-can-edit-cont":!0}})],1),a("content-view",{attrs:{title:"业主信息","header-style":{padding:"12px 0"},"body-style":{padding:"0"}}},[a("owner-info-table",{ref:"oldOwner",attrs:{isDetail:!0}})],1),a("type-attachment-upload",{ref:"fileUpload",attrs:{"header-title":"图档信息",isDetail:e.operateFlag,busiType:"00",busiTypeDetail:"0001",busiNo:this.formInline.id,"body-style":{padding:"0"},"header-style":{padding:"12px 0"}},on:{change:e.getFileList}})],1)]),e.isAdmin||!e.HIDE_BD_IN_ENT_HOUSE_MAINT_PARAM?a("a-tab-pane",{key:"2",attrs:{tab:"业务明细","force-render":!0}},[a("trading-record-table",{ref:"tradIngRecord"})],1):e._e()],1)],2)},l=[],n=a("0fea"),r=a("eccd"),s=a("9fbd"),i=a("0792"),c=a("3269"),d=a("dc9a"),u=a("92d2"),p=a("d8a5"),f=a("2b01");function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return t};var e,t={},a=Object.prototype,o=a.hasOwnProperty,l=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function d(e,t,a,o){var n=t&&t.prototype instanceof g?t:g,r=Object.create(n.prototype),s=new N(o||[]);return l(r,"_invoke",{value:L(e,a,s)}),r}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",f="suspendedYield",b="executing",v="completed",y={};function g(){}function _(){}function w(){}var C={};c(C,r,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==a&&o.call(k,r)&&(C=k);var T=w.prototype=g.prototype=Object.create(C);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function a(l,n,r,s){var i=u(e[l],e,n);if("throw"!==i.type){var c=i.arg,d=c.value;return d&&"object"==m(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,r,s)}),(function(e){a("throw",e,r,s)})):t.resolve(d).then((function(e){c.value=e,r(c)}),(function(e){return a("throw",e,r,s)}))}s(i.arg)}var n;l(this,"_invoke",{value:function(e,o){function l(){return new t((function(t,l){a(e,o,t,l)}))}return n=n?n.then(l,l):l()}})}function L(t,a,o){var l=p;return function(n,r){if(l===b)throw Error("Generator is already running");if(l===v){if("throw"===n)throw r;return{value:e,done:!0}}for(o.method=n,o.arg=r;;){var s=o.delegate;if(s){var i=D(s,o);if(i){if(i===y)continue;return i}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(l===p)throw l=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l=b;var c=u(t,a,o);if("normal"===c.type){if(l=o.done?v:f,c.arg===y)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(l=v,o.method="throw",o.arg=c.arg)}}}function D(t,a){var o=a.method,l=t.iterator[o];if(l===e)return a.delegate=null,"throw"===o&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+o+"' method")),y;var n=u(l,t.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,y;var r=n.arg;return r?r.done?(a[t.resultName]=r.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,y):r:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,y)}function $(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}function A(t){if(t||""===t){var a=t[r];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var l=-1,n=function a(){for(;++l<t.length;)if(o.call(t,l))return a.value=t[l],a.done=!1,a;return a.value=e,a.done=!0,a};return n.next=n}}throw new TypeError(m(t)+" is not iterable")}return _.prototype=w,l(T,"constructor",{value:w,configurable:!0}),l(w,"constructor",{value:_,configurable:!0}),_.displayName=c(w,i,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,i,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,a,o,l,n){void 0===n&&(n=Promise);var r=new I(d(e,a,o,l),n);return t.isGeneratorFunction(a)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},S(T),c(T,i,"Generator"),c(T,r,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var o in t)a.push(o);return a.reverse(),function e(){for(;a.length;){var o=a.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var a in this)"t"===a.charAt(0)&&o.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function l(o,l){return s.type="throw",s.arg=t,a.next=o,l&&(a.method="next",a.arg=e),!!l}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],s=r.completion;if("root"===r.tryLoc)return l("end");if(r.tryLoc<=this.prev){var i=o.call(r,"catchLoc"),c=o.call(r,"finallyLoc");if(i&&c){if(this.prev<r.catchLoc)return l(r.catchLoc,!0);if(this.prev<r.finallyLoc)return l(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return l(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return l(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc<=this.prev&&o.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var n=l;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=e,r.arg=t,n?(this.method="next",this.next=n.finallyLoc,y):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),F(a),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var o=a.completion;if("throw"===o.type){var l=o.arg;F(a)}return l}}throw Error("illegal catch attempt")},delegateYield:function(t,a,o){return this.delegate={iterator:A(t),resultName:a,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function b(e,t,a,o,l,n,r){try{var s=e[n](r),i=s.value}catch(e){return void a(e)}s.done?t(i):Promise.resolve(i).then(o,l)}function v(e){return function(){var t=this,a=arguments;return new Promise((function(o,l){var n=e.apply(t,a);function r(e){b(n,o,l,r,s,"next",e)}function s(e){b(n,o,l,r,s,"throw",e)}r(void 0)}))}}var y={name:"HouOwnerInfoModal",props:{queryParam:{type:Object,default:function(){return{}}}},components:{JDDictSelectTag:r["default"],ContentView:d["default"],TypeAttachmentUpload:s["default"],JDictBankListSelect:c["default"],OwnerInfoTable:u["default"],HouseInfoComp:f["default"],TradingRecordTable:function(){return Promise.resolve().then(a.bind(null,"8fc8"))}},created:function(){var e=this;this.initDictConfig(),Object(p["e"])("HIDE_BD_IN_ENT_HOUSE_MAINT_PARAM").then((function(t){e.HIDE_BD_IN_ENT_HOUSE_MAINT_PARAM="1"===t})),Object(n["e"])(this.url.checkUserIsCorp).then((function(t){t.success||(e.isAdmin=!0)}))},data:function(){return{isAdmin:!1,HIDE_BD_IN_ENT_HOUSE_MAINT_PARAM:!1,title:"房屋及业主信息",formInline:{},cellList:[],psnInfoList:[],disBankCode:!1,amountChange:!0,confirmLoading:!1,certTypeOptions:[],activeKey:"1",fileIdList:[],rulesHou:{roomName:[{required:!0,message:"请输入房间名称！",trigger:"change"}],houseUse:[{required:!0,message:"请选择房屋用途！",trigger:"change"}],bankCode:[{required:!0,message:"请选择承办银行！",trigger:"change"}],houseAttr:[{required:!0,message:"请选择房屋性质！",trigger:"change"}],houseArea:[{required:!0,message:"请输入房屋面积！",trigger:"change"}],depAmount:[{required:!0,message:"请输入交存金额！",trigger:"change"}],dueAmount:[{required:!0,message:"请输入交存金额！",trigger:"change"}],floorNo:[{required:!0,message:"请输入楼层！",trigger:"change"}],unitId:[{required:!0,message:"请选择单元号！",trigger:"change"}],houseName:[{required:!0,message:"请输入房屋位置！",trigger:"change"},{max:300,message:"房屋位置长度不能超过300位！",trigger:"change"}],depMode:[{required:!0,message:"请选择交存模式！",trigger:"change"}],price:[{required:!0,message:"请输入房屋售价",trigger:"change"}]},operateFlag:!1,rules1:{name:[{required:!0,message:"请输入业主名称！",trigger:"change"},{max:100,message:"长度不能超过100位！"}],certType:[{required:!0,message:"请选择业主证件类型！",trigger:"change"}],baseType:[{required:!0,message:"请选择业主类别！",trigger:"change"}],phone:[{validator:i["b"]}]},visible:!1,bankInfoOptions:[],loading:!1,url:{getHouseInfoDetail:"/common/fastHanding/getHouseInfoDetail",checkUserIsCorp:"/sys/sysDepart/checkUserIsCorp"}}},mounted:function(){var e=this;this.$bus.$on("ownerSave",(function(t){e.psnInfoList=t}))},methods:{initDictConfig:function(){var e=this;Object(p["g"])("cert_type").then((function(t){e.certTypeOptions=t.result}))},initData:function(e){var t=this;this.operateFlag=!1,this.formInline=Object.assign({}),Object(n["e"])("/base/accFuTra/queryCellInfoByBuildId",{buildId:e,unitId:""}).then((function(e){e.success&&(t.cellList=e.result),t.$nextTick((function(){t.$refs.oldOwner.initData(!0,t.psnInfoList),t.$refs.hic.houseInfo=t.formInline,t.$refs.fileUpload&&t.$refs.fileUpload.initData()})),t.visible=!0}))},loadData:function(e){var t=this,a=Object.assign({},e);this.operateFlag=!0,this.formInline=Object.assign({}),this.psnInfoList=[{}],Object(n["e"])("/base/accFuTra/queryCellInfoByBuildId",{unitId:a.unitId,buildId:""}).then((function(e){e.success&&(t.cellList=e.result)})),Object(n["e"])("/base/accFuTra/queryHouOwnerInfoByHouId",{houId:a.id}).then((function(a){a.success&&(a.result&&(a.result.depStandard=a.result.depStandard||"0.00",t.formInline=a.result,"0"==t.formInline.houseState&&"1"==t.formInline.accState&&(t.operateFlag=!1),a.result.psnInfoList&&a.result.psnInfoList.length>0&&(t.psnInfoList=a.result.psnInfoList)),t.psnInfoList.forEach((function(e){var a=t.certTypeOptions.find((function(t){return t.value===e.certType}));e.certTypeName=a?a.text:"",t.certTypeChange(e)}))),t.activeKey="1",t.$nextTick((function(){t.$refs.hic.houseInfo=t.formInline,t.$refs.oldOwner.initData(!1,t.psnInfoList),t.$refs.fileUpload.initData(),Object(n["e"])(t.url.getHouseInfoDetail,{id:e.id}).then((function(e){e.success&&t.$nextTick((function(){t.$refs.tradIngRecord.initData(e.result),t.loading=!1}))}))})),t.visible=!0}))},handleOk:function(){var e=v(h().mark((function e(){var t,a=this;return h().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.form.validaRowMsg(this.$refs.formRow),t.valida){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,this.$refs.oldOwner.checkData();case 5:if(e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:if(this.formInline.psnInfoList=this.psnInfoList,!(this.formInline.psnInfoList.length<=0)){e.next=11;break}return this.$message.error("请维护业主信息！"),e.abrupt("return");case 11:if(this.$refs.fileUpload.checkData()){e.next=13;break}return e.abrupt("return",!1);case 13:this.formInline.fileIdList=this.fileIdList,this.confirmLoading=!0,this.formInline.psnInfoList=this.psnInfoList,Object(n["j"])("/base/accFuTra/addHouOwnerInfo",this.formInline).then((function(e){e.success?(a.$message.success("操作成功！"),a.$emit("ok"),a.visible=!1):a.$message.warning(e.message)})).finally((function(){a.confirmLoading=!1}));case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleCancel:function(){this.psnInfoList=[{}],this.visible=!1},getFileList:function(e){if(this.fileIdList=[],e){var t=this;e.forEach((function(e){t.fileIdList.push(e.id)}))}},areaChange:function(){var e=this;Object(n["j"])("/deposit/firstDeposit/calculateDueAmount",this.formInline).then((function(t){t.success&&(e.$set(e.formInline,"dueAmount",t.result),e.$set(e.formInline,"depAmount",t.result),e.$set(e.formInline,"depStandard",Number(t.message).toFixed(2)))}))},editAmount:function(){this.amountChange=!1},addPsn:function(){this.psnInfoList.push({rules:Object.assign({},this.rules1)})},delPsn:function(e){-1!==e&&this.psnInfoList.splice(e,1)},certTypeChange:function(e){this.$set(e,"rules",Object.assign({},this.rules1)),e.rules.certNo=[],"1"===e.certType?(e.rules.certNo.push({required:!0,message:"请输入证件号码！",trigger:"change"}),e.rules.certNo.push({pattern:i["a"].IDCard,message:"身份证号格式不正确",trigger:"change"})):e.rules.certNo.push({required:!0,message:"请输入证件号码！",trigger:"change"})},changeModalTab:function(e){var t=this;this.activeKey=e,"2"===e&&Object(n["e"])(this.url.getHouseInfoDetail,{id:this.formInline.id}).then((function(e){e.success&&t.$nextTick((function(){t.$refs.tradIngRecord.initData(e.result),t.loading=!1}))}))}}},g=function(e,t,a){""==t||void 0==t||/^([1-9][0-9]*|-[1-9][0-9]*)$/.test(t)?a():a("请输入非0、正整数或负整数")},_=y,w=(a("7b3c"),a("2877"));a.d(t,"validateIdNumber",(function(){return g}));var C=Object(w["a"])(_,o,l,!1,null,"a7bdaec0",null);t["default"]=C.exports},"16ec":function(e,t,a){"use strict";a("4ae0")},1834:function(e,t,a){"use strict";a("30d6")},"1a65":function(e,t,a){"use strict";a("1c70")},"1b53":function(e,t,a){"use strict";a("af65")},"1c70":function(e,t,a){},"1cde":function(e,t,a){},2154:function(e,t,a){},2292:function(e,t,a){},"23ef":function(e,t,a){"use strict";a("6c96")},2425:function(e,t,a){"use strict";a("94b3")},"24c5":function(e,t,a){},"24fb":function(e,t,a){},2520:function(e,t,a){},"25c2":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{staticStyle:{height:"20%",overflow:"auto"},attrs:{title:e.title,width:"40%",visible:e.visible,"modal-height":"200px"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("j-form-container",[a("a-form-model",{ref:"form",staticClass:"compactForm",attrs:{slot:"detail",layout:"vertical",model:e.model,rules:e.validatorRules},slot:"detail"},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("主管单位")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"tenant","data-prop":"tenant"}},[a("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":!0,filterTreeNode:e.filter,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.tenantList,placeholder:"请选择主管单位"},on:{select:function(t,a){return e.handleSelected(a,e.item)}},model:{value:e.model.tenant,callback:function(t){e.$set(e.model,"tenant",t)},expression:"model.tenant"}})],1)],1)],1)],1)],1)],1)},l=[],n=a("0fea"),r={name:"DownloadCorp",data:function(){return{visible:!1,title:"选择主管单位",labelCol:{span:0},wrapperCol:{span:24},model:{},validatorRules:{tenant:[{required:!0,message:"请选择主管单位!"}]},url:{list:"/tenant/sysTenantInfo/tenantList"},tenantList:[],selectedInfo:{}}},methods:{filter:function(e,t){return t.data.props.title.includes(e)},init:function(){var e=this;Object(n["e"])(this.url.list).then((function(t){t.success?(e.tenantList=t.result,e.visible=!0):e.$message.warning(t.message)}))},handleSubmit:function(){var e=this,t=this;this.$refs.form.validate((function(a){a&&(t.$emit("back",e.selectedInfo),t.handleCancel())}))},handleCancel:function(){this.model={},this.tenantList=[],this.visible=!1},handleSelected:function(e,t){var a=e.dataRef;this.selectedInfo=a}}},s=r,i=(a("fde5"),a("765c"),a("2877")),c=Object(i["a"])(s,o,l,!1,null,"3ccd9544",null);t["default"]=c.exports},"25ea":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-space",{staticClass:"buttonGroup"},[e.showTz?a("a-upload",{attrs:{name:"file",showUploadList:!1,multiple:!1,headers:e.tokenHeader,action:e.importExcelUrl},on:{change:e.handleImportExcel}},[a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"import",loading:e.loading}},[e._v("导入")])],1):e._e(),a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.deleteColumn()}}},[e._v("删除")]),a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.addColumn()}}},[e._v("添加")])],1),a("a-table",{ref:"table",attrs:{bordered:"",size:"middle","row-key":"code",columns:e.columns,dataSource:e.dataSource,pagination:!1,loading:e.loading},scopedSlots:e._u([{key:"isShop",fn:function(t,o,l){return[a("div",[a("a-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择是否存在底商"},on:{change:function(t){return e.handleChange(o.isShop,o.id,l,"isShop")},blur:function(t){e.validatorIndex=l}},model:{value:o.isShop,callback:function(t){e.$set(o,"isShop",t)},expression:"record.isShop"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:0}},[e._v("否")])],1)],1)]}},{key:"overFloor",fn:function(t,o,l){return[a("a-form-model",{ref:"overFloorForm"+l,attrs:{rules:e.validatorRules,model:o}},[a("a-form-model-item",{attrs:{prop:"overFloor"}},[a("a-input-number",{staticClass:"width100",attrs:{min:0,precision:0},on:{change:function(t){return e.overChange(t,o,l)},blur:function(t){return e.overChange(t,o,l)}},model:{value:o.overFloor,callback:function(t){e.$set(o,"overFloor",t)},expression:"record.overFloor"}})],1)],1)]}},{key:"overPerFloor",fn:function(t,o,l){return[a("a-form-model",{ref:"overPerFloorForm"+l,attrs:{rules:e.validatorRules,model:o}},[a("a-form-model-item",{attrs:{prop:"overPerFloor"}},[a("a-input-number",{staticClass:"width100",attrs:{min:0,precision:0},on:{change:function(t){return e.perFloorValida("overPerFloorForm","overPerFloor",l)},blur:function(t){return e.perFloorValida("overPerFloorForm","overPerFloor",l)}},model:{value:o.overPerFloor,callback:function(t){e.$set(o,"overPerFloor",t)},expression:"record.overPerFloor"}})],1)],1)]}},{key:"underFloor",fn:function(t,o,l){return[a("a-form-model",{ref:"underFloorForm"+l,attrs:{rules:e.validatorRules,model:o}},[a("a-form-model-item",{attrs:{prop:"underFloor"}},[a("a-input-number",{staticClass:"width100",attrs:{min:0,precision:0,disabled:o.positiveInteger},on:{change:function(t){return e.underChange(t,o,l)},blur:function(t){return e.underChange(t,o,l)}},model:{value:o.underFloor,callback:function(t){e.$set(o,"underFloor",t)},expression:"record.underFloor"}})],1)],1)]}},{key:"underPerFloor",fn:function(t,o,l){return[a("a-form-model",{ref:"underPerFloorForm"+l,attrs:{rules:e.validatorRules,model:o}},[a("a-form-model-item",{attrs:{prop:"underPerFloor"}},[a("a-input-number",{staticClass:"width100",attrs:{min:0,precision:0,disabled:o.positiveInteger},on:{change:function(t){return e.underPerFloorValida("underPerFloorForm","underPerFloor",l)},blur:function(t){return e.underPerFloorValida("underPerFloorForm","underPerFloor",l)}},model:{value:o.underPerFloor,callback:function(t){e.$set(o,"underPerFloor",t)},expression:"record.underPerFloor"}})],1)],1)]}},{key:"name",fn:function(t,o,l){return[a("a-form-model",{ref:"nameForm"+l,attrs:{rules:e.validatorRules,model:o}},[a("a-form-model-item",{attrs:{prop:"name"}},[a("a-input",{staticClass:"width100",model:{value:o.name,callback:function(t){e.$set(o,"name",t)},expression:"record.name"}})],1)],1)]}},{key:"startFloor",fn:function(t,o,l){return[a("a-form-model",{ref:"startFloorForm"+l,attrs:{rules:e.validatorRules,model:o}},[a("a-form-model-item",{attrs:{prop:"startFloor"}},[a("a-input-number",{staticClass:"width100",attrs:{min:-99,max:99,disabled:0===o.isShop,precision:0},on:{change:function(t){return e.floorValida(o,"startFloor",l)},blur:function(t){return e.floorValida(o,"startFloor",l)}},model:{value:o.startFloor,callback:function(t){e.$set(o,"startFloor",t)},expression:"record.startFloor"}})],1)],1)]}},{key:"endFloor",fn:function(t,o,l){return[a("a-form-model",{ref:"endFloorForm"+l,attrs:{rules:e.validatorRules,model:o}},[a("a-form-model-item",{attrs:{prop:"endFloor"}},[a("a-input-number",{staticClass:"width100",attrs:{min:-99,max:99,disabled:0===o.isShop,precision:0},on:{change:function(t){return e.floorValida(o,"startFloor",l)},blur:function(t){return e.floorValida(o,"startFloor",l)}},model:{value:o.endFloor,callback:function(t){e.$set(o,"endFloor",t)},expression:"record.endFloor"}})],1)],1)]}},{key:"shopPerFloor",fn:function(t,o,l){return[a("a-form-model",{ref:"shopPerFloorForm"+l,attrs:{rules:e.validatorRules,model:o}},[a("a-form-model-item",{attrs:{prop:"shopPerFloor"}},[a("a-input-number",{staticClass:"width100",attrs:{min:0,disabled:0===o.isShop,precision:0},on:{blur:function(t){e.validatorIndex=l}},model:{value:o.shopPerFloor,callback:function(t){e.$set(o,"shopPerFloor",t)},expression:"record.shopPerFloor"}})],1)],1)]}}])},[a("span",{attrs:{slot:"nameTitle"},slot:"nameTitle"},[e._v("单元名称")]),a("span",{attrs:{slot:"overFloorTitle"},slot:"overFloorTitle"},[e._v("地上楼层数"),a("span",{staticStyle:{color:"red"}},[e._v("*")])]),a("span",{attrs:{slot:"overPerFloorTitle"},slot:"overPerFloorTitle"},[e._v("地上每层户数"),a("span",{staticStyle:{color:"red"}},[e._v("*")])]),a("span",{attrs:{slot:"underFloorTitle"},slot:"underFloorTitle"},[e._v("地下楼层数"),a("span",{staticStyle:{color:"red"}},[e._v("*")])]),a("span",{attrs:{slot:"underPerFloorTitle"},slot:"underPerFloorTitle"},[e._v("地下每层户数"),a("span",{staticStyle:{color:"red"}},[e._v("*")])])]),a("a-space",{staticClass:"buttonGroup"},[a("a-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.previousStep()}}},[e._v("上一步")]),a("a-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.handleSubmit()}}},[e._v("下一步")])],1)],1)},l=[],n=a("b65a"),r=a("ce4c"),s={name:"CellInfoModal",mixins:[n["a"],r["CellInfoModal"]]},i=s,c=(a("9162"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"c4964ae8",null);t["default"]=d.exports},"2bcc":function(e,t,a){},"2f22":function(e,t,a){},"2f7a":function(e,t,a){"use strict";a("2f22")},"30d6":function(e,t,a){},"31fb":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:e.title,visible:e.visible,confirmLoading:e.confirmLoading,width:1100,switchFullscreen:"","body-style":{padding:"0 16px 16px"}},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[a("a-space",{attrs:{align:"center",size:6}},[e.IsOwnerCollection||e.changeFileFlag?a("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.submitForm}},[a("em",{staticClass:"el-icon-finished"}),e._v("变更")]):a("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.submitForm}},[a("em",{staticClass:"el-icon-finished"}),e._v("备案")]),a("a-button",{on:{click:e.handleCancel}},[a("em",{staticClass:"el-icon-circle-close"}),e._v("关闭")])],1)],1)]},proxy:!0}])},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-row",[a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"业主信息"}},[a("j-form-container",{attrs:{border:!1}},[a("a-row",{ref:"formCorpRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{attrs:{span:4}},[e._v("业主姓名")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.psnName)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("联系电话")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.psnPhone)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("证件类型")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.psnCertType_dictText)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("证件号码")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.psnCertNo)+"\n              ")])],1)],1)],1)],1)],1),a("a-row",[a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"房屋信息"}},[a("div",[a("vxe-table",{key:"table_"+e.isDistrict,ref:"xTable",attrs:{border:"","show-footer":"","show-overflow":"",resizable:"","highlight-hover-row":"",data:e.loadData,"header-align":"center","cell-style":e.cellStyle,align:"center"}},[a("vxe-table-column",{attrs:{field:"districtName",title:"分区",width:"150",visible:e.isDistrict}}),a("vxe-table-column",{attrs:{field:"propertyName",title:"小区",width:"200"}}),a("vxe-table-column",{attrs:{field:"corpName",width:"120px",title:"自然幢"}}),a("vxe-table-column",{attrs:{field:"cellName",width:"120px",title:"单元"}}),a("vxe-table-column",{attrs:{field:"address","show-overflow":"tooltip",title:"房屋位置"}}),a("vxe-table-column",{attrs:{field:"struArea",width:"140",title:"建筑面积(m²)",formatter:function(t){var a=t.cellValue;return e.formatterAmount(a,3)}}}),a("vxe-table-column",{attrs:{field:"houseUse_dictText",title:"房屋用途"}})],1)],1)])],1)],1),a("a-row",[a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"维护账户信息"}},[a("j-form-container",{ref:"formAccPsn",attrs:{border:!1,rules:e.validatorRules,model:e.model,formRef:"formRow"}},[a("a-row",{ref:"formAccPsnRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("收款账号")]),a("a-col",{attrs:{span:8,"data-prop":"code"}},[a("a-input",{attrs:{placeholder:"请输入收款账号"},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}})],1),a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("开户银行")]),a("a-col",{attrs:{span:8,"data-prop":"bankName"}},[a("a-input",{attrs:{placeholder:"请输入开户银行"},model:{value:e.model.bankName,callback:function(t){e.$set(e.model,"bankName",t)},expression:"model.bankName"}})],1),a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("账户名称")]),a("a-col",{attrs:{span:8,"data-prop":"name"}},[a("a-input",{model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("证件类型")]),a("a-col",{attrs:{span:8,"data-prop":"certType"}},[a("j-d-dict-select-tag",{attrs:{dictCode:"cert_type"},on:{select:function(){return e.$refs.formAccPsn.clearValidate()}},model:{value:e.model.certType,callback:function(t){e.$set(e.model,"certType",t)},expression:"model.certType"}})],1),a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("证件号码")]),a("a-col",{attrs:{span:8,"data-prop":"certNo"}},[a("a-input",{model:{value:e.model.certNo,callback:function(t){e.$set(e.model,"certNo",t)},expression:"model.certNo"}})],1),a("a-col",{attrs:{span:4}},[e._v("收款联系人")]),a("a-col",{attrs:{span:8,"data-prop":"linkName"}},[a("a-input",{attrs:{placeholder:"请输入收款联系人"},model:{value:e.model.linkName,callback:function(t){e.$set(e.model,"linkName",t)},expression:"model.linkName"}})],1),a("a-col",{attrs:{span:4}},[e._v("收款联系人电话")]),a("a-col",{attrs:{span:8,"data-prop":"phone"}},[a("a-input",{attrs:{placeholder:"请输入收款联系人电话"},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}})],1)],1)],1)],1)],1)],1),a("a-row",[e.IsOwnerCollection||e.changeFileFlag?a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"变更信息"}},[a("j-form-container",{ref:"formPsnReason",attrs:{border:!1,rules:e.rulesReson,model:e.model}},[a("a-row",{ref:"formPsnReasonRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{staticClass:"height-108",attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("变更原因")]),a("a-col",{staticClass:"height-108",attrs:{span:20,"data-prop":"reason"}},[a("a-textarea",{staticClass:"height-108",attrs:{placeholder:"请输入变更原因"},model:{value:e.model.reason,callback:function(t){e.$set(e.model,"reason",t)},expression:"model.reason"}})],1)],1)],1)],1)],1):e._e()],1),a("a-row",[!e.IsOwnerCollection||e.changeFileFlag?a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"附件"}},[a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:e.model.code&&e.model.code.length>0?"50":"70",busiTypeDetail:e.model.code&&e.model.code.length>0?"505D":"7005",busiNo:e.model.code},on:{change:e.getFileList}})],1)],1):e._e()],1)],1),a("change-col-acc-business-comp",{ref:"cabc",on:{changeData:function(t){return e.changeData(t)}}})],1)},l=[],n=a("9fbd"),r=a("3ed7"),s=a("f0b1"),i=a("2c46"),c=a("eccd"),d=a("3dcf"),u={name:"ColAccPsnInfoModal",methods:{formatterAmount:r["g"]},components:{TypeAttachmentUpload:n["default"],JDDictSelectTag:c["default"],ChangeColAccBusinessComp:d["default"]},mixins:[s["ColAccPsnInfoDetail"],i["ColAccPsnInfoModal"]],disabled:{type:Boolean,default:!1,required:!1}},p=u,f=(a("7516"),a("2877")),m=Object(f["a"])(p,o,l,!1,null,"d3d7e1f4",null);t["default"]=m.exports},"33e7":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticStyle:{height:"100%",overflow:"auto"},attrs:{title:e.title,width:"80%",visible:e.visible,okButtonProps:{props:{icon:"check"}},cancelButtonProps:{props:{icon:"close"}}},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("div",{staticStyle:{"margin-bottom":"135px"}},[a("vxe-grid",{ref:"table",attrs:{border:"",size:"middle",columns:e.columns,data:e.dataSource,pagination:!1,loading:e.loading,"edit-config":{trigger:"click",mode:"cell",showStatus:!0},"edit-rules":e.rules},scopedSlots:e._u([{key:"bankCode",fn:function(t){var o=t.row,l=t.column;return[a("div",[a("j-dict-bank-list-select",e._b({attrs:{"show-icon":"",placeholder:"请选择承办银行"},on:{select:function(t){return e.$refs.table.updateStatus({row:o,column:l})}},model:{value:o.bankCode,callback:function(t){e.$set(o,"bankCode",t)},expression:"row.bankCode"}},"j-dict-bank-list-select",{dropdownMenuStyle:{height:"158px"}},!1))],1)]}},{key:"settleFlag",fn:function(t){var o=t.row,l=t.column;return[a("div",[a("a-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择是否参与结息"},on:{select:function(t){return e.$refs.table.updateStatus({row:o,column:l})},change:function(t){return e.handleChange(o,"settleFlag",l)}},model:{value:o.settleFlag,callback:function(t){e.$set(o,"settleFlag",t)},expression:"row.settleFlag"}},[a("a-select-option",{attrs:{value:1}},[e._v("是")]),a("a-select-option",{attrs:{value:0}},[e._v("否")])],1)],1)]}},{key:"pubRegionFlag",fn:function(t){var o=t.row;t.column;return["10"==o.baseType?a("div",{staticClass:"pubRegionFlagSlot"},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:o.pubRegionFlag,callback:function(t){e.$set(o,"pubRegionFlag",t)},expression:"row.pubRegionFlag"}}),o.pubRegionFlag?a("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":!0,filterTreeNode:e.filter,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.zoneList,placeholder:"请选择区县"},model:{value:o.zoneCode,callback:function(t){e.$set(o,"zoneCode",t)},expression:"row.zoneCode"}}):e._e()],1):e._e()]}}])})],1)])},l=[],n=a("b65a"),r=a("4349"),s=a("8c6e"),i=a("0d34"),c=a("c8e8"),d=a("3269"),u={name:"CorpInfoOpenAccBatch",mixins:[n["a"],c["CorpInfoOpenAccBatch"]],components:{JDictBankListSelect:d["default"],JThirdAppButton:i["default"],JInput:r["default"],JSuperQuery:s["default"]}},p=u,f=(a("9f85"),a("81fe"),a("2877")),m=Object(f["a"])(p,o,l,!1,null,"06eea88b",null);t["default"]=m.exports},"365a":function(e,t,a){"use strict";a("09ac")},3682:function(e,t,a){"use strict";a("2292")},3882:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:"房屋信息变更",width:"80%",visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭",okText:"确认变更","modal-height":"85vh"},on:{cancel:e.handleCancel,ok:e.handleOk}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n              房屋信息\n            ")])])]},proxy:!0}])},[a("house-list-table",{ref:"houseListTable",attrs:{"cell-info":e.cellInfo,"keep-source":!0,"is-detail":!1}})],1)],1),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"2",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n              变更原因\n            ")])])]},proxy:!0}])},[a("a-form-model",{ref:"form",attrs:{rules:e.validatorRules,model:e.model}},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{staticStyle:{height:"auto"},attrs:{span:2}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更原因")]),a("a-col",{staticStyle:{height:"auto"},attrs:{span:22}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeReason",label:"变更原因"}},[a("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:3},rows:3,placeholder:"请输入变更原因",maxLength:150},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"505B","is-detail":!0},on:{change:e.getFileList}}),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"505C","is-detail":!1},on:{change:e.getFileList}}),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"505C",busiNo:e.model.reqNo,"is-detail":!1},on:{change:e.getFileList}})],1)],1)},l=[],n=a("a87b"),r=a("0fea"),s=a("9fbd"),i={name:"HouseInfoChangeModal",components:{HouseListTable:n["default"],TypeAttachmentUpload:s["default"]},data:function(){return{validatorRules:{changeReason:[{required:!0,message:"填写变更原因"},{max:150,message:"变更原因长度不能超过50位！"}]},visible:!1,confirmLoading:!1,selectedRows:[],model:{},activeKey:["1","2"],url:{houseInfoChange:"/base/rHouseInfo/houseInfoChange"},cellInfo:{},fileIdList:[]}},created:function(){},methods:{getFileList:function(e){if(this.fileIdList=[],e){var t=this;e.forEach((function(e){t.fileIdList.push(e.id)}))}},init:function(e){var t=this;this.selectedRows=JSON.parse(JSON.stringify(e)),this.visible=!0,this.$nextTick((function(){t.$refs.fileupload.initData(),t.$refs.houseListTable.loadTableData(JSON.parse(JSON.stringify(e))),t.cellInfo={name:t.selectedRows[0].cellName,code:t.selectedRows[0].cellCode,address:t.selectedRows[0].cellAddress}}))},handleCancel:function(){this.selectedRows=[],this.model={},this.$refs.houseListTable.revertTableData(),this.visible=!1},handleOk:function(){var e=this,t=this;this.$refs.houseListTable.validaTable().then((function(a){e.$refs.form.validate((function(a){if(a){if(!e.$refs.fileupload.checkData())return!1;e.confirmLoading=!0,e.model.fileIdList=e.fileIdList,e.model.newHouseList=e.$refs.houseListTable.getTableData(),e.model.oldHouseList=e.selectedRows,Object(r["j"])(e.url.houseInfoChange,e.model).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.handleCancel()}))}}))}))}}},c=i,d=(a("933d"),a("2877")),u=Object(d["a"])(c,o,l,!1,null,"3e766c14",null);t["default"]=u.exports},"393f":function(e,t,a){},"394b":function(e,t,a){},"39d1":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{staticStyle:{height:"50%",overflow:"auto"},attrs:{title:e.title,width:"60%",visible:e.visible,switchFullscreen:"",okButtonProps:{props:{icon:"check"}},cancelButtonProps:{props:{icon:"close"}}},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("j-form-container",{ref:"form",attrs:{border:!1,rules:e.validatorRules,model:e.model,formRef:"formRow",disabled:e.disabled}},[a("a-row",{ref:"formRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex",gutter:16},slot:"detail"},[a("a-col",{attrs:{span:4}},[e.required?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v("售房款账号")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{placeholder:e.model.code,disabled:""},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}})],1),a("a-col",{attrs:{span:4}},[e.required?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v("单位名称")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{placeholder:e.model.baseCorpName,disabled:""},model:{value:e.model.baseCorpName,callback:function(t){e.$set(e.model,"baseCorpName",t)},expression:"model.baseCorpName"}})],1),a("a-col",{attrs:{span:4}},[e.required?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v("银行名称")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{placeholder:e.model.bankName,disabled:""},model:{value:e.model.bankName,callback:function(t){e.$set(e.model,"bankName",t)},expression:"model.bankName"}})],1),a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("发生额")]),a("a-col",{attrs:{span:8,"data-prop":"amount"}},[a("a-input",{attrs:{placeholder:"请输入发生额"},model:{value:e.model.amount,callback:function(t){e.$set(e.model,"amount",t)},expression:"model.amount"}})],1),a("a-col",{attrs:{span:4}},[e._v("业务描述")]),a("a-col",{attrs:{span:8}},[a("a-textarea",{attrs:{placeholder:"请输入业务描述","auto-size":{minRows:2,maxRows:6}},model:{value:e.model.describe,callback:function(t){e.$set(e.model,"describe",t)},expression:"model.describe"}})],1),a("a-col",{attrs:{span:4}},[e._v("备注")]),a("a-col",{attrs:{span:8}},[a("a-textarea",{attrs:{placeholder:"请输入备注","auto-size":{minRows:2,maxRows:6}},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1)],1)},l=[],n=a("bdc9"),r={name:"AccSaleInfoSaveValue",mixins:[n["AccSaleInfoSaveValue"]]},s=r,i=(a("1e1a"),a("2877")),c=Object(i["a"])(s,o,l,!1,null,"2da8d6c3",null);t["default"]=c.exports},"3cd4":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:e.title,maskClosable:!0,width:1044,placement:"right",closable:!0,visible:e.visible,"body-style":{paddingBottom:"53px",overflow:"auto",height:"calc(100% - 55px)"}},on:{close:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 收款账户信息 ")])])]},proxy:!0}])},[a("j-form-container",{attrs:{border:!1}},[a("a-row",{ref:"formCorpRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{attrs:{span:4}},[e._v("收款账号")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.code)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("开户银行")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.bankName)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("账户名称")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.name)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("收款联系人")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.linkName)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("收款联系人电话")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.phone)+"\n            ")])],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"70",busiTypeDetail:e.busiTypeDetail,busiNo:e.model.id,isDetail:!0}})],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleCancel}},[a("em",{staticClass:"el-icon-circle-close"}),e._v(" 关闭")])],1)],1)},l=[],n=a("9fbd"),r=a("9b1e"),s={name:"ColAccInfoDetail",components:{TypeAttachmentUpload:n["default"]},mixins:[r["ColAccInfoDetail"]]},i=s,c=(a("720a"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"665df47d",null);t["default"]=d.exports},4130:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("div",{staticClass:"padding8 tableDiv"},[a("v-table",{ref:"table",attrs:{"row-config":{height:120},toolbar:!1,bordered:"",stripe:!0,"table-height":"auto",expand:!1,"show-pagination":!0,"header-align":"center",ifInitQuery:!1,data:e.loadData,tableColumn:e.columns},scopedSlots:e._u([{key:"address",fn:function(t){var o=t.text,l=t.row;return[a("a",{on:{click:function(t){return e.showHouseDetail(l.houseId)}}},[e._v(e._s(o))])]}},{key:"loanFlag",fn:function(t){var o=t.row;return[1===o.loanFlag?a("span",[e._v("收入")]):e._e(),2===o.loanFlag?a("span",[e._v("支出")]):e._e()]}}])})],1),a("house-detail-comp",{ref:"house",attrs:{zIndex:1200}})],1)},l=[],n=a("821c"),r=a("0a5e"),s=a("0fea"),i=a("c1df"),c=a.n(i),d={name:"DepositBusinessDetails",components:{HouseDetailComp:n["default"]},mixins:[r["a"]],props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){var e=this;return{model:{},loadData:function(t){return Object(s["e"])(e.url.list,Object.assign(t,{busiNo:e.model.busiNo,regionCode:e.model.regionCode})).then((function(e){return e.result}))},confirmLoading:!1,columns:[{title:"房屋位置",align:"center",headerAlign:"center",minWidth:"200px",field:"address",slot:!0},{title:"业务类型",align:"center",headerAlign:"center",field:"busiTypeDetail_dictText",width:180},{title:"账户编号",align:"center",width:180,field:"accCode"},{title:"业主姓名",align:"center",width:150,field:"psnName"},{title:"收支标识",align:"center",width:80,field:"loanFlag",slot:!0},{title:"发生额(元)",align:"right",width:100,formatter:"amount",field:"amount"},{title:"记账日期",align:"center",width:150,field:"trdDate",formatter:function(e){var t=e.cellValue;return t?c()(t).format("YYYY-MM-DD"):""}}],url:{list:"/account/trdlog/detailByAccCodeOrBusiNo"}}},methods:{showByBusiNo:function(e){this.model.busiNo=e,this.queryPage()},showByBusiNoAndRegionCode:function(e,t){this.model.busiNo=e,this.model.regionCode=t,this.queryPage()},showHouseDetail:function(e){this.$refs.house.initData(e)}}},u=d,p=(a("2425"),a("2877")),f=Object(p["a"])(u,o,l,!1,null,"c21f2982",null);t["default"]=f.exports},"43db":function(e,t,a){},"46dcf":function(e,t,a){},"47a0":function(e,t,a){"use strict";a("cbaa")},"47ac":function(e,t,a){},"47c5":function(e,t,a){},"4ae0":function(e,t,a){},5174:function(e,t,a){"use strict";a("43db")},"53c5":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:"图档",width:800,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭",okText:"确认",okButtonProps:{props:{icon:"check"}},cancelButtonProps:{props:{icon:"close"}}},on:{cancel:e.handleCancel,ok:e.handleSubmit}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"70",busiTypeDetail:"7001",busiNo:e.model.id},on:{change:e.getFileList}})],1)],1)},l=[],n=a("9c40"),r=a("9fbd"),s={name:"CorpUserRegionArchives",components:{TypeAttachmentUpload:r["default"]},mixins:[n["CorpUserRegionArchives"]]},i=s,c=a("2877"),d=Object(c["a"])(i,o,l,!1,null,"d7735598",null);t["default"]=d.exports},"551a":function(e,t,a){},5773:function(e,t,a){},5921:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:"房屋归属变更",width:800,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭",okText:"确认变更","modal-height":"50vh"},on:{cancel:e.handleCancel,ok:e.handleOk}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",{ref:"form",attrs:{rules:e.validatorRules,model:e.model}},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更单元")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"pid",label:"变更单元"}},[a("select-region-layer",{attrs:{defaultId:e.cellInfo?e.cellInfo.id:void 0,"default-type":3,"need-type":"3"},model:{value:e.model.pid,callback:function(t){e.$set(e.model,"pid",t)},expression:"model.pid"}})],1)],1),a("a-col",{staticStyle:{height:"80px"},attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更原因")]),a("a-col",{staticStyle:{height:"80px"},attrs:{span:18}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeReason",label:"变更原因"}},[a("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:3},rows:3,placeholder:"请输入变更原因",maxLength:150},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"5057"},on:{change:e.getFileList}})],1)],1)},l=[],n=a("165b"),r=a("9fbd"),s={name:"HouseBatchChangeModal",components:{TypeAttachmentUpload:r["default"]},mixins:[n["BatchChange"]],props:["cellInfo"],data:function(){return{validatorRules:{pid:[{required:!0,message:"请选择单元!"}],changeReason:[{required:!0,message:"填写变更原因"}]},queryData:{baseType:"3",pid:this.cellInfo.pid},columns:[{title:"名称",align:"left",dataIndex:"name"},{title:"地址",align:"left",dataIndex:"address"},{title:"编码",align:"center",dataIndex:"code"}]}},created:function(){},methods:{}},i=s,c=(a("d0ee"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"90b0dffc",null);t["default"]=d.exports},5975:function(e,t,a){"use strict";a("fb47")},5987:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:e.title,visible:e.visible,maskClosable:!0,confirmLoading:e.confirmLoading,width:e.modelWidth,closable:!0,switchFullscreen:""},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[a("div",{staticClass:"footerButtons"},[a("a-button",{staticStyle:{"margin-right":"0.8rem"},attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.submitForm}},[a("i",{staticClass:"el-icon-finished"}),e._v("保存")]),a("a-button",{on:{click:e.handleCancel}},[a("i",{staticClass:"el-icon-circle-close"}),e._v("关闭")])],1)]},proxy:!0}])},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-tabs",{attrs:{type:"card"}},[a("a-tab-pane",{key:"1",attrs:{tab:"转出账户",forceRender:""}},[a("div",[a("vxe-table",{attrs:{border:"","show-overflow":"",resizable:"","highlight-hover-row":"",loading:e.loading,data:e.tableData,"cell-style":e.cellStyle,"header-align":"center",align:"center","edit-config":{trigger:"click",mode:"cell",activeMethod:e.activeCellMethod}}},[a("vxe-table-column",{attrs:{type:"seq",width:"60",title:"序号"}}),a("vxe-table-column",{attrs:{field:"code",title:"账号"}}),a("vxe-table-column",{attrs:{field:"address",title:"房屋地址"}}),a("vxe-table-column",{attrs:{field:"baseType_dictText",title:"账户类别"}}),a("vxe-table-column",{attrs:{field:"psnName",title:"账户名称"}}),a("vxe-table-column",{attrs:{field:"struArea",title:"建筑面积(m²)"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[o.struArea?a("span",[e._v(e._s(e._f("getArea")(o.struArea)))]):a("span",[e._v("--")])]}}])}),a("vxe-table-column",{attrs:{field:"balance",title:"账户余额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(e._f("getAmount")(o.balance))+" ")])]}}])}),a("vxe-table-column",{attrs:{field:"balanceFrozen",title:"冻结金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(e._f("getAmount")(o.balanceFrozen))+" ")])]}}])}),a("vxe-table-column",{attrs:{field:"avaiableBalance",title:"可用余额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(e._f("getAmount")(o.avaiableBalance))+" ")])]}}])}),"deposit"==e.modFlag?a("vxe-table-column",{attrs:{field:"amount",title:"可分配金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(e._f("getAmount")(o.amount))+" ")])]}}],null,!1,3744329472)}):e._e(),a("vxe-table-column",{attrs:{field:"wnLogout",title:"是否销户","edit-render":{name:"$select",options:e.wnLogoutList,optionProps:{value:"value",label:"label"},events:{input:e.wnLogoutChangeEvent}}}})],1)],1)])],1),a("a-tabs",{attrs:{type:"card"}},[a("a-tab-pane",{key:"1",attrs:{tab:"转入账户"}},[a("div",[a("vxe-toolbar",{attrs:{custom:"",print:"",export:"",zoom:""},scopedSlots:e._u([{key:"buttons",fn:function(){return[a("div",{staticClass:"toolBarBox"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.toChooseHousehold}},[e._v("选择分户账户")]),a("div",{staticClass:"toolBarBox_shareWay"},[a("span",[e._v("分摊方式")]),a("a-select",{staticClass:"select-class",attrs:{placeholder:"请选择分摊方式","default-value":"01"},on:{change:function(t){return e.shareChange()}},model:{value:e.shareType,callback:function(t){e.shareType=t},expression:"shareType"}},e._l(e.shareList,(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(t.label))])})),1)],1)],1)]},proxy:!0}])}),a("vxe-table",{ref:"xTable",attrs:{border:"","show-footer":"","show-overflow":"",resizable:"","export-config":{data:e.exportData},"highlight-hover-row":"","footer-method":e.footerMethod,"footer-span-method":e.footerSpanMethod,"footer-cell-style":e.footerCell,loading:e.loading,data:e.intoAccount,"cell-style":e.cellStyleOfInTable,"header-align":"center",align:"center","edit-config":{trigger:"click",mode:"cell"}}},[a("vxe-table-column",{attrs:{type:"seq",width:"60",title:"序号"}}),a("vxe-table-column",{attrs:{field:"accCode",title:"账号",width:"200"}}),a("vxe-table-column",{attrs:{field:"houseName",width:"200",title:"房屋地址"}}),a("vxe-table-column",{attrs:{field:"baseType_dictText",title:"账户类别"}}),a("vxe-table-column",{attrs:{field:"houseArea",title:"建筑面积(m²)"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[o.houseArea?a("span",[e._v(e._s(e._f("getArea")(o.houseArea)))]):a("span",[e._v("--")])]}}])}),a("vxe-table-column",{attrs:{field:"householderName",title:"业主姓名",formatter:function(e){var t=e.cellValue;return t&&"null"!==t?t:""}}}),a("vxe-table-column",{attrs:{field:"balance",title:"账户余额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(e._f("getAmount")(o.balance))+" ")])]}}])}),a("vxe-table-column",{attrs:{field:"dueAmount",title:"应交金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(e._f("getAmount")(o.dueAmount))+" ")])]}}])}),a("vxe-table-column",{attrs:{field:"amount",title:"转入金额(元)","edit-render":{name:"$input",props:{type:"float",digits:2,min:0},events:{change:e.amountChange},type:"visible"}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[a("span",[e._v(e._s(e._f("getAmount")(o.amount))+" ")])]}}])}),a("vxe-table-column",{attrs:{title:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row,l=t.rowIndex;return[a("a",{on:{click:function(t){return e.removeEvent(o,l)}}},[a("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)]}}])})],1)],1)])],1),a("a-tabs",{attrs:{type:"card"}},[a("a-tab-pane",{key:"1",attrs:{tab:"申请信息"}},[a("j-form-container",{ref:"formRow",attrs:{rules:e.validatorRules,model:e.model,border:!1}},[a("a-row",{ref:"formOwnRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{attrs:{span:4}},[e._v("\n              业务类型选择")]),"5"!=e.model.baseType?a("a-col",{attrs:{span:20,"data-prop":"businessType"}},[a("div",[a("el-radio-group",{on:{change:e.handChange},model:{value:e.model.businessType,callback:function(t){e.$set(e.model,"businessType",t)},expression:"model.businessType"}},["1"==e.model.baseType?a("el-radio-button",{attrs:{border:"",label:"6061"}},[e._v("房屋资金拆分")]):e._e(),"2"!=e.model.baseType&&"3"!=e.model.baseType&&"4"!=e.model.baseType||!e.showManageDeposit?e._e():a("el-radio-button",{attrs:{border:"",label:"6062"}},[e._v("经营收入分配")]),"2"!=e.model.baseType&&"3"!=e.model.baseType&&"4"!=e.model.baseType||!e.showPubDeposit?e._e():a("el-radio-button",{attrs:{border:"",label:"6063"}},[e._v("共用设施处置收入分配")]),"2"!=e.model.baseType&&"3"!=e.model.baseType&&"4"!=e.model.baseType||!e.showBuyerDeposit?e._e():a("el-radio-button",{attrs:{border:"",label:"6064"}},[e._v("挂账资金分配")]),"5"==e.model.baseType?a("el-radio-button",{attrs:{border:"",label:"6064"}},[e._v("挂账资金分配")]):e._e()],1)],1)]):e._e(),"5"==e.model.baseType?a("a-col",{attrs:{span:8,"data-prop":"businessType"}},[a("div",[a("el-radio-group",{on:{change:e.handChange},model:{value:e.model.businessType,callback:function(t){e.$set(e.model,"businessType",t)},expression:"model.businessType"}},["5"==e.model.baseType?a("el-radio-button",{attrs:{border:"",label:"6064"}},[e._v("挂账资金分配")]):e._e()],1)],1)]):e._e(),"5"==e.model.baseType?a("a-col",{attrs:{span:"4"}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("业务所属区县")]):e._e(),"5"==e.model.baseType?a("a-col",{attrs:{span:8,"data-prop":"zoneCode"}},[a("a-tree-select",{staticStyle:{width:"33%"},attrs:{"show-search":!0,filterTreeNode:e.filter,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.zoneList,placeholder:"请选择区县"},model:{value:e.model.zoneCode,callback:function(t){e.$set(e.model,"zoneCode",t)},expression:"model.zoneCode"}})],1):e._e(),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("转账日期")]),a("a-col",{staticClass:"dataRadio",attrs:{span:8,"data-prop":"settleDate"}},[a("j-date",{staticStyle:{width:"33%"},attrs:{"append-body":"",placeholder:"请选择转账日期",showTime:!0,dateFormat:"YYYY-MM-DD"},on:{change:function(t){return e.settleDateFunc()}},model:{value:e.model.settleDate,callback:function(t){e.$set(e.model,"settleDate",t)},expression:"model.settleDate"}})],1),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("是否生成财务凭证")]),a("a-col",{staticClass:"radio",attrs:{span:8,"data-prop":"wonPof"}},[a("div",{staticStyle:{width:"100%"}},[a("el-radio-group",{staticStyle:{width:"33%"},attrs:{size:"small"},model:{value:e.model.wonPof,callback:function(t){e.$set(e.model,"wonPof",t)},expression:"model.wonPof"}},[a("el-radio-button",{staticStyle:{width:"50%"},attrs:{label:"0",border:""}},[e._v("是")]),a("el-radio-button",{staticStyle:{width:"50%"},attrs:{label:"1",border:""}},[e._v("否")])],1)],1)]),a("a-col",{attrs:{span:4}},[e._v("转账描述")]),a("a-col",{attrs:{span:20,"data-prop":"transferNote"}},[a("a-textarea",{attrs:{autosize:{maxRows:8},placeholder:"请输入转账描述"},model:{value:e.model.transferNote,callback:function(t){e.$set(e.model,"transferNote",t)},expression:"model.transferNote"}})],1)],1)],1)],1)],1),a("a-tabs",{attrs:{type:"card"}},[a("a-tab-pane",{key:"1",attrs:{tab:"附件上传"}},[a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"60",busiTypeDetail:e.model.businessType,busiNo:e.model.id},on:{change:e.getFileList}})],1)],1)],1),a("acc-fu-build-info-list",{ref:"accFuBldList",on:{func:e.getSelectedHouseInfo}})],1)},l=[],n=a("9fbd"),r=a("829e"),s=a("ae3f"),i=a("0fea");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t,a){return(t=f(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e){var t=m(e,"string");return"symbol"==c(t)?t:t+""}function m(e,t){if("object"!=c(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=c(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h={name:"AccFuTransferModal",components:{TypeAttachmentUpload:n["default"],AccFuBuildInfoList:s["default"]},mixins:[r["AccFuTransferModal"]],props:{disabled:{type:Boolean,default:!1,required:!1},modFlag:{type:String,default:""}},created:function(){this.initZone()},computed:{exportData:function(){return this.intoAccount.map((function(e){return u(u({},e),{},{accCode:"\t"+e.accCode})}))}},methods:{filter:function(e,t){return t.data.props.title.includes(e)},zoneChange:function(e){var t=this;Object(i["e"])(this.url.queryByCode,{code:e}).then((function(e){e&&e.success&&(t.zonename=e.result.name)}))},initZone:function(){var e=this;Object(i["e"])(this.url.queryZone,{type:"tenant"}).then((function(t){t.success&&(e.zoneList=t.result,1!==e.zoneList.length||null!=t.result[0].children&&0!==t.result[0].children.length||(e.model.zonecode=e.zoneList[0].key))}))}}},b=h,v=(a("79de"),a("2877")),y=Object(v["a"])(b,o,l,!1,null,"1c909854",null);t["default"]=y.exports},"5b8d":function(e,t,a){"use strict";a("a851")},"61be":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,visible:e.visible},on:{close:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n                基本信息\n              ")])])]},proxy:!0}])},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:4}},[e._v("房屋名称")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.name))]),a("a-col",{attrs:{span:4}},[e._v("房屋位置")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.address))]),a("a-col",{attrs:{span:4}},[e._v("房屋性质")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.houseAttr_dictText))]),a("a-col",{attrs:{span:4}},[e._v("房屋用途")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.houseUse_dictText))]),a("a-col",{attrs:{span:4}},[e._v("有无电梯")]),a("a-col",{attrs:{span:8}},[e._v(e._s("1"==e.model.liftFlag?"有电梯":"无电梯"))]),a("a-col",{attrs:{span:4}},[e._v("建筑面积(m²)")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.formatterAmount(e.model.struArea,3)))]),a("a-col",{attrs:{span:4}},[e._v("交存模式")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.depMode_dictText))])],1)],1)],1)],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{attrs:{type:"primary",icon:"close-circle"},on:{click:e.handleCancel}},[e._v("关闭")])],1)],1)},l=[],n=a("9fbd"),r=a("3ed7"),s={name:"HouseInfoDetail",components:{TypeAttachmentUpload:n["default"]},data:function(){return{title:"房屋详情",visible:!1,model:{},drawerWidth:900,confirmLoading:!1,activeKey:["1"]}},created:function(){},methods:{formatterAmount:r["g"],edit:function(e){var t=this;this.model=Object.assign({},e),this.$nextTick((function(){t.$refs.fileupload.initData()})),this.visible=!0},handleCancel:function(){this.model={},this.visible=!1}}},i=s,c=(a("fe2b5"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"cd3e9664",null);t["default"]=d.exports},6750:function(e,t,a){"use strict";a("47c5")},"6858f":function(e,t,a){},"6ae0":function(e,t,a){"use strict";a("7db6")},"6bd9":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:"关联小区",width:1e3,visible:e.visible,confirmLoading:e.confirmLoading,okButtonProps:{props:{icon:"check"}},cancelButtonProps:{props:{icon:"close"}}},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[a("a-button",{attrs:{type:""},on:{click:e.handleCancel}},[a("a-icon",{attrs:{type:"close-circle"}}),e._v("关闭")],1),a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[a("a-icon",{attrs:{type:"check-circle"}}),e._v("确定")],1)]},proxy:!0}])},[a("a-table",{ref:"table",attrs:{rowKey:"id",bordered:"",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,type:"checkbox","row-selection":{selectedRowKeys:e.selectedRowKeys,onSelectAll:e.onSelectAll,onSelect:e.onSelect}},on:{change:e.getRelationRegion}})],1)},l=[],n=a("5ac2"),r={name:"CorpUserRelationRegion",components:{},mixins:[n["CorpUserRelationRegion"]]},s=r,i=a("2877"),c=Object(i["a"])(s,o,l,!1,null,"24921b30",null);t["default"]=c.exports},"6c08":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.confirmLoading,expression:"confirmLoading"}]},[a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"70",busiTypeDetail:"7002",busiNo:e.model.id},on:{change:e.getFileList}}),a("a-space",{staticClass:"buttonGroup"},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.previousStep()}}},[e._v("上一步")]),a("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:function(t){return e.handleOk(9)}}},[e._v("暂存")]),a("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.submitFlow}},[e._v("提交审核")])],1)],1)},l=[],n=a("9fbd"),r=a("bf83"),s={name:"BldInfoArchives",components:{TypeAttachmentUpload:n["default"]},mixins:[r["BldInfoArchives"]]},i=s,c=(a("6750"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"32f15da0",null);t["default"]=d.exports},"6c49":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,"z-index":e.zIndex,visible:e.visible},on:{close:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n              基本信息\n            ")])])]},proxy:!0}])},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:4}},[e._v("单元编号")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.code))]),a("a-col",{attrs:{span:4}},[e._v("单元名称")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.name))]),a("a-col",{attrs:{span:4}},[e._v("地上楼层数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.overFloor))]),a("a-col",{attrs:{span:4}},[e._v("地上每层户数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.overPerFloor))]),a("a-col",{attrs:{span:4}},[e._v("地下楼层数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.underFloor))]),a("a-col",{attrs:{span:4}},[e._v("地下每层户数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.underPerFloor))]),a("a-col",{attrs:{span:4}},[e._v("是否存在底商")]),a("a-col",{attrs:{span:8}},[e._v(e._s("1"==e.model.isShop?"是":"否"))]),"1"==e.model.isShop?a("a-col",{attrs:{span:4}},[e._v("底商开始层数")]):e._e(),"1"==e.model.isShop?a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.startFloor))]):e._e(),"1"==e.model.isShop?a("a-col",{attrs:{span:4}},[e._v("底商结束层数")]):e._e(),"1"==e.model.isShop?a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.endFloor))]):e._e(),"1"==e.model.isShop?a("a-col",{attrs:{span:4}},[e._v("底商每层户数")]):e._e(),"1"==e.model.isShop?a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.shopPerFloor))]):e._e()],1)],1)],1)],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{attrs:{type:"primary",icon:"close-circle"},on:{click:e.handleCancel}},[e._v("关闭")])],1)],1)},l=[],n=a("9fbd"),r={name:"CellInfoDetail",components:{TypeAttachmentUpload:n["default"]},props:{zIndex:{type:Number,default:1e3}},data:function(){return{title:"单元详情",visible:!1,model:{},drawerWidth:900,confirmLoading:!1,activeKey:["1"]}},created:function(){},methods:{edit:function(e){var t=this;this.model=Object.assign({},e),this.$nextTick((function(){t.$refs.fileupload.initData()})),this.visible=!0},handleCancel:function(){this.model={},this.visible=!1}}},s=r,i=(a("5b8d"),a("2877")),c=Object(i["a"])(s,o,l,!1,null,"60575d36",null);t["default"]=c.exports},"6c96":function(e,t,a){},"720a":function(e,t,a){"use strict";a("551a")},7516:function(e,t,a){"use strict";a("9564")},"75be":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:e.title,width:"1000px",visible:e.visible,"modal-height":"270px"},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("j-form-container",{attrs:{disabled:e.formDisabled}},[a("a-form-model",{ref:"form",attrs:{slot:"detail",layout:"vertical",model:e.model,rules:e.validatorRules},slot:"detail"},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:4}},[e._v(" 自然幢名称 ")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"name"}},[e._v("\n            "+e._s(e.model.name)+"\n          ")])],1),a("a-col",{attrs:{span:4}},[e._v(" 自然幢地址 ")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"address"}},[e._v("\n            "+e._s(e.model.address)+"\n          ")])],1),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v(" 承办银行 ")]),a("a-col",{attrs:{span:8,"data-prop":"bankCode"}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"bankCode"}},[a("j-dict-bank-list-select",e._b({attrs:{"show-icon":"",placeholder:"请选择承办银行"},model:{value:e.model.bankCode,callback:function(t){e.$set(e.model,"bankCode",t)},expression:"model.bankCode"}},"j-dict-bank-list-select",{dropdownMenuStyle:{height:"158px"}},!1))],1)],1),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("是否参与结息 ")]),a("a-col",{attrs:{span:8,"data-prop":"settleFlag"}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"settleFlag"}},[a("a-radio-group",{staticStyle:{width:"100%"},model:{value:e.model.settleFlag,callback:function(t){e.$set(e.model,"settleFlag",t)},expression:"model.settleFlag"}},[a("a-radio",{attrs:{value:1}},[e._v(" 是 ")]),a("a-radio",{attrs:{value:0}},[e._v(" 否 ")])],1)],1)],1)],1)],1)],1)],1)},l=[],n=a("988d"),r=a("3269"),s={name:"BldInfoOpenAcc",components:{JDictBankListSelect:r["default"]},mixins:[n["BldInfoOpenAcc"]]},i=s,c=(a("98bd"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"22dd23a8",null);t["default"]=d.exports},"765c":function(e,t,a){"use strict";a("393f")},"779d":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["modal"===e.showType?a("a-drawer",{ref:"corpInfoDrawer",attrs:{title:e.title,"z-index":e.zIndex,maskClosable:!0,width:e.drawerWidth,destroyOnClose:"",placement:"right",closable:!0,visible:e.visible,"body-style":{paddingBottom:"53px",height:"calc(100% - 55px)",display:"flex",flexDirection:"column"}},on:{close:e.handleCancel}},[a("template",{slot:"title"},[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v(e._s(e.title))]),a("span",{staticStyle:{display:"inline-block",width:"calc(100% - 51px)","padding-right":"10px","text-align":"right"}},[a("a-button",{staticStyle:{height:"20px",width:"20px",border:"0px"},attrs:{icon:"appstore"},on:{click:e.toggleScreen}})],1)])]),a("a-tabs",{on:{change:e.checkModel}},[a("a-tab-pane",{key:"baseInfo",attrs:{tab:"基本信息"}}),a("a-tab-pane",{key:"accountInfo",attrs:{tab:"收款账户信息"}}),e.model.accState&&"9"!=e.model.accState?a("a-tab-pane",{key:"accCount",attrs:{tab:"单位资金账户"}}):e._e(),e.model.accState&&"9"!=e.model.accState?a("a-tab-pane",{key:"trdlog",attrs:{tab:"交易明细"}}):e._e(),a("a-tab-pane",{key:"uploadFile",attrs:{tab:"附件信息"}})],1),a("div",{staticClass:"scroll",staticStyle:{flex:"1",height:"0",overflow:"auto"}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("j-form-container",{attrs:{disabled:"",border:!1},scopedSlots:e._u([{key:"edit",fn:function(){return[a("a-collapse",{attrs:{id:"baseInfo",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 基本信息 ")])])]},proxy:!0}],null,!1,2157073215)},[a("a-row",{staticClass:"maintainInfo",attrs:{type:"flex"}},[a("a-col",{attrs:{span:4}},[e._v("单位类型")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.baseType_dictText)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("单位名称")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.name)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("单位编号")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.code)+"\n                  ")]),"12"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("所属办事处")]):e._e(),"12"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.officeName)+"\n                  ")]):e._e(),"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("所属单位")]):e._e(),"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.orgName)+"\n                  ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("单位地址")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.address}})],1),a("a-col",{attrs:{span:4}},[e._v("成立日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.foundDate)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("法人代表")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargeName)+"\n                  ")]):e._e(),a("a-col",{staticStyle:{"padding-right":"5px"},attrs:{span:4}},[e._v("统一社会信用代码")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.license)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("营业执照有效期")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.validDate1)+"\n                  ")]):e._e(),"03"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("维修范围")]):e._e(),"03"==e.model.baseType?a("a-col",{attrs:{span:20}},[e.model.fstbuScopeData&&e.model.fstbuScopeData.length>0?a("scope-maintenance",{attrs:{disabled:"",scopeData:e.model.fstbuScopeData}}):[e._v(e._s(e.model.fstbuScopeName))]],2):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("第几届")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.whichSession)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("到届日期")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.arrivalDate)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("业委会/社区主任")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargeName)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("主任手机号")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargePhone)+"\n                  ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("联系人")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.linkMan)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("联系电话")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.phone)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("企业网址")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.website}})],1):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("邮箱")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.email}})],1):e._e(),a("a-col",{attrs:{span:4}},[e._v("申请日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.createTime)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("备案人")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.recOper_dictText||e.model.recOper)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("备案日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.recTime)+"\n                  ")])],1)],1)],1),a("a-collapse",{attrs:{id:"accountInfo",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"2",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 收款账户信息 ")])])]},proxy:!0}],null,!1,2279480016)},[a("account-info-modal",{ref:"accountInfo",attrs:{showTitle:!1,disabled:!0}})],1)],1),e.model.accState&&"9"!=e.model.accState?a("a-collapse",{attrs:{id:"accCount",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"3",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 单位资金账户 ")])])]},proxy:!0}],null,!1,3480319675)},[a("a-row",{staticClass:"maintainInfo"},[a("a-col",{attrs:{span:4}},[e._v("资金账户")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.accModel.code)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("账户余额")]),a("a-col",{attrs:{span:8}},[e._v(" "+e._s(e._f("getAmount")(e.accModel.balance))+" 元 ")]),a("a-col",{attrs:{span:4}},[e._v("承办银行")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.accModel.bankName)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("冻结金额")]),a("a-col",{attrs:{span:8}},[e._v(" "+e._s(e._f("getAmount")(e.accModel.balanceFrozen))+" 元 ")]),a("a-col",{attrs:{span:4}},[e._v("是否参与结息")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.settleFlag_dictText)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("账户状态")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.accState_dictText)+"\n                  ")])],1)],1)],1):e._e(),e.model.accState&&"9"!=e.model.accState?a("a-collapse",{attrs:{id:"trdlog",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"3",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 交易明细 ")])])]},proxy:!0}],null,!1,794429336)},[a("vxe-grid",{ref:"tradeGridRef",attrs:{columns:e.TradeColumns,data:e.TradeData,"print-config":{modes:["current","selected","all"]},"max-height":"300","auto-resize":"","show-overflow":"",resizable:"",border:""},scopedSlots:e._u([{key:"toLoanSign",fn:function(e,t){var o=e.row;return["1"==o.loanFlag?a("a-badge",{attrs:{color:"orange",text:"收入"}}):a("a-badge",{attrs:{color:"#8bcc00",text:"支出"}})]}}],null,!1,2168846219)})],1)],1):e._e(),a("a-collapse",{attrs:{id:"uploadFile",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"4",attrs:{forceRender:""},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 附件信息 ")])])]},proxy:!0}],null,!1,1920165211)},[a("type-attachment-upload",{ref:"fileupload",attrs:{"z-index":e.zIndex+1,isShowHeader:!1,busiType:"70",busiTypeDetail:"7003",busiNo:e.model.id,isDetail:!0},on:{change:e.getFileList}})],1)],1)]},proxy:!0}],null,!1,4009178325)})],1)],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleCancel}},[a("a-icon",{attrs:{type:"close-circle"}}),e._v("关闭")],1)],1)],2):a("div",{ref:"corpInfoDrawer"},[a("template",{slot:"title"},[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v(e._s(e.title))]),a("span",{staticStyle:{display:"inline-block",width:"calc(100% - 51px)","padding-right":"10px","text-align":"right"}},[a("a-button",{staticStyle:{height:"20px",width:"20px",border:"0"},attrs:{icon:"appstore"},on:{click:e.toggleScreen}})],1)])]),a("a-tabs",{on:{change:e.checkModeler}},[a("a-tab-pane",{key:"baseInfo",attrs:{tab:"基本信息"}}),a("a-tab-pane",{key:"accountInfo",attrs:{tab:"收款账户信息"}}),a("a-tab-pane",{key:"uploadFile",attrs:{tab:"附件信息"}}),e.model.revokeReason?a("a-tab-pane",{key:"revokeReason",attrs:{tab:"撤销原因"}}):e._e()],1),a("div",{staticClass:"scroll",staticStyle:{width:"100%","overflow-y":"auto",height:"80vh"}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("j-form-container",{attrs:{disabled:"",border:!1},scopedSlots:e._u([{key:"edit",fn:function(){return[a("a-collapse",{attrs:{id:"baseInfo",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 基本信息 ")])])]},proxy:!0}])},[a("a-row",{staticClass:"maintainInfo",attrs:{type:"flex"}},[a("a-col",{attrs:{span:4}},[e._v("单位类型")]),a("a-col",{attrs:{span:8}},[a("j-d-dict-select-tag",{attrs:{dictCode:"corp_type",disabled:!0},model:{value:e.model.baseType,callback:function(t){e.$set(e.model,"baseType",t)},expression:"model.baseType"}})],1),a("a-col",{attrs:{span:4}},[e._v("单位名称")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.name)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("单位编号")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.code)+"\n                  ")]),"12"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("所属办事处")]):e._e(),"12"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.officeName)+"\n                  ")]):e._e(),"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("所属单位")]):e._e(),"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.orgName)+"\n                  ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("单位地址")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.address}})],1),a("a-col",{attrs:{span:4}},[e._v("成立日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.foundDate)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("法人代表")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargeName)+"\n                  ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("统一社会信用代码")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.license)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("营业执照有效期")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.validDate1)+"\n                  ")]):e._e(),"03"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("维修范围")]):e._e(),"03"==e.model.baseType?a("a-col",{attrs:{span:20}},[e.model.fstbuScopeData&&e.model.fstbuScopeData.length>0?a("scope-maintenance",{attrs:{disabled:"",scopeData:e.model.fstbuScopeData}}):[e._v(e._s(e.model.fstbuScopeName))]],2):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("第几届")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.whichSession)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("到届日期")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.arrivalDate)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("业委会/社区主任")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargeName)+"\n                  ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("主任手机号")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.chargePhone)+"\n                  ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("联系人")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.linkMan)+"\n                  ")]),a("a-col",{attrs:{span:4}},[e._v("联系电话")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.phone)+"\n                  ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("企业网址")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.website}})],1):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("邮箱")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{disabled:"",value:e.model.email}})],1):e._e(),a("a-col",{attrs:{span:4}},[e._v("申请日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                    "+e._s(e.model.createTime)+"\n                  ")])],1)],1)],1),a("a-collapse",{attrs:{id:"accountInfo",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"2",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 收款账户信息 ")])])]},proxy:!0}])},[a("account-info-modal",{ref:"accountInfo",attrs:{showTitle:!1,disabled:!0}})],1)],1),a("a-collapse",{attrs:{id:"uploadFile",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"4",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 附件信息 ")])])]},proxy:!0}])},[a("type-attachment-upload",{ref:"fileupload",attrs:{isShowHeader:!1,busiType:"70",busiTypeDetail:"7003",busiNo:e.model.id,isDetail:!0},on:{change:e.getFileList}})],1)],1),e.model.revokeReason?a("a-collapse",{attrs:{id:"revokeReason",expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"2",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 撤销原因 ")])])]},proxy:!0}],null,!1,524397212)},[a("a-row",{staticClass:"maintainInfo"},[a("a-col",{attrs:{span:4}},[e._v("撤销原因")]),a("a-col",{attrs:{span:20}},[e._v("\n                    "+e._s(e.model.revokeReason)+"\n                  ")])],1)],1)],1):e._e()]},proxy:!0}])})],1)],1)],2)],1)},l=[],n=a("9fbd"),r=a("4bf9"),s=a("bd73"),i=a("eccd"),c=a("3130"),d={name:"RCorpInfoDetail",components:{ScopeMaintenance:c["default"],TypeAttachmentUpload:n["default"],AccountInfoModal:r["default"],JDDictSelectTag:i["default"]},mixins:[s["CorpInfoDetail"]]},u=d,p=(a("5174"),a("2877")),f=Object(p["a"])(u,o,l,!1,null,"7b90c3f4",null);t["default"]=f.exports},"79de":function(e,t,a){"use strict";a("922a")},"7a13":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("div",{staticClass:"container"},[a("a-tabs",{key:e.queryTime,staticClass:"tabsContent",model:{value:e.tabActiveKey,callback:function(t){e.tabActiveKey=t},expression:"tabActiveKey"}},e._l(e.trdDateList,(function(t,o){return a("a-tab-pane",{key:o,attrs:{tab:t.trdDate+"（余额："+(t.balance||"0.00")+"元）"}},[a("div",{staticClass:"tableDiv"},[a("v-table",{ref:"table",refInFor:!0,attrs:{"row-config":{height:120},toolbar:!1,bordered:"",stripe:!0,"table-height":"auto",expand:!1,"show-pagination":!1,"header-align":"center",ifInitQuery:!0,data:function(){return e.loadData(t)},tableColumn:e.columns},scopedSlots:e._u([{key:"loanFlag",fn:function(t){var o=t.row;return[1===o.loanFlag?a("span",[e._v("收入")]):e._e(),2===o.loanFlag?a("span",[e._v("支出")]):e._e()]}},{key:"action",fn:function(t){t.rowIndex;var o=t.row;t.$rowIndex;return[[a("a",{attrs:{disabled:"0"==o.state},on:{click:function(t){return e.keepAccounts(o)}}},[e._v("记账")]),"true"==o.impactFlag?a("a-divider",{attrs:{type:"vertical"}}):e._e(),"0011"==o.busiTypeDetail?a("a",{on:{click:function(t){return e.print(o)}}},[e._v("打印")]):e._e(),"0011"==o.busiTypeDetail?a("a-divider",{attrs:{type:"vertical"}}):e._e(),"true"==o.impactFlag?a("a",{attrs:{disabled:"0"!=o.state},on:{click:function(t){return e.reversal(o)}}},[e._v("冲正")]):e._e()]]}},{key:"busiTypeDetail",fn:function(t){var o=t.text;return["0011"===o?a("span",[e._v("预收款收入")]):"505Z"===o?a("span",[e._v("预收款划分")]):"6066"===o?a("span",[e._v("预收款转账")]):"1017"===o?a("span",[e._v("预收退款")]):e._e()]}}],null,!0)})],1)])})),1),[a("j-modal",{attrs:{switchFullscreen:!0,title:"冲正",top:8,"body-style":{padding:0},visible:e.visible,width:"1450px"},on:{cancel:e.handleCancel}},[a("template",{slot:"footer"},[a("div",{staticStyle:{"text-align":"center"}},[a("a-button",{on:{click:e.handleCancel}},[a("a-icon",{attrs:{type:"close-circle"}}),e._v("\n                取消\n              ")],1)],1)]),a("impact-business-single",{ref:"impact",on:{checkSuccess:e.queryPage}})],2)],a("advances-deal-modal",{ref:"advanceDeposit",attrs:{regionId:e.regionId,"selected-rows":e.dealRows},on:{ok:e.queryPage}}),a("print-report-comp",{ref:"print"})],2)])},l=[],n=a("0a5e"),r=a("0fea"),s=a("c1df"),i=a.n(s),c=a("c188"),d=a("4a10"),u=a("3ed7"),p=a("9bed");function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return(t=v(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e){var t=y(e,"string");return"symbol"==f(t)?t:t+""}function y(e,t){if("object"!=f(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=f(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var g={name:"AdvancesDepositDetails",mixins:[n["a"]],components:{ImpactBusinessSingle:c["default"],AdvancesDealModal:d["default"],PrintReportComp:p["default"]},props:{regionId:String,disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{dealRows:[],visible:!1,model:{},confirmLoading:!1,tabActiveKey:0,queryTime:(new Date).getTime(),columns:[{title:"房屋位置",align:"center",headerAlign:"center",minWidth:"200px",field:"address"},{title:"业务类型",align:"center",headerAlign:"center",field:"busiTypeDetail",width:180,slot:!0},{title:"业务编号",align:"center",width:180,field:"busiNo"},{title:"业主姓名",align:"center",width:150,field:"psnName"},{title:"收支标识",align:"center",width:80,field:"loanFlag",slot:!0},{title:"发生额(元)",align:"right",width:100,formatter:"amount",field:"amount"},{title:"记账日期",align:"center",width:150,field:"trdDate",formatter:function(e){var t=e.cellValue;return t?i()(t).format("YYYY-MM-DD"):""}},{title:"备注",align:"center",width:100,field:"remark"},{title:"操作",field:"action",align:"center",width:150,fixed:"right",slot:!0}],trdDateList:[],url:{list:"/account/trdlog/queryAdvanceDetailByRegionCode"}}},methods:{showByBusiNo:function(e){this.model.regionCode=e,this.initData()},initData:function(){var e=this;this.confirmLoading=!0,Object(r["e"])(this.url.list,Object.assign({regionCode:this.model.regionCode})).then((function(t){e.trdDateList=t.result.map((function(e){return h(h({},e),{},{trdDate:i()(e.trdDate).format("YYYY-MM-DD"),balance:Object(u["g"])(e.balance)})})),e.queryTime=(new Date).getTime()})).finally((function(){e.confirmLoading=!1}))},loadData:function(e){var t=e.refundDealDetailVOList;return new Promise((function(e){e(t)}))},handleCancel:function(){this.visible=!1,this.initData()},keepAccounts:function(e){var t=this;this.$refs.advanceDeposit.visible=!0,this.$nextTick((function(){t.$refs.advanceDeposit.queryBusiDealDateList()})),this.dealRows=[e]},print:function(e){this.$refs.print.type="print",this.$refs.print.print("advance_deposit_certificate",{busiNo:e.busiNo})},reversal:function(e){var t=this;this.visible=!0,this.$nextTick((function(){t.$refs.impact.$refs.impactRef.trade.busiNo=e.busiNo,t.$refs.impact.$refs.impactRef.bankCodeChange()}))}}},_=g,w=(a("d982"),a("1834"),a("2877")),C=Object(w["a"])(_,o,l,!1,null,"6c93243c",null);t["default"]=C.exports},"7ac1":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",{ref:"form",attrs:{model:e.model,rules:e.validatorRules}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"sysOrgCode",label:"主管单位"}},[a("a-input",{attrs:{placeholder:"请输入主管单位"},model:{value:e.model.sysOrgCode,callback:function(t){e.$set(e.model,"sysOrgCode",t)},expression:"model.sysOrgCode"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"accCode",label:"账号 关联售房款账号"}},[a("a-input",{attrs:{placeholder:"请输入账号 关联售房款账号"},model:{value:e.model.accCode,callback:function(t){e.$set(e.model,"accCode",t)},expression:"model.accCode"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"trdCode",label:"交易代码"}},[a("a-input",{attrs:{placeholder:"请输入交易代码"},model:{value:e.model.trdCode,callback:function(t){e.$set(e.model,"trdCode",t)},expression:"model.trdCode"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"loanFlag",label:"收支标识 1_收入 2_支出"}},[a("a-input",{attrs:{placeholder:"请输入收支标识 1_收入 2_支出"},model:{value:e.model.loanFlag,callback:function(t){e.$set(e.model,"loanFlag",t)},expression:"model.loanFlag"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"trdDate",label:"记账日期 记账接口日期"}},[a("a-input",{attrs:{placeholder:"请输入记账日期 记账接口日期"},model:{value:e.model.trdDate,callback:function(t){e.$set(e.model,"trdDate",t)},expression:"model.trdDate"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"amount",label:"发生额"}},[a("a-input",{attrs:{placeholder:"请输入发生额"},model:{value:e.model.amount,callback:function(t){e.$set(e.model,"amount",t)},expression:"model.amount"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"busiNo",label:"业务编号"}},[a("a-input",{attrs:{placeholder:"请输入业务编号"},model:{value:e.model.busiNo,callback:function(t){e.$set(e.model,"busiNo",t)},expression:"model.busiNo"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"busiType",label:"业务类别"}},[a("a-input",{attrs:{placeholder:"请输入业务类别"},model:{value:e.model.busiType,callback:function(t){e.$set(e.model,"busiType",t)},expression:"model.busiType"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"busiTypeDetail",label:"业务明细类别"}},[a("a-input",{attrs:{placeholder:"请输入业务明细类别"},model:{value:e.model.busiTypeDetail,callback:function(t){e.$set(e.model,"busiTypeDetail",t)},expression:"model.busiTypeDetail"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"describe",label:"业务描述"}},[a("a-input",{attrs:{placeholder:"请输入业务描述"},model:{value:e.model.describe,callback:function(t){e.$set(e.model,"describe",t)},expression:"model.describe"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"state",label:"状态 2_待审核 0_完成 4_待撤销 5_已撤销"}},[a("a-input",{attrs:{placeholder:"请输入状态 2_待审核 0_完成 4_待撤销 5_已撤销"},model:{value:e.model.state,callback:function(t){e.$set(e.model,"state",t)},expression:"model.state"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"flowId",label:"工作流KEY"}},[a("a-input",{attrs:{placeholder:"请输入工作流KEY"},model:{value:e.model.flowId,callback:function(t){e.$set(e.model,"flowId",t)},expression:"model.flowId"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"step",label:"当前处理步骤"}},[a("a-input",{attrs:{placeholder:"请输入当前处理步骤"},model:{value:e.model.step,callback:function(t){e.$set(e.model,"step",t)},expression:"model.step"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"hisFlag",label:"历史数据标志"}},[a("a-input",{attrs:{placeholder:"请输入历史数据标志"},model:{value:e.model.hisFlag,callback:function(t){e.$set(e.model,"hisFlag",t)},expression:"model.hisFlag"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"delFlag",label:"0_正常(默认)1_已删除"}},[a("a-input",{attrs:{placeholder:"请输入0_正常(默认)1_已删除"},model:{value:e.model.delFlag,callback:function(t){e.$set(e.model,"delFlag",t)},expression:"model.delFlag"}})],1),a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"remark",label:"remark"}},[a("a-input",{attrs:{placeholder:"请输入remark"},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1)],1)},l=[],n=a("0fea"),r=(a("c1df"),{name:"ASaleTrdlogModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{},url:{add:"/base/aSaleTrdlog/add",edit:"/base/aSaleTrdlog/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){this.model=Object.assign({},e),this.visible=!0},close:function(){this.$emit("close"),this.visible=!1,this.$refs.form.clearValidate()},handleOk:function(){var e=this,t=this;this.$refs.form.validate((function(a){if(!a)return!1;t.confirmLoading=!0;var o="",l="";e.model.id?(o+=e.url.edit,l="put"):(o+=e.url.add,l="post"),Object(n["i"])(o,e.model,l).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}))},handleCancel:function(){this.close()}}}),s=r,i=a("2877"),c=Object(i["a"])(s,o,l,!1,null,"159fd985",null);t["default"]=c.exports},"7b3c":function(e,t,a){"use strict";a("24fb")},"7db6":function(e,t,a){},"7de8":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("j-modal",{attrs:{title:"单元变更",width:1200,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭",okText:"确认变更"},on:{ok:e.toChange,cancel:e.close}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n              变更信息\n            ")])])]},proxy:!0}])},[e.showComp?a("cell-base-info-comp",{ref:"baseInfoComp",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,disabled:!1,"change-disabled":!0},on:{update:e.updateModel}}):e._e()],1)],1),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n              变更信息\n            ")])])]},proxy:!0}])},[a("a-form-model",{ref:"form",attrs:{model:e.model,rules:e.validatorRules}},[a("a-row",{staticClass:"houseInfo changeInfo",attrs:{type:"flex"}},[a("a-col",{attrs:{span:4}},[e.disabled?e._e():a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更原因")]),a("a-col",{attrs:{span:20}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeReason",label:"变更原因"}},[a("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:3},rows:3,placeholder:"请输入变更原因",maxLength:150},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"505A"},on:{change:e.getFileList}})],1),e.checkSign?[e.showComp?a("cell-base-info-comp",{ref:"baseInfoComp",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,disabled:!0},on:{update:e.updateModel}}):e._e(),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n              变更信息\n            ")])])]},proxy:!0}],null,!1,4118247784)},[a("j-form-container",{attrs:{disabled:!0}},[a("a-form-model",{ref:"form",attrs:{slot:"edit",model:e.model,rules:e.disabled?[]:e.validatorRules},slot:"edit"},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:4}},[e._v("变更人")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changePerson",label:"变更人"}},[a("a-input",{attrs:{placeholder:"",disabled:e.disabled},model:{value:e.model.changePerson,callback:function(t){e.$set(e.model,"changePerson",t)},expression:"model.changePerson"}})],1)],1),a("a-col",{attrs:{span:4}},[e._v("变更日期")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeTime",label:"变更日期"}},[a("a-input",{attrs:{placeholder:"",disabled:e.disabled},model:{value:e.model.changeTime,callback:function(t){e.$set(e.model,"changeTime",t)},expression:"model.changeTime"}})],1)],1),a("a-col",{staticStyle:{height:"80px"},attrs:{span:4}},[e._v("变更原因")]),a("a-col",{staticStyle:{height:"80px"},attrs:{span:20}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeReason",label:"变更原因"}},[a("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:3},rows:3,placeholder:"请输入变更原因",maxLength:150,disabled:e.disabled},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"505A",busiNo:e.model.reqNo,"is-detail":!0},on:{change:e.getFileList}})]:e._e()],2)},l=[],n=a("716f"),r=a("0fea"),s=a("9fbd"),i={name:"CellInfoChangeModal",components:{CellBaseInfoComp:n["default"],TypeAttachmentUpload:s["default"]},data:function(){return{disabled:!1,visible:!1,model:{},labelCol:{span:0},wrapperCol:{span:24},confirmLoading:!1,validatorRules:{name:[{required:!0,message:"请输入名称!"}],code:[{required:!0,message:"请输入编码"}],overFloor:[{required:!0,message:"请输入地上楼层数"}],overPerFloor:[{required:!0,message:"请输入地上每层户数"}],underFloor:[{required:!0,message:"请输入地下楼层数"}],underPerFloor:[{required:!0,message:"请输入地下每层户数"}],changeReason:[{required:!0,message:"请填写变更原因"},{max:150,message:"变更原因长度不能超过50位！"}]},url:{toChange:"/base/rCellInfo/toChange"},activeKey:["1"],fileIdList:[],checkSign:!1,showComp:!1}},methods:{getFileList:function(e){if(this.fileIdList=[],e){var t=this;e.forEach((function(e){t.fileIdList.push(e.id)}))}},updateModel:function(e){this.model=e},close:function(){this.$emit("close"),this.checkSign=!1,this.$refs.baseInfoComp.visibleCheck=!1,this.visible=!1},change:function(e){var t=this;this.showComp=!1,this.model=Object.assign({},e),this.showComp=!0,this.$nextTick((function(){t.$refs.fileupload.initData()})),this.visible=!0},check:function(e){var t=this;this.checkSign=!0,this.showComp=!1,this.model=Object.assign({},e),this.showComp=!0,this.$nextTick((function(){t.$refs.fileupload.initData()}))},toChange:function(){var e=this,t=this;this.$refs.baseInfoComp.$refs.form.validate((function(a){if(a){if(!e.$refs.fileupload.checkData())return!1;e.$refs.form.validate((function(a){a&&(t.confirmLoading=!0,e.model.fileIdList=e.fileIdList,Object(r["j"])(e.url.toChange,e.model).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()})))}))}}))}}},c=i,d=(a("2f7a"),a("2877")),u=Object(d["a"])(c,o,l,!1,null,"4465f5d9",null);t["default"]=u.exports},"800b":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:e.title,visible:e.visible,confirmLoading:e.confirmLoading,width:e.modelWidth,"body-style":{paddingTop:"0"},switchFullscreen:""},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[a("div",{staticStyle:{"text-align":"center"}},[e.isShowFiles?a("a-button",{staticStyle:{"margin-right":"0.8rem"},attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.submitForm}},[a("i",{staticClass:"el-icon-finished"}),e._v("变更")]):a("a-button",{staticStyle:{"margin-right":"0.8rem"},attrs:{type:"primary"},on:{click:e.submitForm}},[a("i",{staticClass:"el-icon-finished"}),e._v("备案")]),a("a-button",{on:{click:e.handleCancel}},[a("i",{staticClass:"el-icon-circle-close"}),e._v("关闭")])],1)]},proxy:!0}])},[a("a-spin",{staticStyle:{padding:"0 0 10px"},attrs:{spinning:e.confirmLoading}},[a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"单位信息"}},[a("j-form-container",{attrs:{border:!1}},[a("a-row",{ref:"formCorpRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{attrs:{span:4}},[e._v("单位名称")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.corpName)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("单位类型")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.corpType_dictText)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("单位地址")]),a("a-col",{attrs:{span:20}},[e._v("\n              "+e._s(e.model.address)+"\n            ")])],1)],1)],1)],1),a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:e.model.tabName}},[a("j-form-container",{ref:"form",attrs:{border:!1,rules:e.validatorRules,model:e.model,formRef:"formRow"}},[a("a-row",{ref:"formAccRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("收款账号")]),a("a-col",{attrs:{span:8,"data-prop":"code"}},[a("a-input",{attrs:{placeholder:"请输入收款账号"},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}})],1),a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("开户银行")]),a("a-col",{attrs:{span:8,"data-prop":"bankName"}},[a("a-input",{attrs:{placeholder:"请输入开户银行"},model:{value:e.model.bankName,callback:function(t){e.$set(e.model,"bankName",t)},expression:"model.bankName"}})],1),a("a-col",{attrs:{span:4}},[e._v("账户名称")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.corpName)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("收款联系人")]),a("a-col",{attrs:{span:8,"data-prop":"linkName"}},[a("a-input",{attrs:{placeholder:"请输入收款联系人"},model:{value:e.model.linkName,callback:function(t){e.$set(e.model,"linkName",t)},expression:"model.linkName"}})],1),a("a-col",{attrs:{span:4}},[e._v("收款联系人电话")]),a("a-col",{attrs:{span:8,"data-prop":"phone"}},[a("a-input",{attrs:{placeholder:"请输入收款联系人电话"},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}})],1)],1)],1)],1)],1),e.isShowFiles?a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"变更信息"}},[a("j-form-container",{ref:"formReason",attrs:{border:!1,rules:e.rulesReson,model:e.model}},[a("a-row",{ref:"formReasonRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{staticClass:"height-108",attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("变更原因")]),a("a-col",{staticClass:"height-108",attrs:{span:20,"data-prop":"reason"}},[a("a-textarea",{staticClass:"height-108",attrs:{placeholder:"请输入变更原因"},model:{value:e.model.reason,callback:function(t){e.$set(e.model,"reason",t)},expression:"model.reason"}})],1)],1)],1)],1)],1):e._e(),e.isShowFiles?e._e():a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"附件"}},[a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:e.model.code&&e.model.code.length>0?"50":"70",busiTypeDetail:e.model.code&&e.model.code.length>0?"505d":"7004",busiNo:e.model.code},on:{fileTypeIsNull:e.fileTypeIsNull,change:e.getFileList}})],1)],1)],1),a("change-col-acc-business-comp",{ref:"cabc",on:{changeData:function(t){return e.changeData(t)}}})],1)},l=[],n=a("9fbd"),r=a("bbdb"),s=a("3dcf"),i={name:"ColAccInfoModal",components:{TypeAttachmentUpload:n["default"],ChangeColAccBusinessComp:s["default"]},mixins:[r["ColAccInfoModal"]],props:{disabled:{type:Boolean,default:!1,required:!1}}},c=i,d=(a("ef87"),a("2877")),u=Object(d["a"])(c,o,l,!1,null,"2e867970",null);t["default"]=u.exports},8094:function(e,t,a){"use strict";a("46dcf")},"80e6":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{staticStyle:{height:"50%",overflow:"auto"},attrs:{title:e.title,width:"60%",visible:e.visible,switchFullscreen:"",okButtonProps:{props:{icon:"check"}},cancelButtonProps:{props:{icon:"close"}}},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("j-form-container",{ref:"form",attrs:{border:!1,rules:e.validatorRules,model:e.model,formRef:"formRow",disabled:e.disabled}},[a("a-row",{ref:"formRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex",gutter:16},slot:"detail"},[a("a-col",{attrs:{span:4}},[e.required?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v("售房款账号")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{placeholder:e.model.code,disabled:""},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}})],1),a("a-col",{attrs:{span:4}},[e.required?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v("单位名称")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{placeholder:e.model.baseCorpName,disabled:""},model:{value:e.model.baseCorpName,callback:function(t){e.$set(e.model,"baseCorpName",t)},expression:"model.baseCorpName"}})],1),a("a-col",{attrs:{span:4}},[e.required?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v("承办银行名称")]),a("a-col",{attrs:{span:8}},[a("a-input",{attrs:{placeholder:e.model.bankName,disabled:""},model:{value:e.model.bankName,callback:function(t){e.$set(e.model,"bankName",t)},expression:"model.bankName"}})],1),a("a-col",{attrs:{span:4}},[a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v("发生额")]),a("a-col",{attrs:{span:8,"data-prop":"amount"}},[a("a-input",{attrs:{placeholder:"请输入发生额"},model:{value:e.model.amount,callback:function(t){e.$set(e.model,"amount",t)},expression:"model.amount"}})],1),a("a-col",{attrs:{span:4}},[e._v("业务描述")]),a("a-col",{attrs:{span:8}},[a("a-textarea",{attrs:{placeholder:"请输入业务描述","auto-size":{minRows:2,maxRows:6}},model:{value:e.model.describe,callback:function(t){e.$set(e.model,"describe",t)},expression:"model.describe"}})],1),a("a-col",{attrs:{span:4}},[e._v("备注")]),a("a-col",{attrs:{span:8}},[a("a-textarea",{attrs:{placeholder:"请输入备注","auto-size":{minRows:2,maxRows:6}},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1)],1)},l=[],n=a("f7b1"),r={name:"AccSaleInfoExtract",mixins:[n["AccSaleInfoExtract"]]},s=r,i=(a("41f1"),a("2877")),c=Object(i["a"])(s,o,l,!1,null,"807b2c92",null);t["default"]=c.exports},"81fe":function(e,t,a){"use strict";a("6858f")},"8b1f":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticClass:"main",attrs:{"body-style":{height:"100%",padding:"10px"},bordered:!1}},[a("div",{staticClass:"floorViews"},[a("div",{staticClass:"wrap-right",style:e.tjShow?"":"width:100%;max-width:unset"},[a("div",{staticClass:"right-top"},[0===e.num?[a("house-view",{ref:"storeHouseView",attrs:{buildId:e.buildChangeValue,optionalAccState:e.getOptionalAccState,queryParam:e.queryParam,depositType:e.depositType},scopedSlots:e._u([{key:"listBtn-left",fn:function(){return[a("div",{staticClass:"top-float"},[a("div",{staticClass:"top-switch"},[a("a-button",{class:{active:0===e.num},staticStyle:{"border-radius":"5px 0 0 5px"},on:{click:function(t){return e.tabShow(0)}}},[e._v("视图模式\n                  ")]),a("a-button",{class:{active:1===e.num},staticStyle:{"border-radius":"0 5px 5px 0"},on:{click:function(t){return e.tabShow(1)}}},[e._v("列表模式\n                  ")])],1)])]},proxy:!0}],null,!1,1990854957)})]:e._e(),1===e.num?a("div",{staticStyle:{height:"100%"}},[a("house-table",{ref:"houseta",attrs:{optionalAccState:e.getOptionalAccState,buildId:e.buildChangeValue,keyValue:e.keyValue},scopedSlots:e._u([{key:"tableAction",fn:function(){return[a("div",{staticClass:"top-switch"},[a("a-button",{staticClass:"viewTab",class:{active:0===e.num},staticStyle:{"border-radius":"5px 0 0 5px"},on:{click:function(t){return e.tabShow(0)}}},[e._v("视图模式\n                ")]),a("a-button",{staticClass:"viewTab",class:{active:1===e.num},staticStyle:{"border-radius":"0 5px 5px 0"},on:{click:function(t){return e.tabShow(1)}}},[e._v("列表模式\n                ")])],1)]},proxy:!0}],null,!1,2981269981)})],1):e._e()],2)])])])},l=[],n=a("78ac"),r=a("9980"),s=a("eccd"),i=a("c14d"),c={name:"",props:{regionName:{type:String,default:""},bldRegionId:{type:String,default:""},depositType:{type:String,default:""}},components:{HouseView:i["default"],JModal:n["default"],HouseTable:r["default"],JDDictSelectTag:s["default"]},created:function(){this.initData()},mounted:function(){document.querySelector(".mainDiv").style.height="calc(100% - 58px)"},computed:{formItemLayout:function(){return{labelCol:{span:4},wrapperCol:{span:14}}}},provide:function(){return{projMainData:function(){}}},data:function(){return{labelCol:{span:4},wrapperCol:{span:4},queryParam:{},list:[{id:1,value:"javascript"}],num:0,keyValue:"",tierSp:!1,visible:!1,tjShow:!1,leftShow:!1,naturalShow:!1,formInline:{address:"万象新天北二区",floor:"1",mode:void 0,name:"2号楼",number:"102",HouseUse:void 0,unit:"1",HouseArea:"98.28",HouseNature:void 0},rules:{address:[{required:!0,message:"不能为空",trigger:"blur"}],mode:[{required:!0,message:"不能为空",trigger:"blur"}],name:[{required:!0,message:"不能为空",trigger:"change"}],number:[{required:!0,message:"不能为空",trigger:"change"}],unit:[{required:!0,message:"不能为空",trigger:"change"}],HouseNature:[{required:!0,message:"不能为空",trigger:"blur"}]},rules1:{user:[{required:!0,message:"不能为空",trigger:"blur"}],type:[{required:!0,message:"不能为空",trigger:"blur"}],price:[{required:!0,message:"不能为空",trigger:"blur"}],tel:[{required:!0,message:"不能为空",trigger:"blur"}],Number:[{required:!0,message:"不能为空",trigger:"blur"}]},buildArr:[],buildChangeValue:""}},methods:{getOptionalAccState:function(e){return!["9"].includes(e.accState)},initData:function(){this.buildChangeValue=this.bldRegionId,this.handleBuildChange(this.buildChangeValue)},handleBuildChange:function(e){var t=this;this.naturalShow=!0,this.$nextTick((function(){t.$refs.storeHouseView.loadData(e)}))},listShow:function(){this.leftShow=!this.leftShow},clickNaturalShow:function(){this.naturalShow=!this.naturalShow},ShowHide:function(){this.tjShow=!this.tjShow},tabShow:function(e){var t=this;0===e?(this.num=0,this.$nextTick((function(){t.$refs.storeHouseView.loadData(t.buildChangeValue)}))):this.num=1},handleChange:function(e){},houseChange:function(e){},getSelectedRows:function(){return this.$refs.houseta?this.$refs.houseta.selectedRows:this.$refs.storeHouseView?this.$refs.storeHouseView.houseChecks:{}}}},d=c,u=(a("9a53"),a("098e"),a("2877")),p=Object(u["a"])(d,o,l,!1,null,"0aa044c0",null);t["default"]=p.exports},"8db4":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{staticClass:"height-100",attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,"destroy-on-close":!0,visible:e.visible,"body-style":{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px"}},on:{close:e.handleCancel}},[a("a-spin",{ref:"spinRef",attrs:{spinning:e.confirmLoading}},[a("corp-base-info-comp",{ref:"baseInfoComp",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,disabled:!1,fstbuScopeValue:e.fstbuScopeValue},on:{update:e.updateModel,changeName:e.changeName,"upload-file":e.uploadFileCall,"del-file":e.delFileCall}}),a("account-info-modal",{ref:"accountInfo"}),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"70",busiTypeDetail:"7003",busiNo:e.model.id},on:{change:e.getFileList}})],1),a("div",{staticClass:"drawer-bootom-button",staticStyle:{"text-align":"center"}},[e.disableSubmit?e._e():a("a-button",{staticStyle:{"margin-right":".8rem"},attrs:{icon:"check-circle",loading:e.confirmLoading},on:{click:e.temporarySave}},[e._v("暂存")]),e.disableSubmit?e._e():a("a-button",{attrs:{type:"primary",icon:"check-circle",loading:e.confirmLoading},on:{click:e.submitRecord}},[e._v("提交备案")])],1)],1)},l=[],n=a("9fbd"),r=a("53c1"),s=a("f932"),i=a("4bf9"),c={name:"CorpInfoModal",components:{TypeAttachmentUpload:n["default"],CorpBaseInfoComp:s["default"],AccountInfoModal:i["default"]},mixins:[r["CorpInfoModal"]],props:{disabled:{type:Boolean,default:!1,required:!1}},provide:function(){var e=this;return{getContainer:function(){return e.$refs.spinRef.$el}}}},d=c,u=(a("0251"),a("2877")),p=Object(u["a"])(d,o,l,!1,null,"41956d40",null);t["default"]=p.exports},"907a":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{title:e.title,width:e.drawerWidth,visible:e.visible,okButtonProps:{props:{icon:"check",loading:e.confirmLoading}},cancelButtonProps:{props:{icon:"close"}}},on:{ok:function(t){return e.handleSubmit("添加单位用户信息"!==e.title)},cancel:e.handleCancel}},[a("template",{slot:"title"},[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v(e._s(e.title))]),a("span",{staticStyle:{display:"inline-block",width:"calc(100% - 51px)","padding-right":"10px","text-align":"right"}},[a("a-button",{staticStyle:{height:"20px",width:"20px",border:"0px"},attrs:{icon:"appstore"},on:{click:e.toggleScreen}})],1)])]),a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",{ref:"form",attrs:{model:e.model,rules:e.validatorRules}},[a("a-row",{staticClass:"houseInfo",attrs:{type:"flex"}},[a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("用户账号")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticClass:"width-350",attrs:{wrapperCol:e.wrapperCol,prop:"username"}},[a("a-input",{attrs:{autocomplete:"off",name:"text",placeholder:"请输入用户账号",readOnly:!!e.model.id},on:{change:function(t){return e.inputChangeValida("username",t)}},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1)],1),e.isShowToken?e._e():[e.model.id?e._e():a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("密码")]),e.model.id?e._e():a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticClass:"width-350",attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"password"}},[a("a-input-password",{attrs:{type:"password",placeholder:"请输入密码",autocomplete:"new-password"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1)],1)],a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("机构角色")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticClass:"width-350",attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"selectedroles"}},[a("j-multi-select-tag",{attrs:{options:e.rolesOptions,placeholder:"请选择角色"},model:{value:e.model.selectedroles,callback:function(t){e.$set(e.model,"selectedroles",t)},expression:"model.selectedroles"}})],1)],1),a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("管辖部门")]),a("a-col",{attrs:{span:18}},[a("a-tree-select",{staticStyle:{width:"380px"},attrs:{allowClear:"","show-search":!0,filterTreeNode:e.filter,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.sysOrgTreeData,placeholder:"请选择管辖部门"},model:{value:e.model.sysOrgCode,callback:function(t){e.$set(e.model,"sysOrgCode",t)},expression:"model.sysOrgCode"}})],1),e.isShowToken?[a("a-col",{attrs:{span:6}},[e._v("令牌号")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticClass:"width-350",attrs:{label:"联系人",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"clientId"}},[a("a-select",{staticClass:"width-350",staticStyle:{width:"380px"},attrs:{placeholder:"请输入令牌号",allowClear:!0},model:{value:e.model.clientId,callback:function(t){e.$set(e.model,"clientId",t)},expression:"model.clientId"}},e._l(e.tokenNoList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.tokenNo}},[e._v("\n                  "+e._s(t.tokenNo)+"\n                ")])})),1)],1)],1)]:e._e(),a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("用户姓名")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticClass:"width-350",attrs:{label:"用户姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"realname"}},[a("a-input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.model.realname,callback:function(t){e.$set(e.model,"realname",t)},expression:"model.realname"}})],1)],1),a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("联系电话")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticClass:"width-350",attrs:{wrapperCol:e.wrapperCol,prop:"phone"}},[a("a-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}})],1)],1),a("a-col",{attrs:{span:6}},[e._v("邮箱")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticClass:"width-350",attrs:{wrapperCol:e.wrapperCol,prop:"email"}},[a("a-input",{attrs:{placeholder:"请输入邮箱"},on:{change:function(t){return e.inputChangeValida("email",t)}},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1)],1),e.newUnitUserAuthLetterUploadReq?[a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("单位用户授权委托书")]),a("a-col",{attrs:{span:18}},[a("my-upload-file",{ref:"uploadFileRef",attrs:{"z-index":1300,isDetail:"添加单位用户信息"!==e.title},on:{change:e.uploadUserInfo}})],1)]:e._e()],2)],1)],1)],2)],1)},l=[],n=a("26c0"),r=a("8ef0"),s={name:"CorpUserModal",components:{MyUploadFile:r["default"]},mixins:[n["CorpUserModal"]],data:function(){return{uploadVisible:!1}},methods:{filter:function(e,t){return t.data.props.title.includes(e)},uploadUserInfo:function(){}}},i=s,c=(a("23ef"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"2dcd033a",null);t["default"]=d.exports},9162:function(e,t,a){"use strict";a("e390")},"91efb":function(e,t,a){},"922a":function(e,t,a){},"933d":function(e,t,a){"use strict";a("394b")},"93ee":function(e,t,a){"use strict";a("d633")},"94b3":function(e,t,a){},9564:function(e,t,a){},9836:function(e,t,a){"use strict";a("f94c")},"98bd":function(e,t,a){"use strict";a("f2a1")},9978:function(e,t,a){"use strict";a("a865")},9980:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticClass:"mainCard",attrs:{bordered:!1,"body-style":{padding:0}}},[a("div",{staticClass:"cardBody"},[a("m-e-s-super-query",{attrs:{fieldList:e.queryObj,saveCode:e.fileName,type:e.showType},on:{ok:e.handleSuperQuery}}),a("div",{staticClass:"tableBox"},[a("v-table",{ref:"table",attrs:{"row-config":{height:120},toolbar:!0,bordered:"",stripe:!0,checkbox:!0,"table-height":"auto",selectChangeEvent:e.selectChangeEvent,"select-all-event":e.selectAllEvent,expand:!1,data:e.loadTableData,tableColumn:e.columns,"checkbox-config":e.checkboxConfig},scopedSlots:e._u([{key:"buttons",fn:function(){return[a("a-space",[e._t("tableAction")],2)]},proxy:!0},{key:"action",fn:function(t){var o=t.row;return[a("a",{on:{click:function(t){return e.handleOwnerInfo(o)}}},[a("a-icon",{attrs:{type:"file-text"}}),e._v("查看")],1)]}}],null,!0)})],1)],1),a("hou-owner-info-modal",{ref:"infoModal",on:{ok:e.modalFormOk}})],1)},l=[],n=(a("6eb7"),a("0fea")),r=a("0a5e"),s=a("6fa9"),i=a("3ed7"),c=a("2b0e"),d=a("1618"),u=a("2b2c"),p={name:"HouseTable",mixins:[r["a"],u["a"]],props:{buildId:{type:String,default:""},keyValue:{type:String,default:""},optionalAccState:{type:[Array,Function],default:null},chooseFlag:{type:String,default:""}},components:{HouOwnerInfoModal:d["default"],MESSuperQuery:s["default"]},data:function(){var e=this;return{description:"",fileName:"HouseTable",modalTitle:null,modalType:1,modalText:"",revokeTitle:"",visible:!1,visibleRevoke:!1,confirmLoading:!1,recordId:null,revokeReason:null,settingColumns:[],modalFlag:!0,activeKey:"0",loading:!1,selectedKeys:[],selectedRows:[],menuData:[],primaryMenuData:[],searchValue:"",windowHeight:document.documentElement.clientHeight,showType:"queryList",queryObj:[{type:"input",value:"house.address",label:"房屋地址",queryType:"like"},{type:"input",value:"psn.name",label:"业主姓名",queryType:"like"}],columns:[{title:"房屋位置",align:"left",headerAlign:"center",field:"houseName",direction:"rtl"},{title:"建筑面积 (㎡)",align:"right",headerAlign:"center",field:"houseArea",width:120,formatter:function(e){var t=e.cellValue;return Object(i["g"])(t,3)}},{title:"业主姓名",align:"center",field:"householderName",formatter:function(e){var t=e.cellValue;return t&&"null"!==t?t:""},width:200},{title:"房屋用途",align:"center",field:"houseUse_dictText",width:100},{title:"交存模式",align:"center",field:"depMode_dictText",width:100},{title:"账户状态",align:"center",field:"accState_dictText",formatter:function(t){var a=t.row,o=t.cellValue;return e.checkHouseUseSpecial(a.houseUse)?"不交":o},width:100},{title:"操作",field:"action",align:"center",fixed:"right",width:147,slot:!0}],loadTableData:function(t){return Object(n["e"])("/base/accFuTra/queryHouseAccInfoList",Object.assign(t,e.queryParam,{bldId:e.buildId})).then((function(e){return e.result}))},dictOptions:{}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)},rowSelection:function(){var e=this;return{onChange:function(t,a){e.onSelectChange(t,a)},getCheckboxProps:function(e){return{props:{}}}}}},methods:{customRow:function(e,t){var a=this;return{on:{dblclick:function(){a.handleDetail(e)}}}},onColSettingsChange:function(e){var t=this,a=this.$route.name+":colsettings";c["default"].ls.set(a,e,6048e5),this.settingColumns=e;var o=this.defColumns.filter((function(e){return"rowIndex"===e.key||"action"===e.field||!!t.settingColumns.includes(e.field)}));this.columns=o},tabChange:function(e){this.activeKey=e},handleAdd:function(){this.$refs.infoModal.initData(this.buildId)},handleOwnerInfo:function(e){this.$refs.infoModal.loadData(e)},checkboxConfig:function(e){var t=e.row,a=!1;return"0"!==t.accState&&"1"!==t.accState||0!==t.isDoing||(a=!0),a=!this.checkHouseUseSpecial(t.houseUse),this.optionalAccState&&("function"===typeof this.optionalAccState?a=this.optionalAccState(t):this.optionalAccState.includes(t.accState)&&(a=!0)),"all"===this.chooseFlag&&(a=!0),a}},created:function(){}},f=p,m=(a("f713"),a("5975"),a("2877")),h=Object(m["a"])(f,o,l,!1,null,"3f6e71bc",null);t["default"]=h.exports},"9a53":function(e,t,a){"use strict";a("f9f2")},"9f1a":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("j-modal",{attrs:{title:"新增房屋",width:1600,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭",okText:"提交"},on:{ok:e.nextStep,cancel:e.handleCancel}},[a("vxe-grid",{ref:"table",attrs:{border:"",columns:e.bldColumns,data:e.dataSource,height:"auto","auto-resize":"","expand-config":{labelField:"expend",trigger:"row",lazy:!1}},on:{"toggle-row-expand":e.toggleRowExpand},scopedSlots:e._u([{key:"expand",fn:function(e,t){var o=e.row;e.rowIndex,e.$rowIndex,e.column;return[a("HouseListTable",{ref:"houseList"+o.id,attrs:{"keep-source":!0,"is-detail":!1,"cell-info":o}})]}}])})],1)],1)},l=[],n=a("2b0e"),r=a("9fb0"),s=a("bc3a"),i=a.n(s),c=a("0fea"),d=a("a87b");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function(){return t};var e,t={},a=Object.prototype,o=a.hasOwnProperty,l=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function d(e,t,a,o){var n=t&&t.prototype instanceof g?t:g,r=Object.create(n.prototype),s=new N(o||[]);return l(r,"_invoke",{value:L(e,a,s)}),r}function f(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var m="suspendedStart",h="suspendedYield",b="executing",v="completed",y={};function g(){}function _(){}function w(){}var C={};c(C,r,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==a&&o.call(k,r)&&(C=k);var T=w.prototype=g.prototype=Object.create(C);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function a(l,n,r,s){var i=f(e[l],e,n);if("throw"!==i.type){var c=i.arg,d=c.value;return d&&"object"==u(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,r,s)}),(function(e){a("throw",e,r,s)})):t.resolve(d).then((function(e){c.value=e,r(c)}),(function(e){return a("throw",e,r,s)}))}s(i.arg)}var n;l(this,"_invoke",{value:function(e,o){function l(){return new t((function(t,l){a(e,o,t,l)}))}return n=n?n.then(l,l):l()}})}function L(t,a,o){var l=m;return function(n,r){if(l===b)throw Error("Generator is already running");if(l===v){if("throw"===n)throw r;return{value:e,done:!0}}for(o.method=n,o.arg=r;;){var s=o.delegate;if(s){var i=D(s,o);if(i){if(i===y)continue;return i}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(l===m)throw l=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l=b;var c=f(t,a,o);if("normal"===c.type){if(l=o.done?v:h,c.arg===y)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(l=v,o.method="throw",o.arg=c.arg)}}}function D(t,a){var o=a.method,l=t.iterator[o];if(l===e)return a.delegate=null,"throw"===o&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+o+"' method")),y;var n=f(l,t.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,y;var r=n.arg;return r?r.done?(a[t.resultName]=r.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,y):r:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,y)}function $(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}function A(t){if(t||""===t){var a=t[r];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var l=-1,n=function a(){for(;++l<t.length;)if(o.call(t,l))return a.value=t[l],a.done=!1,a;return a.value=e,a.done=!0,a};return n.next=n}}throw new TypeError(u(t)+" is not iterable")}return _.prototype=w,l(T,"constructor",{value:w,configurable:!0}),l(w,"constructor",{value:_,configurable:!0}),_.displayName=c(w,i,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,i,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,a,o,l,n){void 0===n&&(n=Promise);var r=new I(d(e,a,o,l),n);return t.isGeneratorFunction(a)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},S(T),c(T,i,"Generator"),c(T,r,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var o in t)a.push(o);return a.reverse(),function e(){for(;a.length;){var o=a.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var a in this)"t"===a.charAt(0)&&o.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function l(o,l){return s.type="throw",s.arg=t,a.next=o,l&&(a.method="next",a.arg=e),!!l}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],s=r.completion;if("root"===r.tryLoc)return l("end");if(r.tryLoc<=this.prev){var i=o.call(r,"catchLoc"),c=o.call(r,"finallyLoc");if(i&&c){if(this.prev<r.catchLoc)return l(r.catchLoc,!0);if(this.prev<r.finallyLoc)return l(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return l(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return l(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc<=this.prev&&o.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var n=l;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=e,r.arg=t,n?(this.method="next",this.next=n.finallyLoc,y):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),F(a),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var o=a.completion;if("throw"===o.type){var l=o.arg;F(a)}return l}}throw Error("illegal catch attempt")},delegateYield:function(t,a,o){return this.delegate={iterator:A(t),resultName:a,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function f(e,t,a,o,l,n,r){try{var s=e[n](r),i=s.value}catch(e){return void a(e)}s.done?t(i):Promise.resolve(i).then(o,l)}function m(e){return function(){var t=this,a=arguments;return new Promise((function(o,l){var n=e.apply(t,a);function r(e){f(n,o,l,r,s,"next",e)}function s(e){f(n,o,l,r,s,"throw",e)}r(void 0)}))}}var h={name:"HouseInfoAddModal",components:{HouseListTable:d["default"]},data:function(){return{visible:!1,confirmLoading:!1,dataSource:[],bldColumns:[{title:"",type:"expand",width:60,slots:{content:"expand"}},{title:"单元名称",field:"name"},{title:"单元位置",field:"address"}],url:{initHouseByCell:"/base/rHouseInfo/initHouseByCell",saveHouseBatch:"/base/rHouseInfo/saveHouseBatch",saveHouseBatchAndApply:"/base/rHouseInfo/saveHouseBatchAndApply",queryById:"/base/rCellInfo/queryById",addCellToCheck:"/base/rCellInfo/addCellToCheck",deleteCell:"/base/rCellInfo/delete"},cellInfo:{},sign:""}},methods:{initData:function(e){this.sign="cell",this.visible=!0,this.cellInfo=e,this.loadHouse()},add:function(e){var t=this;this.sign="house",this.visible=!0,Object(c["e"])(this.url.queryById,{id:e}).then((function(e){t.cellInfo=e.result,t.loadHouse()}))},loadHouse:function(){var e=this;Object(c["j"])(this.url.initHouseByCell,this.cellInfo).then((function(t){t.success?(t.result&&t.result.length>0&&t.result.forEach((function(t){var a=[],o=[];if(t.houseInfoList&&t.houseInfoList.length>0&&(a=t.houseInfoList.filter((function(e){return Number(e.floorNo)>0})),o=t.houseInfoList.filter((function(e){return Number(e.floorNo)<0})),a.sort((function(e,t){return e.code-t.code})),t.houseInfoList=a.concat(o),"house"==e.sign)){var l=JSON.parse(JSON.stringify(t.houseInfoList[t.houseInfoList.length-1]));if(l.id&&delete l.id,l.psnInfoList&&(l.psnInfoList=[]),l.name){var n=Number(l.name.replace("室",""));if(isNaN(n)){if(l.floorNo<0&&isNaN(n)){var r=l.address.split("层")[0]+"层",s=l.name.replace("室","").split("-");s[1]++,l.name=s[0]+"-"+s[1]+"室";var i=l.code;i++,l.code=i+"",l.address=r+l.name}}else{var c=l.address.split("层")[0]+"层";n>0?n++:n--,l.name=n+"室";var d=l.code;d++,l.code=d+"",l.address=c+l.name}l.name="",l.code="",l.floorNo="",l.address=""}delete l._XID,t.houseInfoList=[l]}})),e.dataSource=t.result):e.dataSource=null,e.$nextTick((function(){e.$refs.table.setAllRowExpand(!0),e.toggleRowExpand({expanded:!0,row:e.dataSource[0]})}))}))},handleCancel:function(){var e=this;"cell"==this.sign?this.$confirm({title:"提示",content:"是否取消创建房屋，新建单元将被同步删除",onOk:function(){Object(c["a"])(e.url.deleteCell,{id:e.cellInfo.id}),e.close()}}):this.close()},close:function(){this.$emit("ok"),this.$emit("loadtree"),this.confirmLoading=!1,this.visible=!1},nextStep:function(){var e=this;if(!this.checkData())return!1;this.confirmLoading=!0;var t=this,a=0,o=!1;this.$refs.table.setAllRowExpand(!0).then((function(){for(var l=function(l){t.toggleRowExpand({expanded:!0,row:t.dataSource[l]}),t.$nextTick(m(p().mark((function n(){return p().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs["houseList"+t.dataSource[l].id].validaTable().then().catch((function(e){return o=!0,l-1>=0&&t.$refs["houseList"+t.dataSource[l-1].id].$refs.houseInfoRef.clearValidate(),e})).finally((function(){a++,a===e.dataSource.length&&(e.confirmLoading=!1,o?e.$message.warning("请将内容输入完整"):Object(c["e"])("/base/rCellInfo/queryById",{id:e.cellInfo.id}).then((function(t){e.cellInfo=t.result,e.postTableData()})))}));case 2:case"end":return n.stop()}}),n)}))))},n=0;n<t.dataSource.length;n++)l(n)})).catch((function(e){return e}))},postTableData:function(){var e=this;this.dataSource.forEach((function(t){t.houseInfoList.forEach((function(t){t.state=e.cellInfo.state}))})),this.confirmLoading=!0;var t=n["default"].ls.get(r["C"]),a={headers:{"X-Access-Token":n["default"].ls.get("Access-Token"),"tenant-id":t,sourceName:n["default"].ls.get("SOURCE_NAME"),redisIndex:n["default"].ls.get("REDIS_INDEX")},timeout:9e5},o="cell"==this.sign?this.url.saveHouseBatch:this.url.saveHouseBatchAndApply;i.a.post(window._CONFIG["domianURL"]+o,this.dataSource,a).then(function(){var t=m(p().mark((function t(a){return p().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.data||!a.data.success){t.next=8;break}if("cell"!=e.sign){t.next=4;break}return t.next=4,Object(c["j"])(e.url.addCellToCheck,e.cellInfo);case 4:e.$message.success(a.data.message),e.close(),t.next=9;break;case 8:e.$message.warning(a.data.message);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){e.confirmLoading=!1}))},checkData:function(){for(var e=!0,t=this.dataSource.length,a=0;a<t;a++){if(this.dataSource[a]&&this.dataSource[a].houseInfoList&&0===this.dataSource[a].houseInfoList.length)return this.$message.warning("请维护业主信息中第"+this.dataSource[a].name+"的房屋信息"),!1;for(var o=this.dataSource[a].houseInfoList,l=0;l<o.length;l++)if(o[l]&&(!o[l].struArea||Number(o[l].struArea)<=0))return this.$message.warning("请正确填写"+o[l].address+"的建筑面积"),!1}return e},toggleRowExpand:function(e){var t=this,a=e.expanded,o=e.row;a&&this.$nextTick((function(){t.$refs["houseList"+o.id].loadTableData(o.houseInfoList).then((function(){t.$refs.table.recalculate(!0)}))}))}}},b=h,v=(a("1a65"),a("2877")),y=Object(v["a"])(b,o,l,!1,null,"70e512d2",null);t["default"]=y.exports},"9f85":function(e,t,a){"use strict";a("91efb")},"9f90":function(e,t,a){},a54b:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BldInfoPage"},[a("a-breadcrumb",{staticClass:"bldInfoPageHeader"},[a("a-breadcrumb-item",[a("a",{on:{click:e.cancelModal}},[e._v(e._s(e.regionName))])]),a("a-breadcrumb-item",[e._v(e._s(e.getBreadcrumbName()))])],1),a("div",{staticClass:"BldInfoPageContent",staticStyle:{height:"calc(100% - 41px)"}},[a("a-steps",{style:{padding:"0 24px"},attrs:{current:e.current}},e._l(e.steps,(function(t){return a("a-step",{key:t.value,class:{stepClick:e.isEdit||e.editCurrent.has(t.value-1)},attrs:{title:t.title},on:{click:function(a){return a.stopPropagation(),e.stepClick(t)}}})})),1),a("div",{staticClass:"stepContent"},["1"===e.pageNum?[a("div",{staticClass:"businessCom"},[a("div",{staticClass:"businessCom_table"},[a("a-form-model",{ref:"form",attrs:{colon:!1,model:e.model,rules:e.validatorRules}},[a("a-row",{staticClass:"bldInfoPageFormRow"},[e.isDistrict?[a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"districtId",label:"小区分区"}},[a("a-select",{attrs:{placeholder:"请选择小区分区"},on:{change:e.districtIdChooseFun},model:{value:e.model.districtId,callback:function(t){e.$set(e.model,"districtId",t)},expression:"model.districtId"}},e._l(e.districtList,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.name}},[e._v("\n                            "+e._s(t.name)+"\n                          ")])])})),1)],1)],1)]:e._e(),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"name",label:"自然幢名称"}},[a("a-input",{attrs:{placeholder:"请输入自然幢名称"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"address",label:"自然幢位置"}},[a("a-input",{attrs:{placeholder:"请输入自然幢位置"},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"bldType",label:"自然幢类型"}},[a("a-select",{attrs:{placeholder:"请选择自然幢类型"},on:{change:e.onbldTypeChange},model:{value:e.model.bldType,callback:function(t){e.$set(e.model,"bldType",t)},expression:"model.bldType"}},[a("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.bldTypeOptions,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.value}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n                          "+e._s(t.text||t.label)+"\n                        ")])])}))],2)],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"有无电梯"}},[a("a-switch",{attrs:{checkedChildren:"有",unCheckedChildren:"无",disabled:!e.liftSelect},on:{change:e.onLiftFlagChange},model:{value:e.visibleCheck,callback:function(t){e.visibleCheck=t},expression:"visibleCheck"}})],1)],1),e.showBank?a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"bankCode",label:"承办银行"}},[a("j-dict-bank-list-select",{attrs:{"show-icon":"",placeholder:"请选择承办银行"},model:{value:e.model.bankCode,callback:function(t){e.$set(e.model,"bankCode",t)},expression:"model.bankCode"}})],1)],1):e._e(),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"houseAttr",label:"房屋性质"}},[a("a-select",{attrs:{placeholder:"请选择房屋性质"},model:{value:e.model.houseAttr,callback:function(t){e.$set(e.model,"houseAttr",t)},expression:"model.houseAttr"}},[a("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.houseAttrOptions,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.value}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n                          "+e._s(t.text||t.label)+"\n                        ")])])}))],2)],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"attr",label:"结构属性"}},[a("a-select",{attrs:{placeholder:"请选择结构属性"},model:{value:e.model.attr,callback:function(t){e.$set(e.model,"attr",t)},expression:"model.attr"}},[a("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.attrOptions,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.value}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n                          "+e._s(t.text||t.label)+"\n                        ")])])}))],2)],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"overFloor",label:"地上楼层数"}},[a("a-input-number",{staticClass:"width100",attrs:{min:0,precision:0},on:{blur:e.changeBldType},model:{value:e.model.overFloor,callback:function(t){e.$set(e.model,"overFloor",t)},expression:"model.overFloor"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"underFloor",label:"地下楼层数"}},[a("a-input-number",{staticClass:"width100",attrs:{min:0,precision:0},model:{value:e.model.underFloor,callback:function(t){e.$set(e.model,"underFloor",t)},expression:"model.underFloor"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"nextNodeNum",label:"单元数"}},[a("a-input-number",{staticClass:"width100",attrs:{min:0,precision:0},model:{value:e.model.nextNodeNum,callback:function(t){e.$set(e.model,"nextNodeNum",t)},expression:"model.nextNodeNum"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"buildDate",label:"开工日期"}},[a("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择开工日期","max-date":e.model.finishDate,showTime:!1,dateFormat:"YYYY-MM-DD"},model:{value:e.model.buildDate,callback:function(t){e.$set(e.model,"buildDate",t)},expression:"model.buildDate"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"finishDate",label:"竣工日期"}},[a("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择竣工日期","min-date":e.model.buildDate,"max-date":e.model.deliverDate,showTime:!1,dateFormat:"YYYY-MM-DD"},model:{value:e.model.finishDate,callback:function(t){e.$set(e.model,"finishDate",t)},expression:"model.finishDate"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"deliverDate",label:"交付日期"}},[a("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择交付日期","min-date":e.model.finishDate,showTime:!1,dateFormat:"YYYY-MM-DD"},model:{value:e.model.deliverDate,callback:function(t){e.$set(e.model,"deliverDate",t)},expression:"model.deliverDate"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"sortType",label:"房屋名称规则"}},[a("a-select",{attrs:{placeholder:"请选择房屋名称规则",disabled:e.sortTypeDisable},model:{value:e.model.sortType,callback:function(t){e.$set(e.model,"sortType",t)},expression:"model.sortType"}},e._l(e.sortTypeOptions,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.value}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n                          "+e._s(t.text||t.label)+"\n                        ")])])})),1)],1)],1),e.isAdmin?e._e():a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"depMode",label:"房屋交存模式"}},[a("j-d-dict-select-tag",{attrs:{"read-only-span":!e.EntUserBldgDepositModeMaint,placeholder:"请选择房屋交存模式","dict-code":"dep_mode"},model:{value:e.model.depMode,callback:function(t){e.$set(e.model,"depMode",t)},expression:"model.depMode"}})],1)],1),"09"==e.model.houseAttr?a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"publicCode",label:"公房单位"}},[a("a-select",{attrs:{placeholder:"请选择公房单位"},model:{value:e.model.publicCode,callback:function(t){e.$set(e.model,"publicCode",t)},expression:"model.publicCode"}},e._l(e.publicList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.code}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.name}},[e._v("\n                          "+e._s(t.name)+"\n                        ")])])})),1)],1)],1):e._e(),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"developCode",label:"开发单位"}},[a("a-select",{attrs:{placeholder:"请选择开发单位"},model:{value:e.model.developCode,callback:function(t){e.$set(e.model,"developCode",t)},expression:"model.developCode"}},e._l(e.developList,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.code}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.name}},[e._v("\n                          "+e._s(t.name)+"\n                        ")])])})),1)],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"environCode",label:"物业单位"}},[a("j-select-corp",{attrs:{placeholder:"请选择物业服务企业",baseType:"02",multi:!1,readOnly:""},model:{value:e.model.environCode,callback:function(t){e.$set(e.model,"environCode",t)},expression:"model.environCode"}})],1)],1),a("a-col",{attrs:{xxl:6,xl:8,span:12}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"ownersCode",label:"业委会"}},[a("j-select-corp",{attrs:{placeholder:"请选择业委会",baseType:"11",multi:!1,readOnly:""},model:{value:e.model.ownersCode,callback:function(t){e.$set(e.model,"ownersCode",t)},expression:"model.ownersCode"}})],1)],1)],2)],1),a("a-space",{staticClass:"buttonGroup"},[e.propExtractFuncFlag?a("a-button",{attrs:{type:"primary"},on:{click:e.openEquityWithdrawModel}},[e._v("产权提取")]):e._e(),e.createEmpBld?a("a-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.saveBldInfo()}}},[e._v("完成")]):e._e(),a("a-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.goBack()}}},[e._v("上一步")]),a("a-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.handleOk()}}},[e._v("下一步")])],1)],1)])]:e._e(),"2"===e.pageNum?[a("a-spin",{staticClass:"comSpinLoading",attrs:{spinning:e.comLoading,tip:"页面加载中，请稍后..."}},[a(e.comPage,{ref:"editModal",tag:"component",staticClass:"pageCom",attrs:{zoneCodes:e.zoneCodes,business:e.selectedRows},on:{cancelModal:e.cancelModal,bankList:e.pageChange,previousStep:e.previousStep,nextStep:e.nextStep,stopLoading:e.stopLoading}})],1)]:e._e()],2)],1),a("vxe-modal",{attrs:{"z-index":1e3,title:"产权提取",width:"80%","min-width":1300,height:"80vh"},on:{close:e.close},model:{value:e.showEquity,callback:function(t){e.showEquity=t},expression:"showEquity"}},[a("equity-withdraw",{ref:"equityWithdraw",staticStyle:{height:"100%"},attrs:{regionName:e.regionName,regionId:e.regionId},on:{ok:e.cancelModal}})],1)],1)},l=[],n=a("eccd"),r=a("9b33"),s=a("0a5e"),i=a("78ac"),c=a("ac0d"),d=a("3af7"),u=a("25ea"),p=a("c0f9"),f=a("6c08"),m=a("3269"),h=a("9a5d"),b={name:"BldInfoPage",components:{JDDictSelectTag:n["default"],JDictBankListSelect:m["default"],CellInfoModal:u["default"],VTable:d["default"],JModal:i["default"],HouseInfoModal:p["default"],BldInfoArchives:f["default"],EquityWithdraw:h["default"]},mixins:[c["a"],c["b"],s["a"],r["BldInfoModal"]],data:function(){return{labelCol:{xxl:7,xl:8,span:6},wrapperCol:{xxl:17,xl:16,span:18}}}},v=b,y=(a("8094"),a("2877")),g=Object(y["a"])(v,o,l,!1,null,"1ca3fc84",null);t["default"]=g.exports},a6ba:function(e,t,a){"use strict";a("5773")},a851:function(e,t,a){},a865:function(e,t,a){},a87b:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"houseListTable"},[a("j-modal",{staticClass:"modelFont",attrs:{width:"14"==e.isWidth?1e3:1050,zIndex:e.zIndex,visible:e.showReplace,footer:null,title:"字符替换"},on:{cancel:e.replaceCancel}},[a("div",[a("span",[e._v("房屋名称替换: 需要替换的字符: ")]),a("a-input",{staticStyle:{width:"300px","margin-left":"8px"},model:{value:e.replaceNameStr,callback:function(t){e.replaceNameStr=t},expression:"replaceNameStr"}}),a("span",{staticStyle:{"margin-left":"8px"}},[e._v("替换值: ")]),a("a-input",{staticStyle:{width:"300px","margin-left":"8px"},model:{value:e.replaceNamePre,callback:function(t){e.replaceNamePre=t},expression:"replaceNamePre"}}),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"check",title:"确定"},on:{click:e.replaceNameR}})],1),a("div",{staticStyle:{"margin-top":"8px"}},[a("span",[e._v("房屋位置替换: 需要替换的字符: ")]),a("a-input",{staticStyle:{width:"300px","margin-left":"8px"},model:{value:e.replaceAddressStr,callback:function(t){e.replaceAddressStr=t},expression:"replaceAddressStr"}}),a("span",{staticStyle:{"margin-left":"8px"}},[e._v("替换值: ")]),a("a-input",{staticStyle:{width:"300px","margin-left":"8px"},model:{value:e.replaceAddressPre,callback:function(t){e.replaceAddressPre=t},expression:"replaceAddressPre"}}),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"check",title:"确定"},on:{click:e.replaceAddress}})],1)]),a("vxe-grid",{ref:"houseInfoRef",attrs:{columns:e.columns,"keep-source":e.keepSource,"checkbox-config":{showHeader:!1},"edit-config":{trigger:e.infoDetail?"manual":"dblclick",mode:"cell",showIcon:!e.infoDetail,autoClear:!1},"valid-config":{autoPos:!0},"edit-rules":e.infoDetail?null:e.isAdd?e.addEditRules:e.editRules,toolbar:{zoom:!1},"keyboard-config":e.isAdd?void 0:{isArrow:!0,isDel:!0,isTab:!0,isEdit:!0},"mouse-config":{selected:!0},data:e.houseInfoList,"max-height":"500px","show-overflow":"","auto-resize":"",border:"","cell-style":{height:e.isAdd?"44px":"34px","line-height":e.isAdd?"34px":"24px"},"row-style":e.rowStyle},on:{"valid-error":e.validError},scopedSlots:e._u([{key:"buttons",fn:function(){return[!e.infoDetail||e.isProcess&&e.isAdmin&&"do"===e.operate?a("a-button",{attrs:{icon:"file",type:"primary"},on:{click:e.initInfoBatch}},[e._v("信息初始化 ")]):e._e(),e.infoDetail?e._e():a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{icon:"colum-height",type:"primary"},on:{click:e.replaceText}},[e._v("字符替换 ")]),e._t("extraBtn"),e.infoDetail||e.isAdd?e._e():a("span",{staticStyle:{"margin-left":"8px",color:"red"}},[e._v("请使用空格键或双击编辑房屋信息")])]},proxy:!0},{key:"checkboxHeader",fn:function(t,o){t.column,t.columnIndex,t.$columnIndex,t._columnIndex,t.$rowIndex;return[a("a-space",[a("a-checkbox",{on:{change:e.chooseAll}})],1)]}},{key:"actionHeader",fn:function(t,o){var l=t.column,n=t.columnIndex,r=t.$columnIndex,s=t._columnIndex,i=t.$rowIndex;return[e.infoDetail?e._e():a("a-space",[a("i",{staticClass:"vxe-icon--plus",on:{click:function(t){return e.addHouseInfo({column:l,columnIndex:n,$columnIndex:r,_columnIndex:s,$rowIndex:i})}}}),a("i",{staticClass:"vxe-icon--minus",on:{click:function(t){return e.removeHouseInfo()}}})])]}},{key:"actionDefault",fn:function(t){var o=t.row,l=(t.column,t.$rowIndex);return[a("a",{on:{click:function(t){return e.handleOwnerInfo(o,l)}}},[a("a-icon",{attrs:{type:"usergroup-add",title:"业主信息"}})],1)]}},{key:"unit",fn:function(t){var o=t.row;return[a("a-select",{staticClass:"width-100",on:{change:function(t){return e.cellChoose(t,o)}},model:{value:o.pid,callback:function(t){e.$set(o,"pid",t)},expression:"row.pid"}},e._l(e.cellList,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.name))])})),1)]}},{key:"name",fn:function(t){var o=t.row;return[a("a-input",{staticStyle:{margin:"-5px 0"},on:{change:function(t){return e.changeAddress(t,o)}},model:{value:o.name,callback:function(t){e.$set(o,"name",t)},expression:"row.name"}})]}},{key:"floorNo",fn:function(t){var o=t.row;return[a("a-input",{staticStyle:{margin:"-5px 0"},on:{change:function(t){return e.changeByFloorNo(t,o)}},model:{value:o.floorNo,callback:function(t){e.$set(o,"floorNo",t)},expression:"row.floorNo"}})]}},{key:"code",fn:function(t){var o=t.row;return[a("a-input-number",{staticStyle:{margin:"-5px 0"},on:{change:function(t){return e.changeCode(t,o)}},model:{value:o.code,callback:function(t){e.$set(o,"code",t)},expression:"row.code"}})]}},{key:"depMode",fn:function(t){var o=t.row;return[a("j-d-dict-select-tag",{attrs:{dictCode:"dep_mode",size:"small","read-only-span":!(e.isProcess&&e.isAdmin&&"do"===e.operate),placeholder:"请选择交存模式"},model:{value:o.depMode,callback:function(t){e.$set(o,"depMode",t)},expression:"row.depMode"}})]}},{key:"depModeEdit",fn:function(t){var o=t.row;return[a("j-d-dict-select-tag",{staticClass:"width100",attrs:{dictCode:"dep_mode",size:"small","read-only-span":e.infoDetail||!e.isAdmin&&!e.EntUserBldgDepositModeMaint,dropdownMatchSelectWidth:!1,placeholder:"请选择交存模式"},model:{value:o.depMode,callback:function(t){e.$set(o,"depMode",t)},expression:"row.depMode"}})]}}],null,!0)}),a("j-modal",{attrs:{width:1e3,zIndex:e.zIndex,visible:e.visible,cancelText:"关闭",okText:"确认"},on:{ok:e.initInfoCallback,cancel:e.initInfoCancel},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n      房屋信息初始化 "),a("span",{staticClass:"message"},[e._v("字段设为空值时，不会对相应数据进行初始化")])]},proxy:!0}])},[a("a-form-model",{ref:"form",attrs:{model:e.model}},[a("a-row",{staticClass:"houseInfo"},[e.isProcess&&"do"===e.operate?[a("a-col",{attrs:{span:4}},[e._v("交存模式")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:e.isAdmin||e.EntUserBldgDepositModeMaint?"depMode":"",label:"交存模式"}},[a("j-d-dict-select-tag",{attrs:{dictCode:"dep_mode","read-only-span":!e.isAdmin&&!e.EntUserBldgDepositModeMaint,placeholder:"请选择交存模式"},model:{value:e.model.depMode,callback:function(t){e.$set(e.model,"depMode",t)},expression:"model.depMode"}})],1)],1)]:[a("a-col",{attrs:{span:4}},[e._v("起止楼层")]),a("a-col",{attrs:{span:20}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},label:"起止楼层"}},[a("div",{staticClass:"startStopFloor"},[a("amount-input",{attrs:{"format-due":"04","addon-after":"层"},model:{value:e.model.startFloor,callback:function(t){e.$set(e.model,"startFloor",t)},expression:"model.startFloor"}}),a("span",[e._v(" ~ ")]),a("amount-input",{attrs:{"format-due":"04","addon-after":"层"},model:{value:e.model.endFloor,callback:function(t){e.$set(e.model,"endFloor",t)},expression:"model.endFloor"}})],1)])],1),a("a-col",{attrs:{span:4}},[e._v("房屋性质")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"houseAttr",label:"房屋性质"}},[a("j-d-dict-select-tag",{attrs:{placeholder:"请选择房屋性质",dictCode:"house_attr"},model:{value:e.model.houseAttr,callback:function(t){e.$set(e.model,"houseAttr",t)},expression:"model.houseAttr"}})],1)],1),a("a-col",{attrs:{span:4}},[e._v("房屋用途")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"houseUse",label:"房屋用途"}},[a("j-d-dict-select-tag",{attrs:{placeholder:"请选择房屋用途",dictCode:"house_use"},model:{value:e.model.houseUse,callback:function(t){e.$set(e.model,"houseUse",t)},expression:"model.houseUse"}})],1)],1),a("a-col",{attrs:{span:4}},[e._v("有无电梯")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"liftFlag",label:"有无电梯"}},[a("j-d-dict-select-tag",{attrs:{placeholder:"请选择有无电梯",dictCode:"is_have_elevator"},model:{value:e.model.liftFlag,callback:function(t){e.$set(e.model,"liftFlag",t)},expression:"model.liftFlag"}})],1)],1),e.isAdmin||e.EntUserBldgDepositModeMaint?[a("a-col",{attrs:{span:4}},[e._v("交存模式")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:e.isAdmin||e.EntUserBldgDepositModeMaint&&!e.isAdmin?"depMode":"",label:"交存模式"}},[a("j-d-dict-select-tag",{attrs:{dictCode:"dep_mode","read-only-span":!e.isAdmin&&!e.EntUserBldgDepositModeMaint,placeholder:"请选择交存模式"},model:{value:e.model.depMode,callback:function(t){e.$set(e.model,"depMode",t)},expression:"model.depMode"}})],1)],1)]:[a("a-col",{attrs:{span:4}}),a("a-col",{attrs:{span:8}})],"{}"==JSON.stringify(e.cellInfo)?[a("a-col",{attrs:{span:4}},[e._v("建筑面积")]),a("a-col",{attrs:{span:8}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"struArea",label:"建筑面积"}},[a("amount-input",{attrs:{formatDue:"05",placeholder:"请输入建筑面积","addon-after":"m²"},model:{value:e.model.struArea,callback:function(t){e.$set(e.model,"struArea",t)},expression:"model.struArea"}})],1)],1)]:[e._l(e.maxHouseNum,(function(t){return[a("a-col",{key:"label"+t,attrs:{span:4}},[e._v("第"+e._s(t)+"室建筑面积")]),a("a-col",{key:"value"+t,attrs:{span:8}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"struArea"+t}},[a("amount-input",{attrs:{placeholder:"请输入"+t+"室建筑面积","addon-after":"m²","format-due":"05"},model:{value:e.model["struArea"+t],callback:function(a){e.$set(e.model,"struArea"+t,a)},expression:"model['struArea' + inx]"}})],1)],1)]}))]]],2)],1)],1),a("j-modal",e._b({attrs:{title:"业主信息维护",width:1200,visible:e.ownerVisible,zIndex:e.zIndex,cancelText:"关闭",okText:"确认"},on:{cancel:e.ownerInfoCancel}},"j-modal",e.bindAttr,!1),[a("template",{slot:"footer"},[a("a-button",{attrs:{icon:"close-circle"},on:{click:e.ownerInfoCancel}},[e._v("取消")]),e.isDetail||e.infoDetail?e._e():a("a-button",{attrs:{icon:"check",type:"primary"},on:{click:e.ownerInfoCallback}},[e._v("确认")])],1),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 合同信息 ")])])]},proxy:!0}])},[a("j-form-container",{ref:"form",attrs:{border:!1,model:e.certInfo,formRef:"formRow"}},[a("a-row",{staticClass:"houseInfo",attrs:{slot:"edit",type:"flex"},slot:"edit"},[a("a-col",{attrs:{span:4}},[e._v("购房日期")]),a("a-col",{attrs:{span:4}},[a("j-date",{attrs:{placeholder:"请选择购房日期",getCalendarContainer:e.getParentContainer,disabled:e.isDetail||e.infoDetail},model:{value:e.certInfo.buyDate,callback:function(t){e.$set(e.certInfo,"buyDate",t)},expression:"certInfo.buyDate"}})],1),a("a-col",{attrs:{span:4}},[e._v("房屋售价")]),a("a-col",{attrs:{span:4}},[a("amount-input",{attrs:{placeholder:"请输入房屋售价",disabled:e.isDetail||e.infoDetail,minusFlag:!1},model:{value:e.certInfo.totalPrice,callback:function(t){e.$set(e.certInfo,"totalPrice",t)},expression:"certInfo.totalPrice"}})],1),a("a-col",{attrs:{span:4}},[e._v("合同编号")]),a("a-col",{attrs:{span:4}},[a("a-input",{attrs:{placeholder:"请输入合同编号",disabled:e.isDetail||e.infoDetail},model:{value:e.certInfo.contNo,callback:function(t){e.$set(e.certInfo,"contNo",t)},expression:"certInfo.contNo"}})],1)],1)],1)],1)],1),a("owner-batch-comp",{ref:"ownerBatchComp",attrs:{list:e.selectedOwnerList,disabled:e.isDetail||e.infoDetail}})],2)],1)},l=[],n=a("d8a5"),r=a("eccd"),s=a("c9f1"),i=a("4aae"),c=a("917b"),d=a("2b0e"),u=a("9fb0"),p=a("0fea");function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e){return v(e)||b(e)||g(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e){if(Array.isArray(e))return _(e)}function y(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=g(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw n}}}}function g(e,t){if(e){if("string"==typeof e)return _(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=Array(t);a<t;a++)o[a]=e[a];return o}function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return t};var e,t={},a=Object.prototype,o=a.hasOwnProperty,l=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function d(e,t,a,o){var n=t&&t.prototype instanceof y?t:y,r=Object.create(n.prototype),s=new N(o||[]);return l(r,"_invoke",{value:L(e,a,s)}),r}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",m="suspendedYield",h="executing",b="completed",v={};function y(){}function g(){}function _(){}var C={};c(C,r,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==a&&o.call(k,r)&&(C=k);var T=_.prototype=y.prototype=Object.create(C);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function a(l,n,r,s){var i=u(e[l],e,n);if("throw"!==i.type){var c=i.arg,d=c.value;return d&&"object"==f(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,r,s)}),(function(e){a("throw",e,r,s)})):t.resolve(d).then((function(e){c.value=e,r(c)}),(function(e){return a("throw",e,r,s)}))}s(i.arg)}var n;l(this,"_invoke",{value:function(e,o){function l(){return new t((function(t,l){a(e,o,t,l)}))}return n=n?n.then(l,l):l()}})}function L(t,a,o){var l=p;return function(n,r){if(l===h)throw Error("Generator is already running");if(l===b){if("throw"===n)throw r;return{value:e,done:!0}}for(o.method=n,o.arg=r;;){var s=o.delegate;if(s){var i=D(s,o);if(i){if(i===v)continue;return i}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(l===p)throw l=b,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l=h;var c=u(t,a,o);if("normal"===c.type){if(l=o.done?b:m,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(l=b,o.method="throw",o.arg=c.arg)}}}function D(t,a){var o=a.method,l=t.iterator[o];if(l===e)return a.delegate=null,"throw"===o&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var n=u(l,t.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,v;var r=n.arg;return r?r.done?(a[t.resultName]=r.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,v):r:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,v)}function $(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}function A(t){if(t||""===t){var a=t[r];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var l=-1,n=function a(){for(;++l<t.length;)if(o.call(t,l))return a.value=t[l],a.done=!1,a;return a.value=e,a.done=!0,a};return n.next=n}}throw new TypeError(f(t)+" is not iterable")}return g.prototype=_,l(T,"constructor",{value:_,configurable:!0}),l(_,"constructor",{value:g,configurable:!0}),g.displayName=c(_,i,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,i,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,a,o,l,n){void 0===n&&(n=Promise);var r=new I(d(e,a,o,l),n);return t.isGeneratorFunction(a)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},S(T),c(T,i,"Generator"),c(T,r,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var o in t)a.push(o);return a.reverse(),function e(){for(;a.length;){var o=a.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var a in this)"t"===a.charAt(0)&&o.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function l(o,l){return s.type="throw",s.arg=t,a.next=o,l&&(a.method="next",a.arg=e),!!l}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],s=r.completion;if("root"===r.tryLoc)return l("end");if(r.tryLoc<=this.prev){var i=o.call(r,"catchLoc"),c=o.call(r,"finallyLoc");if(i&&c){if(this.prev<r.catchLoc)return l(r.catchLoc,!0);if(this.prev<r.finallyLoc)return l(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return l(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return l(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc<=this.prev&&o.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var n=l;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=e,r.arg=t,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),F(a),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var o=a.completion;if("throw"===o.type){var l=o.arg;F(a)}return l}}throw Error("illegal catch attempt")},delegateYield:function(t,a,o){return this.delegate={iterator:A(t),resultName:a,nextLoc:o},"next"===this.method&&(this.arg=e),v}},t}function C(e,t,a,o,l,n,r){try{var s=e[n](r),i=s.value}catch(e){return void a(e)}s.done?t(i):Promise.resolve(i).then(o,l)}function x(e){return function(){var t=this,a=arguments;return new Promise((function(o,l){var n=e.apply(t,a);function r(e){C(n,o,l,r,s,"next",e)}function s(e){C(n,o,l,r,s,"throw",e)}r(void 0)}))}}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return(t=I(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function I(e){var t=L(e,"string");return"symbol"==f(t)?t:t+""}function L(e,t){if("object"!=f(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=f(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var D={name:"HouseListTable",mixins:[c["a"]],props:{keepSource:{type:Boolean,default:!1},isDetail:{type:Boolean,default:!1},isProcess:{type:Boolean,default:!1},cellInfo:{type:Object,default:function(){return{}}},infoDetail:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!1},addDefaultRow:{type:[Object,Function],default:void 0},zIndex:{type:Number,default:void 0},bldId:{type:String,default:""},operate:{type:String,default:""}},mounted:function(){$(document).keydown((function(e){32===e.keyCode&&e.preventDefault()}))},computed:{bindAttr:function(){var e=T({zIndex:1e3},this.$attrs);return e}},components:{JDDictSelectTag:r["default"],OwnerBatchComp:s["default"],AmountInput:i["default"]},data:function(){var e=this,t=function(e){var t=e.cellValue;e.row;if(t){var a=/^1(3|4|5|7|8)\d{9}$/,o=/^\d{3}-\d{7,8}|\d{4}-\d{7,8}$/;if(!a.test(t)&&!o.test(t))return Promise.reject(new Error("请输入正确的手机号或座机号"))}},a=function(t){var a=t.cellValue;t.row;return a?e.isAdd&&isNaN(a)?Promise.reject(new Error("请输入数字")):void 0:Promise.reject(new Error("请输入楼层号"))},o=function(t){var a=t.cellValue;t.row;return a?e.isAdd&&isNaN(a)?Promise.reject(new Error("请输入数字")):void 0:Promise.reject(new Error("请输入房间号"))},l={name:[{required:!0,trigger:"blur",message:"请输入房屋名称"}],floorNo:[{required:!0,trigger:"blur",message:"请输入楼层"}],code:[{required:!0,trigger:"blur",message:"请输入房号"}],address:[{required:!0,trigger:"blur",message:"请输入房屋位置"}],struArea:[{required:!0,trigger:"blur",message:"请输入建筑面积"}],houseAttr:[{required:!0,trigger:"blur",message:"请选择房屋性质"}],houseUse:[{required:!0,trigger:"blur",message:"请选择房屋用途"}],depMode:[{required:!0,trigger:"blur",message:"请选择交存模式"}],liftFlag:[{required:!0,trigger:"blur",message:"请选择有无电梯"}],phone:[{validator:t}]},n={pid:[{validator:function(e){var t=e.cellValue;if(!t)return Promise.reject(new Error("请选择所属单元"))}}],floorNo:[{validator:a,trigger:"blur"}],code:[{validator:o,trigger:"blur"}],name:[{validator:function(e){var t=e.cellValue;if(!t)return Promise.reject(new Error("请输入房屋名称"))}}],address:[{validator:function(e){var t=e.cellValue;if(!t)return Promise.reject(new Error("请输入房屋位置"))}}],struArea:[{validator:function(e){var t=e.cellValue;if(!t)return Promise.reject(new Error("请输入建筑面积"))}}],houseAttr:[{validator:function(e){var t=e.cellValue;if(!t)return Promise.reject(new Error("请选择房屋性质"))}}],houseUse:[{validator:function(e){var t=e.cellValue;if(!t)return Promise.reject(new Error("请选择房屋用途"))}}],depMode:[{validator:function(e){var t=e.cellValue;if(!t)return Promise.reject(new Error("请选择交存模式"))}}],liftFlag:[{validator:function(e){var t=e.cellValue;if(void 0===t||""===t||null===t)return Promise.reject(new Error("请选择有无电梯"))}}],phone:[{validator:t}]};return{allBank:[],EntUserBldgDepositModeMaint:!0,depModeInitArea:!1,isAdmin:!1,houseInfoList:[],cellList:[],columns:[{title:"序号",dataIndex:"",key:"rowIndex",width:60,align:"center",type:"seq"},{title:"所属单元",field:"pid",width:120,align:"left",visible:this.isAdd,slots:{edit:"unit"},editRender:{type:this.isAdd?"visible":"default"}},{title:"楼层",align:"center",width:120,field:"floorNo",slots:{edit:"floorNo"},editRender:{type:this.isAdd?"visible":"default",name:"$input",props:{placeholder:"请输入楼层",type:"text"}}},{title:"房号",align:"center",width:120,field:"code",slots:{edit:"code"},editRender:{type:this.isAdd?"visible":"default",name:"$input",props:{placeholder:"请输入房号",type:"number"}}},{title:"房屋名称",align:"center",width:120,field:"name",slots:{edit:"name"},editRender:{type:this.isAdd?"visible":"default",name:"$input",props:{placeholder:"请输入房屋名称",type:"text"}}},{title:"房屋位置",align:"center",minWidth:300,field:"address",editRender:{type:this.isAdd?"visible":"default",name:"$input",props:{placeholder:"请输入房屋位置",type:"text"}}},{title:"房屋性质",align:"center",width:150,field:"houseAttr",editRender:{type:this.isAdd?"visible":"default",name:"$select",props:{placeholder:"请选择房屋性质"},options:[],optionProps:{value:"value",label:"text"}}},{title:"房屋用途",align:"center",width:120,field:"houseUse",editRender:{type:this.isAdd?"visible":"default",name:"$select",props:{placeholder:"请选择房屋用途"},options:[],optionProps:{value:"value",label:"text"}}},{title:"有无电梯",align:"center",width:120,field:"liftFlag",editRender:{type:this.isAdd?"visible":"default",name:"$select",options:[{value:"0",text:"无"},{value:"1",text:"有"}],optionProps:{value:"value",label:"text"}}},{title:"建筑面积(m²)",align:"center",width:160,field:"struArea",editRender:{type:this.isAdd?"visible":"default",name:"$input",props:{placeholder:"请输入建筑面积",digits:"3",step:1,min:0,type:"float"}}},{title:"承办银行",align:"center",width:140,field:"bankCode",formatter:function(t){var a=t.cellValue,o=e.allBank.find((function(e){return e.code===a}));return o?o.name:""}},{title:"交存模式",align:"center",width:140,field:"depMode",slots:{default:"depMode",edit:"depModeEdit"},editRender:{type:this.isAdd?"visible":"default"}},{width:60,fixed:"right",align:"center",type:"checkbox",slots:{header:"checkboxHeader"}},{width:80,fixed:"right",align:"center",slots:{header:"actionHeader",default:"actionDefault"}}],editRules:l,addEditRules:n,houseAttrOptions:[],houseUseOptions:[],depModeOptions:[],isEdit:!0,replaceNameStr:"",replaceNamePre:"",replaceAddressStr:"",replaceAddressPre:"",model:{},visible:!1,ownerVisible:!1,selectedRow:{},selectedIndex:0,maxHouseNum:0,selectedOwnerList:[],activeKey:["1"],certInfo:{},showReplace:!1,isWidth:"14",url:{getRegionByPid:"/base/rtRegion/getRegionByPid"}}},watch:{infoDetail:{immediate:!0,handler:function(e){e&&this.columns.splice(this.columns.length-2,1)}}},created:function(){var e=x(w().mark((function e(){return w().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getBankList();case 2:this.initData(),this.isWidth=d["default"].ls.get(u["w"]),this.isAdd&&this.initCellList();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getBankList:function(){var e=x(w().mark((function e(){var t;return w().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["e"])("/business/dBankCode/compList",{size:-1,current:1});case 2:t=e.sent,t.success&&(this.allBank=t.result.records);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initCellList:function(){var e=this;Object(p["e"])(this.url.getRegionByPid,{pid:this.bldId}).then((function(t){t&&t.success&&(e.cellList=t.result.filter((function(e){return e.name})))}))},replaceCancel:function(){this.showReplace=!1,this.replaceNameStr="",this.replaceNamePre="",this.replaceAddressStr="",this.replaceAddressPre=""},replaceText:function(){this.showReplace=!0},handleOwnerInfo:function(e,t){this.selectedRow=e,this.selectedIndex=t;var a=JSON.parse(JSON.stringify(e));if(this.selectedOwnerList=a.psnInfoList,this.certInfo={buyDate:a.buyDate,totalPrice:a.totalPrice,contNo:a.contNo},0==this.selectedOwnerList.length){var o={psnName:"",phone:"",certType:"1",certNo:"",baseType:"1"};this.selectedOwnerList.push(o)}this.ownerVisible=!0},ownerInfoCancel:function(){this.ownerVisible=!1,this.selectedRow={},this.selectedIndex=0,this.selectedOwnerList=[],this.certInfo={}},ownerInfoCallback:function(){var e=this;this.$refs.ownerBatchComp.checkData().then((function(){e.houseInfoList[e.selectedIndex].psnInfoList=[],e.houseInfoList[e.selectedIndex].psnInfoList=e.houseInfoList[e.selectedIndex].psnInfoList.concat(e.$refs.ownerBatchComp.list),e.houseInfoList[e.selectedIndex].buyDate=e.certInfo.buyDate,e.houseInfoList[e.selectedIndex].totalPrice=e.certInfo.totalPrice,e.houseInfoList[e.selectedIndex].contNo=e.certInfo.contNo,e.ownerInfoCancel()}))},getParentContainer:function(){return document.body},rowStyle:function(e){var t=parseInt(e.row.floorNo);return t>0?t%2===0?"background-color: #ffffff":"background-color: #fafafa":t%2===0?"background-color: #fafafa":"background-color: #ffffff"},chooseAll:function(e){this.$refs.houseInfoRef.setAllCheckboxRow(e.target.checked)},initInfoBatch:function(){var e=this,t=[];this.houseInfoList.forEach((function(a){var o=t.findIndex((function(e){return e.floorNo===a.floorNo}));-1!==o?(t[o].houseArr.push(a),t[o].houseArr.length>=e.maxHouseNum&&(e.maxHouseNum=t[o].houseArr.length)):(e.maxHouseNum=e.maxHouseNum||1,t.push({floorNo:a.floorNo,houseArr:[a]}))})),this.model={depMode:this.isAdmin||this.EntUserBldgDepositModeMaint?"":"02"},this.visible=!0},initInfoCallback:function(){var e=this,t=this.$refs.houseInfoRef,a=t.getTableData(),o=a.visibleData,l=Number(this.model.startFloor),n=Number(this.model.endFloor),r={};for(var s in o.forEach((function(e){r[e.floorNo]=r[e.floorNo]||[],r[e.floorNo].push(e)})),r){var i=Number(s),c=l,d=n;if(n>c&&(c=n,d=l),!(d&&i<d||c&&i>c))for(var u=0;u<r[s].length;u++){var p=r[s][u];for(var f in p)if("struArea"!==f)e.model[f]&&(p[f]=e.model[f]);else if(e.model.struArea&&0!=e.model.struArea&&"{}"==JSON.stringify(e.cellInfo))p[f]=e.model.struArea;else for(var m=1;m<e.maxHouseNum+1;m++)e.model["struArea"+m]&&0!=e.model["struArea"+m]&&u+1==m&&e.$set(p,f,e.model["struArea"+m])}}this.initInfoCancel()},initInfoCancel:function(){this.model={},this.visible=!1},replaceNameR:function(){if(!this.replaceNameStr)return this.$message.warning("请输入被替换的字符");if(!this.replaceNamePre)return this.$message.warning("请输入替换的字符");var e,t=y(this.houseInfoList);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.name=a.name.replace(this.replaceNameStr,this.replaceNamePre)}}catch(o){t.e(o)}finally{t.f()}},replaceAddress:function(){if(!this.replaceAddressStr)return this.$message.warning("请输入被替换的字符");if(!this.replaceAddressPre)return this.$message.warning("请输入替换的字符");var e,t=y(this.houseInfoList);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.address=a.address.replace(this.replaceAddressStr,this.replaceAddressPre)}}catch(o){t.e(o)}finally{t.f()}},initData:function(){var e=x(w().mark((function e(){var t,a,o,l,r,s,i,c,d,u=this;return w().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=m(this.columns),e.prev=1,e.next=4,Object(n["e"])("EntUserBldgDepositModeMaint");case 4:return a=e.sent,this.EntUserBldgDepositModeMaint=0!=a,e.next=8,Object(n["e"])("dep_mode_init_area");case 8:return o=e.sent,this.depModeInitArea="1"==o,e.next=12,Object(p["e"])("/sys/sysDepart/checkUserIsCorp");case 12:if(l=e.sent,l.success||(this.isAdmin=!0),r=t.findIndex((function(e){return"depMode"===e.field})),this.isAdmin||this.EntUserBldgDepositModeMaint||(t[r]=T(T({},this.columns[r]),{},{editRender:void 0})),s=t.find((function(e){return"houseAttr"===e.field})),!s){e.next=22;break}return e.next=20,Object(n["g"])("house_attr");case 20:i=e.sent,s.editRender.options=i.result;case 22:if(c=t.find((function(e){return"houseUse"===e.field})),!c){e.next=28;break}return e.next=26,Object(n["g"])("house_use");case 26:d=e.sent,c.editRender.options=d.result;case 28:this.columns=[],e.next=34;break;case 31:e.prev=31,e.t0=e["catch"](1);case 34:this.$nextTick((function(){u.columns=u.updateTableSize(t),u.$refs.houseInfoRef.reloadColumn(t)}));case 35:case"end":return e.stop()}}),e,this,[[1,31]])})));function t(){return e.apply(this,arguments)}return t}(),loadTableData:function(e){var t=this;return new Promise((function(a){t.houseInfoList=e,a()}))},addHouseInfo:function(e){var t=this,a=(e._columnIndex,this.$refs.houseInfoRef),o=this.houseInfoList,l=this.getCheckData();if(this.isAdd){var n;if(0===l.length)n=this.addDefaultRow?JSON.parse(JSON.stringify(this.addDefaultRow)):this.getNewRowByLastRow({list:o,index:o.length-1}),o.push(n);else{n=this.addDefaultRow?JSON.parse(JSON.stringify(this.addDefaultRow)):this.getNewRowByLastRow({list:l,index:l.length-1});var r=o.findIndex((function(e){return t.isObjectValueEqual(e,l[l.length-1])}));o.splice(r+1,0,n)}a.loadData(o).then((function(){a.scrollToRow(a.getData()[a.getData().length-1])}))}else if(o&&0!==o.length)if(0===l.length){var s=JSON.parse(JSON.stringify(o[o.length-1]));s.id&&delete s.id,s.name="",s.code="",s.floorNo="",s.address="",delete s._XID,o.push(s),a.loadData(o).then((function(){a.scrollToRow(a.getData()[a.getData().length-1])}))}else{var i=Object.assign({},l[l.length-1]);if(i.id&&delete i.id,i.name){var c=Number(i.name.replace("室",""));if(isNaN(c))if(i.floorNo<0&&isNaN(c)){var d=i.address.split("层")[0]+"层",u=i.name.replace("室","").split("-");u[1]++,i.name=u[0]+"-"+u[1]+"室";var p=i.code;p++,i.code=p+"",i.address=d+i.name}else delete i.name,delete i.address;else{var f=i.address.split("层")[0]+"层";c>0?c++:c--,i.name=c+"室";var m=i.code;m++,i.code=m+"",i.address=f+i.name}}var h=this,b=o.findIndex((function(e){return h.isObjectValueEqual(e,l[l.length-1])}));o.splice(b+1,0,i),a.loadData(o).then((function(){a.scrollToRow(a.getData()[b+1])}))}else this.$message.warning("请在变更列表页面选择第一条数据")},getNewRowByLastRow:function(e){var t=e.list,a=e.index;if(a>-1){var o=JSON.parse(JSON.stringify(t[a]));return delete o._XID,o.code=Number(o.code)+1,o.name=o.code?o.code+"室":"",this.getAddressByBaseInfo(o),o}return{}},removeHouseInfo:function(){var e=this.getCheckData();if(0===e.length)return this.$message.warning("请选择要删除的数据");var t=[],a="",o=this;e.forEach((function(e){t.push(e.name)})),a=t.join(","),this.$confirm({title:"是否确认删除房屋名称为".concat(a,"的数据？"),okText:"确认",okCancel:"取消",onOk:function(){t.forEach((function(e){o.houseInfoList.forEach((function(t,a){t.name===e&&o.houseInfoList.splice(a,1)}))})),o.$message.success("删除成功")},onCancel:function(){return!1}})},changeAddress:function(e,t){if(this.isAdd)this.getAddressByBaseInfo(t);else{var a=e.target._value,o=e.target.value;if(a){var l="(.*)"+a;t.address=t.address.replace(new RegExp(l),"$1"+o)}else t.address=t.address+o}},changeCode:function(e,t){this.isAdd?(t.name=e?e+"室":"",this.getAddressByBaseInfo(t)):(t.name="".concat(Number(this.cellInfo.code)).concat(t.floorNo).concat(e?e+"室":""),t.address="".concat(this.cellInfo.address).concat(t.floorNo,"层").concat(t.name))},changeByFloorNo:function(e,t){if(this.isAdd)t.floorName=e.target.value?e.target.value+"层":"",this.getAddressByBaseInfo(t);else{var a=e.target.value;t.name="".concat(Number(this.cellInfo.code)).concat(a).concat(t.code?t.code+"室":""),t.address="".concat(this.cellInfo.address).concat(a,"层").concat(t.code?t.name:t.name+"室")}},getAddressByBaseInfo:function(e){e.address="".concat(e.buildAddress||"").concat(e.buildName||"").concat(e.cellName||"").concat(e.floorName||"").concat(e.name||"")},cellChoose:function(e,t){var a=this.cellList.find((function(t){return t.id===e}));t.cellName=a?a.name:"",this.getAddressByBaseInfo(t)},changeByCode:function(e,t){if(this.isAdd)this.getAddressByBaseInfo(t);else{var a=e.target.value,o=a?a+"室":"室",l="(.*)"+t.name;t.address=t.address.replace(new RegExp(l),"$1"+o),t.name=t.name.replace(t.name,o)}},validaTable:function(){return this.$refs.houseInfoRef.validate()},getTableData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0!==e?this.$refs.houseInfoRef.getData(e):this.$refs.houseInfoRef.getData()},revertTableData:function(e){return e?this.$refs.houseInfoRef.revertData(e):this.$refs.houseInfoRef.revertData()},getCheckData:function(){return this.$refs.houseInfoRef.getCheckboxRecords()},validError:function(){var e=this;setTimeout((function(){e.$refs.houseInfoRef.clearValidate()}),2e3)},isObjectValueEqual:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e===t)return!0;if(this.isObject(e)&&this.isObject(t)&&Object.keys(e).length===Object.keys(t).length){for(var a in e)if(e.hasOwnProperty(a)&&!this.isObjectValueEqual(e[a],t[a]))return!1}else{if(!this.isArray(e)||e.length!==t.length)return!1;for(var o=0,l=e.length;o<l;o++)if(!this.isObjectValueEqual(e[o],t[o]))return!1}return!0},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)}}},F=D,N=(a("e8d3"),a("47a0"),a("2877")),A=Object(N["a"])(F,o,l,!1,null,"4908407e",null);t["default"]=A.exports},aaea:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{staticStyle:{height:"50%",overflow:"auto"},attrs:{title:e.title,width:"60%",visible:e.visible,switchFullscreen:"",okButtonProps:{props:{icon:"check"}},cancelButtonProps:{props:{icon:"close"}}},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("j-form-container",{ref:"form",attrs:{disabled:e.formDisabled,model:e.model,rules:e.validatorRules}},[a("a-row",{ref:"formOwnRow",staticClass:"houseInfo",attrs:{slot:"edit",type:"flex"},slot:"edit"},[a("a-col",{attrs:{span:4}},[e._v("单位名称")]),a("a-col",{attrs:{span:4}},[a("div",{staticClass:"typeItemTitle"},[a("a-tooltip",{attrs:{placement:"top",title:e.model.name}},[a("div",{staticClass:"titleContent"},[e._v("\n                "+e._s(e.model.name)+"\n              ")])])],1)]),a("a-col",{attrs:{span:4}},[e._v("单位地址")]),a("a-col",{attrs:{span:4}},[a("div",{staticClass:"typeItemTitle"},[a("a-tooltip",{attrs:{placement:"top",title:e.model.address}},[a("div",{staticClass:"titleContent"},[e._v("\n                "+e._s(e.model.address)+"\n              ")])])],1)]),a("a-col",{attrs:{span:4}},[e._v("单位类型")]),a("a-col",{attrs:{span:4}},[e._v("\n          "+e._s(e.baseType_dictText)+"\n        ")]),a("a-col",{attrs:{span:4}},[e._v("账户类型")]),a("a-col",{attrs:{span:4}},[e._v(" 单位企业户 ")]),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("承办银行")]),a("a-col",{attrs:{span:4,"data-prop":"bankCode"}},[a("j-dict-bank-list-select",e._b({attrs:{"show-icon":"",placeholder:"请选择承办银行"},model:{value:e.model.bankCode,callback:function(t){e.$set(e.model,"bankCode",t)},expression:"model.bankCode"}},"j-dict-bank-list-select",{dropdownMenuStyle:{height:"158px"}},!1))],1),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("是否参与结息")]),a("a-col",{attrs:{span:4,"data-prop":"settleFlag"}},[a("a-radio-group",{model:{value:e.model.settleFlag,callback:function(t){e.$set(e.model,"settleFlag",t)},expression:"model.settleFlag"}},[a("a-radio",{attrs:{value:"1"}},[e._v("是")]),a("a-radio",{attrs:{value:"0"}},[e._v("否")])],1)],1),"10"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("是否生成小区")]):e._e(),"10"==e.model.baseType?a("a-col",{attrs:{span:4,"data-prop":"pubRegionFlag"}},[a("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否"},model:{value:e.model.pubRegionFlag,callback:function(t){e.$set(e.model,"pubRegionFlag",t)},expression:"model.pubRegionFlag"}})],1):e._e(),"10"==e.model.baseType&&e.model.pubRegionFlag?[a("a-col",{attrs:{span:4}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("选择区县")]),a("a-col",{attrs:{span:4,"data-prop":"zoneCode"}},[a("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":!0,filterTreeNode:e.filter,dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.zoneList,placeholder:"请选择区县"},model:{value:e.model.zoneCode,callback:function(t){e.$set(e.model,"zoneCode",t)},expression:"model.zoneCode"}})],1)]:e._e()],2)],1)],1)},l=[],n=a("8792"),r=a("3269"),s={name:"RCorpInfoOpenAcc",components:{JDictBankListSelect:r["default"]},mixins:[n["CorpInfoOpenAcc"]]},i=s,c=(a("93ee"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"77d115d3",null);t["default"]=d.exports},ad66:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-drawer",{staticStyle:{height:"100%"},attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,visible:e.visible,destroyOnClose:!0,"body-style":{paddingBottom:"53px",height:"calc(100% - 55px)",overflow:"auto"}},on:{close:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("corp-base-info-comp",{ref:"baseInfoComp",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,disabled:!1,changeDisabled:!0,fstbuScopeValue:e.fstbuScopeValue},on:{changeName:e.changeName,update:e.updateModel}}),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 收款账户信息 ")])])]},proxy:!0}])},[a("account-info-modal",{ref:"accountInfo",attrs:{showTitle:!1,disabled:!1}})],1)],1),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 变更信息 ")])])]},proxy:!0}])},[a("a-form-model",{ref:"form",attrs:{model:e.model,rules:e.validatorRules}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{labelCol:{span:4},wrapperCol:{span:20},prop:"changeReason",label:"变更原因",colon:!1}},[a("a-textarea",{attrs:{placeholder:"请输入变更原因",rows:2},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"5060"},on:{change:e.getFileList}})],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{attrs:{loading:e.confirmLoading,type:"primary",icon:"check"},on:{click:function(t){return e.toChange()}}},[e._v("确认变更")])],1)],1),e.checkSign?[a("corp-base-info-comp",{ref:"baseInfoComp",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,disabled:!0},on:{update:e.updateModel}}),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 收款账户信息 ")])])]},proxy:!0}],null,!1,396590269)},[a("account-info-modal",{ref:"accountInfoModal",attrs:{showTitle:!1,disabled:!0}})],1),a("a-collapse-panel",{key:"2",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 变更信息 ")])])]},proxy:!0}],null,!1,3707583208)},[a("a-form-model",{ref:"form",attrs:{model:e.model,rules:e.validatorRules}},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{staticClass:"simple-text-class border-class",attrs:{span:4}},[e._v("变更人")]),a("a-col",{staticClass:"border-class",attrs:{span:8,"data-prop":"name"}},[a("a-input",{staticClass:"simple-text-class",attrs:{placeholder:"",disabled:!0},model:{value:e.model.changePerson,callback:function(t){e.$set(e.model,"changePerson",t)},expression:"model.changePerson"}})],1),a("a-col",{staticClass:"simple-text-class border-class",attrs:{span:4}},[e._v("变更日期")]),a("a-col",{staticClass:"border-class",attrs:{span:8,"data-prop":"changeTime"}},[a("span",[e._v(" "+e._s(e.moment(e.model.changeTime).format("YYYY-MM-DD"))+" ")])])],1),a("a-row",{staticClass:"houseInfo"},[a("a-col",{staticClass:"simple-height-class",attrs:{span:4}},[e._v("变更原因")]),a("a-col",{staticClass:"simple-height-class",attrs:{span:20,"data-prop":"changeReason"}},[a("a-textarea",{staticClass:"simple-text-class",attrs:{placeholder:"请输入变更原因",rows:2,disabled:!0},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"5060",busiNo:e.model.reqNo,"is-detail":!0},on:{change:e.getFileList}})]:e._e()],2)},l=[],n=a("9fbd"),r=a("cb6c"),s=a("eccd"),i=a("f932"),c=a("4bf9"),d=a("c1df"),u=a.n(d),p={name:"CorpInfoModal",components:{TypeAttachmentUpload:n["default"],JDDictSelectTag:s["default"],CorpBaseInfoComp:i["default"],AccountInfoModal:c["default"]},mixins:[r["CorpInfoChangeModal"]],props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{moment:u.a}}},f=p,m=(a("3682"),a("2877")),h=Object(m["a"])(f,o,l,!1,null,"f9024236",null);t["default"]=h.exports},aefd:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:"单元归属变更",width:800,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭",okText:"确认变更","modal-height":"50vh"},on:{cancel:e.handleCancel,ok:e.handleOk}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",{ref:"form",attrs:{rules:e.validatorRules,model:e.model}},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更自然幢")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"pid",label:"变更自然幢"}},[a("select-region-layer",{attrs:{defaultId:e.bldInfo?e.bldInfo.id:void 0,"default-type":2,"need-type":"2"},model:{value:e.model.pid,callback:function(t){e.$set(e.model,"pid",t)},expression:"model.pid"}})],1)],1),a("a-col",{staticStyle:{height:"80px"},attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更原因")]),a("a-col",{staticStyle:{height:"80px"},attrs:{span:18}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeReason",label:"变更原因"}},[a("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:3},rows:3,placeholder:"请输入变更原因",maxLength:150},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"5056"},on:{change:e.getFileList}})],1)],1)},l=[],n=a("165b"),r=a("9fbd"),s={name:"CellBatchChangeModal",components:{TypeAttachmentUpload:r["default"]},mixins:[n["BatchChange"]],props:["bldInfo"],data:function(){return{validatorRules:{pid:[{required:!0,message:"请选择自然幢!"}],changeReason:[{required:!0,message:"填写变更原因"}]},queryData:{baseType:"2",pid:this.bldInfo.pid},columns:[{title:"名称",align:"left",dataIndex:"name"},{title:"地址",align:"left",dataIndex:"address"},{title:"编码",align:"center",dataIndex:"code"}]}},created:function(){},methods:{}},i=s,c=(a("d660c"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"d73c0e5c",null);t["default"]=d.exports},af65:function(e,t,a){},b2b7:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:"自然幢归属变更",width:800,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭",okText:"确认变更"},on:{cancel:e.handleCancel,ok:e.handleOk}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",{ref:"form",attrs:{rules:e.validatorRules,model:e.model}},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更小区")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"pid",label:"变更小区"}},[a("select-region-layer",{attrs:{defaultId:e.bldRegionInfo&&"1"!==e.bldRegionInfo.baseType?e.bldRegionInfo.id:void 0,"default-type":1,"need-type":"1"},on:{handleDistrict:e.handleDistrict},model:{value:e.model.pid,callback:function(t){e.$set(e.model,"pid",t)},expression:"model.pid"}})],1)],1),e.isDistrict?[a("a-col",{attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("小区分区")]),a("a-col",{attrs:{span:18}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"districtId",label:"小区分区"}},[a("a-select",{attrs:{placeholder:"请选择小区分区"},model:{value:e.model.districtId,callback:function(t){e.$set(e.model,"districtId",t)},expression:"model.districtId"}},e._l(e.districtList,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[a("span",{staticStyle:{width:"100%"},attrs:{title:t.name}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])])})),1)],1)],1)]:e._e(),a("a-col",{staticStyle:{height:"80px"},attrs:{span:6}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更原因")]),a("a-col",{staticStyle:{height:"80px"},attrs:{span:18}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeReason",label:"变更原因"}},[a("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:3},rows:3,placeholder:"请输入变更原因",maxLength:150},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],2)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"5055"},on:{change:e.getFileList}})],1)],1)},l=[],n=a("165b"),r=a("9fbd"),s={name:"BldBatchChangeModal",components:{TypeAttachmentUpload:r["default"]},mixins:[n["BatchChange"]],data:function(){return{validatorRules:{pid:[{required:!0,message:"请选择小区!"}],districtId:[{required:!0,message:"请选择分区!"}],changeReason:[{required:!0,message:"填写变更原因"}]}}},created:function(){},methods:{}},i=s,c=(a("dc9c"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"3627c996",null);t["default"]=d.exports},b400f:function(e,t,a){},b5c9:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isProcess?e._e():a("a-drawer",{staticStyle:{height:"100%",overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,visible:e.visible,"z-index":e.zIndex},on:{close:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 基本信息 ")])])]},proxy:!0}],null,!1,2974020626)},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:4}},[e._v("小区名称")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.houseName))]),1===e.model.isDistrict?a("a-col",{attrs:{span:4}},[e._v("分区名称")]):e._e(),1===e.model.isDistrict?a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.districtName))]):e._e(),a("a-col",{attrs:{span:4}},[e._v("自然幢名称")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.name))]),a("a-col",{attrs:{span:4}},[e._v("自然幢位置")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.address))]),a("a-col",{attrs:{span:4}},[e._v("自然幢类型")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["bld_type|"+e.model.bldType]))]),a("a-col",{attrs:{span:4}},[e._v("有无电梯")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["is_have_elevator|"+e.model.liftFlag]))]),a("a-col",{attrs:{span:4}},[e._v("承办银行")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.bankName))]),a("a-col",{attrs:{span:4}},[e._v("房屋性质")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["house_attr|"+e.model.houseAttr]))]),a("a-col",{attrs:{span:4}},[e._v("结构属性")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["bld_attr|"+e.model.attr]))]),a("a-col",{attrs:{span:4}},[e._v("地上楼层数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.overFloor))]),a("a-col",{attrs:{span:4}},[e._v("地下楼层数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.underFloor))]),a("a-col",{attrs:{span:4}},[e._v("单元数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.nextNodeNum))]),a("a-col",{attrs:{span:4}},[e._v("开工日期")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.buildDate))]),a("a-col",{attrs:{span:4}},[e._v("竣工日期")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.finishDate))]),a("a-col",{attrs:{span:4}},[e._v("交付日期")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.deliverDate))]),a("a-col",{attrs:{span:4}},[e._v("房屋名称规则")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["sort_type|"+e.model.sortType]))]),a("a-col",{attrs:{span:4}},[e._v("开发单位")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.developName))]),a("a-col",{attrs:{span:4}},[e._v("物业服务企业")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.environName))]),a("a-col",{attrs:{span:4}},[e._v("业主委员会")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.ownersName))])],1)],1)],1),"9"!=e.model.accState?a("a-tabs",{staticClass:"tabContent"},[a("a-tab-pane",{key:"1",attrs:{tab:"自然幢公共户",forceRender:""}},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:4}},[e._v("资金账户")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.accCode))]),a("a-col",{attrs:{span:4}},[e._v("账户余额")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.formatterAmount(e.model.balance))+" 元 ")]),a("a-col",{attrs:{span:4}},[e._v("承办银行")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.bankName))]),a("a-col",{attrs:{span:4}},[e._v("冻结金额")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.formatterAmount(e.model.balanceFrozen))+" 元")]),a("a-col",{attrs:{span:4}},[e._v("是否参与结息")]),a("a-col",{attrs:{span:8}},[e._v(e._s(1==e.model.settleFlag?"是":0==e.model.settleFlag?"否":""))])],1)],1),a("a-tab-pane",{key:"2",attrs:{tab:"交易明细",forceRender:""}},[a("vxe-grid",{ref:"tradeGridRef",attrs:{columns:e.TradeColumns,data:e.TradeData,"print-config":{modes:["current","selected","all"]},"max-height":"300","auto-resize":"","show-overflow":"",resizable:"",border:""},scopedSlots:e._u([{key:"toLoanSign",fn:function(e,t){var o=e.row;return["1"==o.loanFlag?a("a-badge",{attrs:{color:"orange",text:"收入"}}):a("a-badge",{attrs:{color:"#8bcc00",text:"支出"}})]}}],null,!1,2168846219)})],1)],1):e._e(),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"70",busiTypeDetail:"7002",busiNo:e.model.id,isDetail:!0}})],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{attrs:{type:"primary",icon:"close-circle"},on:{click:e.handleCancel}},[e._v("关闭")])],1)],1),e.isProcess?a("div",[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 基本信息 ")])])]},proxy:!0}],null,!1,2974020626)},[e.show?a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:4}},[e._v("小区名称")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.houseName))]),a("a-col",{attrs:{span:4}},[e._v("自然幢名称")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.name))]),a("a-col",{attrs:{span:4}},[e._v("自然幢位置")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.address))]),a("a-col",{attrs:{span:4}},[e._v("自然幢类型")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["bld_type|"+e.model.bldType]))]),a("a-col",{attrs:{span:4}},[e._v("有无电梯")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["is_have_elevator|"+e.model.liftFlag]))]),a("a-col",{attrs:{span:4}},[e.bankRequired&&"do"==e.operate?a("span",{staticClass:"requiredText"},[e._v("*")]):e._e(),e._v("承办银行")]),e.bankRequired&&"do"==e.operate?a("a-col",{attrs:{span:8}},[a("j-dict-bank-list-select",{attrs:{"show-icon":"",placeholder:"请选择承办银行"},model:{value:e.model.bankCode,callback:function(t){e.$set(e.model,"bankCode",t)},expression:"model.bankCode"}})],1):a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.bankName))]),a("a-col",{attrs:{span:4}},[e._v("房屋性质")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["house_attr|"+e.model.houseAttr]))]),a("a-col",{attrs:{span:4}},[e._v("结构属性")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["bld_attr|"+e.model.attr]))]),a("a-col",{attrs:{span:4}},[e._v("地上楼层数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.overFloor))]),a("a-col",{attrs:{span:4}},[e._v("地下楼层数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.underFloor))]),a("a-col",{attrs:{span:4}},[e._v("单元数")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.nextNodeNum))]),a("a-col",{attrs:{span:4}},[e._v("开工日期")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.buildDate))]),a("a-col",{attrs:{span:4}},[e._v("竣工日期")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.finishDate))]),a("a-col",{attrs:{span:4}},[e._v("交付日期")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.deliverDate))]),a("a-col",{attrs:{span:4}},[e._v("房屋名称规则")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.data["sort_type|"+e.model.sortType]))]),a("a-col",{attrs:{span:4}},[e._v("开发单位")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.developName))]),a("a-col",{attrs:{span:4}},[e._v("物业服务企业")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.environName))]),a("a-col",{attrs:{span:4}},[e._v("业主委员会")]),a("a-col",{attrs:{span:8}},[e._v(e._s(e.model.ownersName))])],1):e._e()],1),a("a-collapse-panel",{key:"2",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 单元房屋信息 ")])])]},proxy:!0}],null,!1,1722986022)},[a("vxe-grid",{ref:"table",attrs:{border:"",zIndex:e.zIndex,columns:e.bldColumns,data:e.dataSource,"auto-resize":"","expand-config":{labelField:"expend",trigger:"row",lazy:!1}},on:{"toggle-row-expand":e.toggleRowExpand},scopedSlots:e._u([{key:"expand",fn:function(t,o){var l=t.row;t.rowIndex,t.$rowIndex,t.column;return[a("HouseListTable",{ref:"houseList"+l.id,attrs:{zIndex:e.zIndex+1,"keep-source":!0,"is-detail":"","info-detail":"",isProcess:"",operate:e.operate,"cell-info":l}})]}}],null,!1,1793248558)})],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"70",busiTypeDetail:"7002",busiNo:e.model.id,isDetail:!0}})],1)],1):e._e()],1)},l=[],n=a("9fbd"),r=a("9fb0"),s=a("3ed7"),i=a("0fea"),c=a("d8a5"),d=a("a87b"),u=a("3269"),p=a("c1df"),f=a.n(p),m=a("bc3a"),h=a.n(m),b=a("2b0e");function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */y=function(){return t};var e,t={},a=Object.prototype,o=a.hasOwnProperty,l=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,a){return e[t]=a}}function d(e,t,a,o){var n=t&&t.prototype instanceof g?t:g,r=Object.create(n.prototype),s=new N(o||[]);return l(r,"_invoke",{value:L(e,a,s)}),r}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",b={};function g(){}function _(){}function w(){}var C={};c(C,r,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(A([])));k&&k!==a&&o.call(k,r)&&(C=k);var T=w.prototype=g.prototype=Object.create(C);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function a(l,n,r,s){var i=u(e[l],e,n);if("throw"!==i.type){var c=i.arg,d=c.value;return d&&"object"==v(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,r,s)}),(function(e){a("throw",e,r,s)})):t.resolve(d).then((function(e){c.value=e,r(c)}),(function(e){return a("throw",e,r,s)}))}s(i.arg)}var n;l(this,"_invoke",{value:function(e,o){function l(){return new t((function(t,l){a(e,o,t,l)}))}return n=n?n.then(l,l):l()}})}function L(t,a,o){var l=p;return function(n,r){if(l===m)throw Error("Generator is already running");if(l===h){if("throw"===n)throw r;return{value:e,done:!0}}for(o.method=n,o.arg=r;;){var s=o.delegate;if(s){var i=D(s,o);if(i){if(i===b)continue;return i}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(l===p)throw l=h,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l=m;var c=u(t,a,o);if("normal"===c.type){if(l=o.done?h:f,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(l=h,o.method="throw",o.arg=c.arg)}}}function D(t,a){var o=a.method,l=t.iterator[o];if(l===e)return a.delegate=null,"throw"===o&&t.iterator.return&&(a.method="return",a.arg=e,D(t,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var n=u(l,t.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,b;var r=n.arg;return r?r.done?(a[t.resultName]=r.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,b):r:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b)}function $(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}function A(t){if(t||""===t){var a=t[r];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var l=-1,n=function a(){for(;++l<t.length;)if(o.call(t,l))return a.value=t[l],a.done=!1,a;return a.value=e,a.done=!0,a};return n.next=n}}throw new TypeError(v(t)+" is not iterable")}return _.prototype=w,l(T,"constructor",{value:w,configurable:!0}),l(w,"constructor",{value:_,configurable:!0}),_.displayName=c(w,i,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,i,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,a,o,l,n){void 0===n&&(n=Promise);var r=new I(d(e,a,o,l),n);return t.isGeneratorFunction(a)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},S(T),c(T,i,"Generator"),c(T,r,(function(){return this})),c(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var o in t)a.push(o);return a.reverse(),function e(){for(;a.length;){var o=a.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var a in this)"t"===a.charAt(0)&&o.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function l(o,l){return s.type="throw",s.arg=t,a.next=o,l&&(a.method="next",a.arg=e),!!l}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],s=r.completion;if("root"===r.tryLoc)return l("end");if(r.tryLoc<=this.prev){var i=o.call(r,"catchLoc"),c=o.call(r,"finallyLoc");if(i&&c){if(this.prev<r.catchLoc)return l(r.catchLoc,!0);if(this.prev<r.finallyLoc)return l(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return l(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return l(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc<=this.prev&&o.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var n=l;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=e,r.arg=t,n?(this.method="next",this.next=n.finallyLoc,b):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),F(a),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var o=a.completion;if("throw"===o.type){var l=o.arg;F(a)}return l}}throw Error("illegal catch attempt")},delegateYield:function(t,a,o){return this.delegate={iterator:A(t),resultName:a,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function g(e,t,a,o,l,n,r){try{var s=e[n](r),i=s.value}catch(e){return void a(e)}s.done?t(i):Promise.resolve(i).then(o,l)}function _(e){return function(){var t=this,a=arguments;return new Promise((function(o,l){var n=e.apply(t,a);function r(e){g(n,o,l,r,s,"next",e)}function s(e){g(n,o,l,r,s,"throw",e)}r(void 0)}))}}var w={name:"BldInfoDetail",components:{JDictBankListSelect:u["default"],TypeAttachmentUpload:n["default"],HouseListTable:d["default"]},props:{operate:{type:String,default:"do"},zIndex:{type:Number,default:1e3}},data:function(){return{data:{},isProcess:!1,title:"自然幢详情",visible:!1,model:{},drawerWidth:900,confirmLoading:!1,activeKey:["1","2"],url:{initHouseByBldId:"/base/rHouseInfo/initHouseByBldId",queryById:"base/rBldInfo/queryById",updateBldBankCode:"/base/rBldInfo/updateBldBankCode",saveHouseBatch:"/base/rHouseInfo/saveHouseBatchAudit"},id:"",show:!1,bldColumns:[{title:"",type:"expand",width:60,slots:{content:"expand"}},{title:"单元名称",field:"name"},{title:"单元位置",field:"address"},{title:"地上楼层数",field:"overFloor"},{title:"地上每层户数",field:"overPerFloor"},{title:"地下楼层数",field:"underFloor"},{title:"地下每层户数",field:"underPerFloor"}],dataSource:[],bankRequired:!1,bankInfoOptions:[],TradeData:[],TradeColumns:[{title:"序号",type:"seq",width:80,align:"center"},{title:"交易日期",field:"trdDate",align:"center",formatter:function(e){var t=e.cellValue;return t?f()(t).format("YYYY-MM-DD"):""}},{title:"业务编号",field:"busiNo",align:"center"},{title:"业务类别",field:"busiTypeDetailText",align:"center"},{title:"业务描述",field:"describe",align:"center"},{title:"收支标识",field:"loanFlag",align:"center",slots:{default:"toLoanSign"}},{title:"发生额(元)",field:"amount",headerAlign:"center",align:"right",formatter:function(e){var t=e.cellValue;return Number(t).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{title:"账户余额(元)",field:"balance",headerAlign:"center",align:"right",formatter:function(e){var t=e.cellValue;return Number(t).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}}],formatterAmount:s["g"]}},methods:{getDictValue:function(){var e=_(y().mark((function e(t,a){var o;return y().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=this,e.next=3,Object(c["f"])(t,a).then((function(e){e&&e.result&&(o.data[t+"|"+a]=e.result.text)}));case 3:return e.abrupt("return","");case 4:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),edit:function(){var e=_(y().mark((function e(t){var a=this;return y().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getDictValue("bld_type",t.bldType);case 2:return e.next=4,this.getDictValue("is_have_elevator",String(t.liftFlag));case 4:return e.next=6,this.getDictValue("house_attr",t.houseAttr);case 6:return e.next=8,this.getDictValue("bld_attr",t.attr);case 8:return e.next=10,this.getDictValue("sort_type",t.sortType);case 10:this.model=Object.assign({},t),this.$nextTick((function(){a.$refs.fileupload.initData()})),this.initTrdLog(),this.visible=!0;case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),initTrdLog:function(){var e=this;Object(i["e"])("/account/trdlog/getTrdLogById",{id:this.model.id}).then((function(t){t.success&&(e.TradeData=t.result.records)}))},initData:function(e,t){var a=this;this.id=e,t&&t.variables&&(this.id=t.variables.regionId),this.visible=!0,this.id?(Object(i["e"])(this.url.queryById,{id:this.id}).then(function(){var e=_(y().mark((function e(t){return y().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.success){e.next=14;break}return e.next=3,a.getDictValue("bld_type",t.result.bldType);case 3:return e.next=5,a.getDictValue("is_have_elevator",String(t.result.liftFlag));case 5:return e.next=7,a.getDictValue("house_attr",t.result.houseAttr);case 7:return e.next=9,a.getDictValue("bld_attr",t.result.attr);case 9:return e.next=11,a.getDictValue("sort_type",t.result.sortType);case 11:a.model=t.result,a.show=!0,a.$nextTick((function(){a.$refs.fileupload.initData()}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(i["e"])(this.url.initHouseByBldId,{bldId:this.id,isProcess:this.isProcess}).then((function(e){e.success?a.dataSource=e.result:a.dataSource=null}))):this.$nextTick((function(){a.$refs.baseInfoComp.model={},a.$refs.fileupload.initData()}))},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.model={},this.visible=!1},toggleRowExpand:function(e){var t=this,a=e.expanded,o=e.row;a&&this.$nextTick((function(){t.$refs["houseList"+o.id].loadTableData(o.houseInfoList).then((function(){t.$refs.table.recalculate(!0)}))}))},handleOk:function(){var e=_(y().mark((function e(){var t=this;return y().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=_(y().mark((function e(a,o){return y().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.bankRequired){e.next=7;break}if(!t.model||t.model.bankCode){e.next=6;break}return t.$message.warning("请选择承办银行！"),o(new Error("")),t.$emit("errback"),e.abrupt("return",!1);case 6:t.updateBldBankCode();case 7:return e.next=9,t.updateHouseInfo();case 9:a();case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),updateHouseInfo:function(){var e=this;return new Promise((function(t){e.dataSource.forEach((function(t){t.zoneCode=e.zoneCodes,t.houseInfoList.forEach((function(t){t.zoneCode=e.zoneCodes,t.state="9"}))})),e.isLoading=!0;var a=b["default"].ls.get(r["C"]),o={headers:{"X-Access-Token":b["default"].ls.get("Access-Token"),"tenant-id":a,sourceName:b["default"].ls.get("SOURCE_NAME"),redisIndex:b["default"].ls.get("REDIS_INDEX")},timeout:9e5};h.a.post(window._CONFIG["domianURL"]+e.url.saveHouseBatch,e.dataSource,o).then((function(e){})).finally((function(){e.isLoading=!1,t()}))}))},updateBldBankCode:function(){var e=this;Object(i["e"])(this.url.updateBldBankCode,{bldId:e.id,bankCode:e.model.bankCode}).then((function(e){}))}}},C=w,x=(a("ca31"),a("2877")),k=Object(x["a"])(C,o,l,!1,null,"03cb13aa",null);t["default"]=k.exports},c0f9:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("a-spin",{staticStyle:{height:"calc(100% - 52px)"},attrs:{spinning:e.isLoading}},[a("vxe-grid",{ref:"table",attrs:{border:"",columns:e.bldColumns,data:e.dataSource,height:"auto","auto-resize":"","expand-config":{labelField:"expend",trigger:"row",lazy:!1}},on:{"toggle-row-expand":e.toggleRowExpand},scopedSlots:e._u([{key:"expand",fn:function(e,t){var o=e.row;e.rowIndex,e.$rowIndex,e.column;return[a("HouseListTable",{ref:"houseList"+o.id,attrs:{"keep-source":!0,"is-detail":!1,"cell-info":o}})]}}])})],1),a("a-space",{staticClass:"buttonGroup"},[a("a-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){return e.previousStep()}}},[e._v("上一步")]),a("a-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:function(t){return e.nextStep()}}},[e._v("下一步")])],1)],1)},l=[],n=a("b65a"),r=a("7338"),s={name:"HouseInfoModal",mixins:[n["a"],r["HouseInfoModal"]]},i=s,c=(a("a6ba"),a("2877")),d=Object(c["a"])(i,o,l,!1,null,"e5bebbcc",null);t["default"]=d.exports},c14d:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{attrs:{spinning:e.loading}},[a("div",{attrs:{id:"floorView"}},[a("div",{staticClass:"top-list"},[e.showRightAction?a("div",{staticClass:"list-btn"},[e._t("listBtn-left"),a("div",{staticClass:"listBtn-right"},[a("span",[e._v("未交")]),a("span",[e._v("已交")]),a("span",[e._v("不足30%")]),a("span",[e._v("不交")]),a("a-button",{staticClass:"list-a-btn",class:[e.bgActive2?"bgColor":"ownerColor"],on:{click:function(t){e.bgActive2=!e.bgActive2}}},[e._v("业主姓名 ")]),e._v(" \n          "),a("a-button",{staticClass:"list-a-btn",class:[e.bgActive?"bgColor":"areaColor"],on:{click:function(t){return e.showArea()}}},[e._v("面积 ")]),e._v(" \n          "),a("a-button",{staticClass:"list-a-btn",class:[e.bgActive1?"bgColor":"MoneyColor"],on:{click:function(t){return e.showMoney()}}},[e._v("余额 ")]),e._v(" \n        ")],1)],2):e._e()]),a("div",{staticClass:"viewContent",attrs:{id:"viewContentId"}},["storeroom"!==e.viewType?[a("div",{staticClass:"right-content floorHouseView",attrs:{id:"rightContent"}},[e._l(e.houseList,(function(t,o){return[a("floor-table",{key:o,ref:"floorTable"+t.type,refInFor:!0,attrs:{areaShow:e.bgActive,moneyShow:e.bgActive1,ownerShow:e.bgActive2,optionalAccState:e.optionalAccState,chooseFlag:e.chooseFlag,selHand:e.selHand,"unit-nums":e.unitNums,houseChecks:e.houseChecks,queryParam:e.queryParam,depositType:e.depositType,isShowCheckbox:e.isShowCheckbox},on:{"update:houseChecks":function(t){e.houseChecks=t},"update:house-checks":function(t){e.houseChecks=t}}})]}))],2)]:e._e()],2)]),a("hou-owner-info-modal",{ref:"infoModal",on:{ok:e.modalFormOk}})],1)},l=[],n=a("f230"),r=a.n(n),s=a("0fea"),i=a("eccd"),c=a("0b6e"),d=a("1618"),u={name:"HouseView",components:{JDDictSelectTag:i["default"],FloorTable:c["default"],HouOwnerInfoModal:d["default"]},props:{viewType:{type:String,default:"default"},buildId:{type:String,default:"",required:!0},showRightAction:{type:Boolean,default:!0},queryParam:{type:Object,default:function(){return{}}},depositType:{type:String,default:""},isShowCheckbox:{type:Boolean,default:!0},chooseFlag:{type:String,default:""},optionalAccState:{type:[Array,Function],default:function(){return["0","1"]}}},data:function(){return{selHand:!0,unitArr:[],storeroomUnitList:[],areaVisible:!1,moneyVisible:!1,bgActive:!1,bgActive1:!1,bgActive2:!0,visible:!1,loading:!1,houseChecks:[],storeCheckIds:[],address:"",bankInfoOptions:[],formInline:{},rules:{houseArea:[{required:!0,message:"不能为空",trigger:"blur"}],depAmount:[{required:!0,message:"不能为空",trigger:"blur"}],dueAmount:[{required:!0,message:"不能为空",trigger:"change"}]},rules1:{user:[{required:!0,message:"不能为空",trigger:"blur"}],type:[{required:!0,message:"不能为空",trigger:"blur"}],price:[{required:!0,message:"不能为空",trigger:"blur"}],tel:[{required:!0,message:"不能为空",trigger:"blur"}],Number:[{required:!0,message:"不能为空",trigger:"blur"}]},exportLoading:!1,buildType:"0",loadingProgress:0,isSuccess:!1,maxFloor:[],unitNums:0,houseFloorNums:0,shoppingFloorNums:0,basementFloorNums:0,houseList:[]}},methods:{loadData:function(e){var t=this;this.loadingProgress=0,this.loading=!0,this.unitArr=[],this.isSuccess=!1,this.houseList=[],Object(s["e"])("/view/floorViews/queryHouseView",{buildId:e}).then((function(e){t.unitNums=e.result.unitNums,t.houseList=e.result.houseTypeList,t.$nextTick((function(){e.result.houseTypeList.forEach((function(e){t.$refs["floorTable"+e.type][0].initData(e)}))})),t.houseChecks=[],t.isSuccess=!0,t.loading=!1}))},getProgress:function(){var e=this,t=setInterval((function(){e.loadingProgress<80&&(e.loadingProgress+=Math.round(15*Math.random())),"complete"===document.readyState&&e.isSuccess&&(e.loadingProgress=100,setTimeout((function(){e.loading=!1}),300),window.clearInterval(t))}),200)},storeroomUnitAllChange:function(e){var t=this,a=this.storeroomUnitList.find((function(t){return t.id===e.target.value}));e.target.checked?a.floorArr.forEach((function(e){e.houseArr.forEach((function(e){e.checked=!0,t.storeCheckIds.push(e.id)}))})):a.floorArr.forEach((function(e){e.houseArr.forEach((function(e){for(var a=0;a<t.storeCheckIds.length;a++)e.id===t.storeCheckIds[a]&&(e.checked=!1,t.storeCheckIds.splice(a,1))}))}))},showArea:function(){this.bgActive=!this.bgActive},showMoney:function(){this.bgActive1=!this.bgActive1},exportFile:function(){var e=this;this.exportLoading=!0,this.$nextTick((function(){e.publicDomToImg("rightContent","楼盘视图",!0,"exportButtonHide")}))},publicDomToImg:function(e,t){var a=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";window.pageYoffset=0,document.documentElement.scrollTop=0,document.body.scrollTop=0;var n=document.getElementById(e),s=n.offsetWidth,i=n.offsetHeight,c=2;r()(n,{width:s,heigth:i,windowHeight:document.getElementById("viewContentId").scrollHeight,windowWidth:document.getElementById("viewContentId").scrollWidth,backgroundColor:"#ffffff",dpi:2*window.devicePixelRatio,scale:c,X:0,Y:0,useCORS:!0,allowTaint:!0,ignoreElements:function(e){if(e.id===l)return!0}}).then((function(e){var l=e.toDataURL();if(o){var n=document.createElement("a");n.download=t;var r=new MouseEvent("click");a.dataURL=l,n.href=l,n.dispatchEvent(r)}return l})).finally((function(){a.exportLoading=!1}))},handleCancel:function(){this.visible=!1},handleSubmit:function(){},getBuildClass:function(){return""},bankInfoDict:function(){var e=this;Object(s["e"])("/business/dBankCode/bankInfoOptions").then((function(t){e.bankInfoOptions=t.result}))},handleAdd:function(){this.$refs.infoModal.initData(this.buildId)},modalFormOk:function(){this.loadData(this.buildId)}},created:function(){this.bankInfoDict()}},p=u,f=(a("9978"),a("2877")),m=Object(f["a"])(p,o,l,!1,null,"51413d45",null);t["default"]=m.exports},ca31:function(e,t,a){"use strict";a("1cde")},cbaa:function(e,t,a){},cda1:function(e,t,a){},d0ee:function(e,t,a){"use strict";a("b400f")},d429:function(e,t,a){},d633:function(e,t,a){},d660c:function(e,t,a){"use strict";a("d429")},db12:function(e,t,a){"use strict";a("24c5")},dbb9:function(e,t,a){},dbee:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("j-modal",{attrs:{title:"新增单元",width:1200,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭",okText:"确定"},on:{ok:e.addCell,cancel:e.close}},[a("cell-base-info-comp",{ref:"baseInfoComp",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,underDisabled:e.positiveInteger,disabled:!1},on:{update:e.updateModel}})],1),e.checkSign?[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n              单元信息\n            ")])])]},proxy:!0}],null,!1,980123570)},[e.showComp?a("cell-base-info-comp",{ref:"baseInfoComp",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,disabled:!0},on:{update:e.updateModel}}):e._e()],1)],1),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v("\n              房屋信息\n            ")])])]},proxy:!0}],null,!1,1707658832)},[e.dataSource&&e.dataSource.length>0?a("vxe-grid",{ref:"table",attrs:{border:"",columns:e.bldColumns,data:e.dataSource,"auto-resize":"","expand-config":{labelField:"expend",trigger:"row",lazy:!1}},on:{"toggle-row-expand":e.toggleRowExpand},scopedSlots:e._u([{key:"expand",fn:function(t,o){var l=t.row;t.rowIndex,t.$rowIndex,t.column;return[a("HouseListTable",{ref:"houseList"+l.id,attrs:{zIndex:e.zIndex,"keep-source":!0,"is-detail":!1,"cell-info":l,"info-detail":""}})]}}],null,!1,3122716728)}):a("a-empty",[a("span",{attrs:{slot:"description"},slot:"description"},[e._v(" 暂无数据 ")])])],1)],1)]:e._e()],2)},l=[],n=a("716f"),r=a("0fea"),s=a("9fbd"),i=a("a87b"),c={name:"CellInfoAddModal",components:{CellBaseInfoComp:n["default"],TypeAttachmentUpload:s["default"],HouseListTable:i["default"]},props:["bldInfo","zIndex"],data:function(){return{visible:!1,model:{},labelCol:{span:0},wrapperCol:{span:24},confirmLoading:!1,validatorRules:{name:[{required:!0,message:"请输入名称!"}],code:[{required:!0,message:"请输入编码!"},{validator:this.validateCode}],underPerFloor:[{required:!0,message:"请输入地下每层户数!"},{validator:this.underPerFloorCheck}],underFloor:[{required:!0,message:"请输入地下楼层数!"},{validator:this.underFloorCheck}],overPerFloor:[{required:!0,message:"请输入地上每层户数!"},{validator:this.overPerFloorCheck}],overFloor:[{required:!0,message:"请输入地上楼层数!"},{validator:this.overFloorCheck}],startFloor:[{validator:this.validateStartFloor}],endFloor:[{validator:this.validateEndFloor}],shopPerFloor:[{validator:this.validaShopPerFloor}]},url:{addCell:"/base/rCellInfo/addCell",queryCellByReqId:"/base/rCellInfo/queryCellByReqId",initHouseByCell:"/base/rHouseInfo/initHouseByCell",checkFloor:"/base/rBldInfo/checkFloor",queryHouseByCellId:"/base/rtRegion/queryHouseByCellId"},activeKey:["1"],checkSign:!1,positiveInteger:!1,dataSource:[],bldColumns:[{title:"",type:"expand",width:60,slots:{content:"expand"}},{title:"单元名称",field:"name"},{title:"单元位置",field:"address"}],showComp:!1}},methods:{validateCode:function(e,t,a){if(/[\u4E00-\u9FA5]/g.test(t))a("编码不可输入汉字!");else{var o={pid:this.bldInfo.id,code:t};this.model.id&&(o.id=this.model.id),Object(r["j"])("/base/rtRegion/checkCode",o).then((function(e){e.success?a():a(e.message)}))}},validateStartFloor:function(e,t,a){1!==this.model.isShop||null!==t&&void 0!==t||a(new Error("请输入开始层数!")),1===this.model.isShop&&this.positiveInteger&&t<0&&a(new Error("自然幢没有地下楼层，开始层数不能为负!")),1===this.model.isShop&&0===t&&a(new Error("开始层数不能为0!")),1===this.model.isShop&&t<-this.model.underFloor&&a(new Error("开始层数不能小于地下楼层数!")),1===this.model.isShop&&t>=this.model.overFloor&&a(new Error("开始层数不能大于等于地上楼层数!")),1===this.model.isShop&&t>this.model.endFloor&&a(new Error("开始层数不能大于结束层数!")),a()},validateEndFloor:function(e,t,a){this.$refs.baseInfoComp.$refs.form.validateField("startFloor"),1!==this.model.isShop||null!==t&&void 0!==t||a(new Error("请输入结束层数!")),1===this.model.isShop&&this.positiveInteger&&t<0&&a(new Error("自然幢没有地下楼层，结束层数不能为负!")),1===this.model.isShop&&0===t&&a(new Error("结束层数不能为0!")),1===this.model.isShop&&t>=this.model.overFloor&&a(new Error("结束层数不能大于等于地上楼层数!")),1===this.model.isShop&&t<this.model.startFloor&&a(new Error("结束层数不能小于开始层数!")),a()},validaShopPerFloor:function(e,t,a){1!==this.model.isShop||null!==t&&void 0!==t||a(new Error("请输入底商每层户数!")),0===t&&a(new Error("底商每层户数不能为0!")),a()},overFloorCheck:function(e,t,a){isNaN(t)||(t+"").indexOf("-")>=0?a(new Error("地上楼层数只能为整数!")):this.bldFloorCheck(e,t,a,!0)},overPerFloorCheck:function(e,t,a){0===this.model.overFloor&&t>0?a(new Error("地上楼层数为0，地上每层户数也需为0!")):this.model.overFloor>0&&0===this.model.overPerFloor?a(new Error("地上楼层数大于0，地上每层户数不允许为0!")):a()},underFloorCheck:function(e,t,a){isNaN(t)||(t+"").indexOf("-")>=0?a(new Error("地下楼层数只能为整数!")):this.bldFloorCheck(e,t,a,!1)},underPerFloorCheck:function(e,t,a){0===this.model.underFloor&&t>0?a(new Error("地下楼层数为0，地下每层户数也需为0!")):this.model.underFloor>0&&0===this.model.underPerFloor?a(new Error("地下楼层数大于0，地下每层户数不允许为0!")):a()},bldFloorCheck:function(e,t,a,o){var l=this,n={};n.bldId=this.model.pid,n.floorNumber=t,n.isCheckOverFloor=o,Object(r["e"])(this.url.checkFloor,n).then((function(e){e&&e.success?(a(),o&&0===t?l.$set(l.model,"overPerFloor",0):o||0!==t||l.$set(l.model,"underPerFloor",0),o&&t>=0&&l.model.overPerFloor>=0?l.$refs.baseInfoComp.$refs.form.validateField("overPerFloor"):!o&&t>=0&&l.model.underPerFloor>=0&&l.$refs.baseInfoComp.$refs.form.validateField("underPerFloor"),1===l.model.isShop&&(l.$refs.baseInfoComp.$refs.form.validateField("startFloor"),l.$refs.baseInfoComp.$refs.form.validateField("endFloor"))):a(e.message)}))},updateModel:function(e){this.model=e},close:function(){this.confirmLoading=!1,this.checkSign=!1,this.$refs.baseInfoComp.visibleCheck=!1,this.visible=!1},add:function(e,t){this.model=e,t&&(this.model.underFloor=0,this.model.underPerFloor=0,this.positiveInteger=!0),this.visible=!0},initData:function(e){var t=this;this.checkSign=!0,this.showComp=!1,Object(r["e"])(this.url.queryCellByReqId,{reqId:e}).then((function(e){e.success&&e.result&&(t.model=e.result,t.showComp=!0,t.initHouse())}))},initHouse:function(){var e=this;Object(r["e"])(this.url.queryHouseByCellId,{cellId:this.model.id}).then((function(t){t.success&&t.result&&t.result.length>0&&Object(r["j"])(e.url.initHouseByCell,e.model).then((function(t){t.success?(t.result&&t.result.length>0&&t.result.forEach((function(e){var t=[],a=[];e.houseInfoList&&e.houseInfoList.length>0&&(t=e.houseInfoList.filter((function(e){return Number(e.floorNo)>0})),a=e.houseInfoList.filter((function(e){return Number(e.floorNo)<0})),t.sort((function(e,t){return e.code-t.code})),e.houseInfoList=t.concat(a))})),e.dataSource=t.result):e.dataSource=null,e.$nextTick((function(){e.$refs.table.setAllRowExpand(!0),e.toggleRowExpand({expanded:!0,row:e.dataSource[0]})}))}))}))},addCell:function(){var e=this,t=this;this.$refs.baseInfoComp.$refs.form.validate((function(a){if(a){if(0===e.model.underFloor&&0===e.model.overFloor)return t.$message.warning("地上地下楼层数都为0，不允许新建单元!");if(0===e.model.underPerFloor&&0===e.model.overPerFloor)return t.$message.warning("地上地下每层户数都为0，不允许新建单元!");0===e.model.isShop&&(e.$delete(e.model,"startFloor"),e.$delete(e.model,"endFloor"),e.$delete(e.model,"shopPerFloor")),t.confirmLoading=!0,t.model.baseType=3,t.model.address=e.bldInfo.address+e.bldInfo.name+t.model.name,Object(r["j"])(t.url.addCell,t.model).then((function(e){e.success?(t.$emit("create",e.result),t.close()):t.$message.warning(e.message)}))}}))},toggleRowExpand:function(e){var t=this,a=e.expanded,o=e.row;a&&this.$nextTick((function(){t.$refs["houseList"+o.id].loadTableData(o.houseInfoList).then((function(){t.$refs.table.recalculate(!0)}))}))}}},d=c,u=(a("16ec"),a("2877")),p=Object(u["a"])(d,o,l,!1,null,"ba10e5c6",null);t["default"]=p.exports},dc9c:function(e,t,a){"use strict";a("cda1")},e050:function(e,t,a){"use strict";a("e3f6")},e390:function(e,t,a){},e3f6:function(e,t,a){},ed4f5:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:e.title,width:1200,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭"},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",{ref:"form",attrs:{model:e.model}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("select-jurisdiction",{attrs:{multi:!0,filterOfCorp:!0,corpModel:e.corpModel},on:{ok:e.handleSubmit},model:{value:e.model.regionIds,callback:function(t){e.$set(e.model,"regionIds",t)},expression:"model.regionIds"}})],1)],1)],1)],1),a("a-table",{ref:"table",attrs:{bordered:"",size:"middle",rowKey:"id",columns:e.columns,dataSource:e.dataSource,loading:e.loading,pagination:e.ipagination},on:{change:e.loadData},scopedSlots:e._u([{key:"action",fn:function(t,o){return a("span",{},[a("a",{on:{click:function(t){return e.handleFile(o)}}},[a("a-icon",{attrs:{type:"arrow-up"}}),e._v("上传图档")],1),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"确定取消关联吗?"},on:{confirm:function(){return e.handleCancelRelation(o)}}},[a("a",[a("a-icon",{attrs:{type:"rollback"}}),e._v("取消关联")],1)])],1)}}])}),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleCancel}},[a("a-icon",{attrs:{type:"close-circle"}}),e._v("关闭")],1)],1),a("corp-info-jurisdiction-archives",{ref:"jurisdictionArchives",on:{ok:e.modalFormOk}})],1)},l=[],n=a("b65a"),r=a("9fbd"),s=a("12e8"),i=a("53c5"),c={name:"CorpInfoJurisdiction",components:{TypeAttachmentUpload:r["default"],CorpInfoJurisdictionArchives:i["default"]},mixins:[n["a"],s["CorpInfoJurisdiction"]]},d=c,u=(a("1b53"),a("2877")),p=Object(u["a"])(d,o,l,!1,null,"b9e7fbdc",null);t["default"]=p.exports},ee7d:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[[a("j-modal",{attrs:{title:e.title,width:1600,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭"},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-tabs",{attrs:{type:"line"}},[a("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[a("j-form-container",{ref:"form",attrs:{rules:e.validatorRules,model:e.model,disabled:!1,formRef:"formOwnRow",border:!1}},[a("a-row",{ref:"formOwnRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{attrs:{span:4}},[e._v("自然幢名称")]),a("a-col",{attrs:{span:4,"data-prop":"name"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("a-col",{attrs:{span:4}},[e._v("自然幢位置")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1),a("a-col",{attrs:{span:4}},[e._v("自然幢类型")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.bldType_dictText,callback:function(t){e.$set(e.model,"bldType_dictText",t)},expression:"model.bldType_dictText"}})],1),a("a-col",{attrs:{span:4}},[e._v("有无电梯")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-switch",{attrs:{checkedChildren:"有",unCheckedChildren:"无",disabled:""},on:{change:e.onLiftFlagChange},model:{value:e.visibleCheck,callback:function(t){e.visibleCheck=t},expression:"visibleCheck"}})],1),a("a-col",{attrs:{span:4}},[e._v("承办银行")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.bankName,callback:function(t){e.$set(e.model,"bankName",t)},expression:"model.bankName"}})],1),a("a-col",{attrs:{span:4}},[e._v("房屋性质")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.houseAttr_dictText,callback:function(t){e.$set(e.model,"houseAttr_dictText",t)},expression:"model.houseAttr_dictText"}})],1),a("a-col",{attrs:{span:4}},[e._v("结构属性")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.attr_dictText,callback:function(t){e.$set(e.model,"attr_dictText",t)},expression:"model.attr_dictText"}})],1),a("a-col",{attrs:{span:4}},[e._v("地上楼层数")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.overFloor,callback:function(t){e.$set(e.model,"overFloor",t)},expression:"model.overFloor"}})],1),a("a-col",{attrs:{span:4}},[e._v("地下楼层数")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.underFloor,callback:function(t){e.$set(e.model,"underFloor",t)},expression:"model.underFloor"}})],1),a("a-col",{attrs:{span:4}},[e._v("单元数")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.nextNodeNum,callback:function(t){e.$set(e.model,"nextNodeNum",t)},expression:"model.nextNodeNum"}})],1),a("a-col",{attrs:{span:4}},[e._v("开工日期")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.buildDate,callback:function(t){e.$set(e.model,"buildDate",t)},expression:"model.buildDate"}})],1),a("a-col",{attrs:{span:4}},[e._v("竣工日期")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.finishDate,callback:function(t){e.$set(e.model,"finishDate",t)},expression:"model.finishDate"}})],1),a("a-col",{attrs:{span:4}},[e._v("交付日期")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.deliverDate,callback:function(t){e.$set(e.model,"deliverDate",t)},expression:"model.deliverDate"}})],1),a("a-col",{attrs:{span:4}},[e._v("房屋名称规则")]),a("a-col",{attrs:{span:4,"data-prop":"address"}},[a("a-input",{attrs:{disabled:""},model:{value:e.model.sortType_dictText,callback:function(t){e.$set(e.model,"sortType_dictText",t)},expression:"model.sortType_dictText"}})],1),"09"==e.model.houseAttr?a("a-col",{attrs:{span:4}},[e._v("公房单位")]):e._e(),"09"==e.model.houseAttr?a("a-col",{staticClass:"zdyClass",attrs:{span:4}},[a("j-select-corp",{attrs:{baseType:"09",multi:!1,disabled:""},model:{value:e.model.publicCode,callback:function(t){e.$set(e.model,"publicCode",t)},expression:"model.publicCode"}})],1):e._e(),a("a-col",{attrs:{span:4}},[e._v("开发单位")]),a("a-col",{staticClass:"zdyClass",attrs:{span:4}},[a("j-select-corp",{attrs:{baseType:"01",multi:!1,disabled:""},model:{value:e.model.developCode,callback:function(t){e.$set(e.model,"developCode",t)},expression:"model.developCode"}})],1),a("a-col",{attrs:{span:4}},[e._v("物业单位")]),a("a-col",{staticClass:"zdyClass",attrs:{span:4}},[a("j-select-corp",{attrs:{baseType:"02",multi:!1,disabled:""},model:{value:e.model.environCode,callback:function(t){e.$set(e.model,"environCode",t)},expression:"model.environCode"}})],1),a("a-col",{attrs:{span:4}},[e._v("业委会")]),a("a-col",{staticClass:"zdyClass",attrs:{span:4}},[a("j-select-corp",{attrs:{baseType:"11",multi:!1,disabled:""},model:{value:e.model.ownersCode,callback:function(t){e.$set(e.model,"ownersCode",t)},expression:"model.ownersCode"}})],1)],1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("a-button",{staticStyle:{"margin-right":".8rem"},attrs:{loading:e.confirmLoading},on:{click:e.handleCancel}},[e._v("关闭")]),a("a-button",{staticStyle:{"margin-right":".8rem"},attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.showAuditModal}},[e._v("审核")]),a("a-button",{attrs:{loading:e.confirmLoading},on:{click:e.showRepulseModal}},[e._v("打回")])],1)],2),a("a-modal",{attrs:{visible:e.visibleRepulse,title:e.repulseTitle,okText:"确认","cancel-text":"取消"},on:{cancel:e.handleRepulseCancel,ok:e.handleRepulseOk}},[a("a-form-model",{ref:"revokeForm",attrs:{model:e.revokeModel,rules:e.revokeReasonRules}},[a("a-form-model-item",{attrs:{label:"打回原因",prop:"revokeReason"}},[a("a-textarea",{attrs:{placeholder:"请输入打回原因",rows:4},model:{value:e.revokeModel.revokeReason,callback:function(t){e.$set(e.revokeModel,"revokeReason",t)},expression:"revokeModel.revokeReason"}})],1)],1)],1),a("a-modal",{attrs:{title:"审核",visible:e.visibleAudit,"confirm-loading":e.confirmLoading},on:{ok:e.handleAuditOk,cancel:e.handleAuditCancel}},[a("p",[e._v(e._s(e.ModalText))])])]],2)},l=[],n=a("9b33"),r=a("5b5b"),s=a("0a5e"),i=a("78ac"),c=a("ac0d"),d=a("3af7"),u={name:"BldInfoModal",mixins:[c["a"],c["b"],s["a"],n["BldInfoModal"]],components:{Modify:r["default"],VTable:d["default"],JModal:i["default"]}},p=u,f=(a("6ae0"),a("2877")),m=Object(f["a"])(p,o,l,!1,null,"4d896fda",null);t["default"]=m.exports},ef87:function(e,t,a){"use strict";a("47ac")},f022:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{ref:"corpInfoDrawerew",staticStyle:{height:"100%",overflow:"auto","padding-bottom":"53px"},attrs:{title:e.title,maskClosable:!0,width:e.drawerWidth,placement:"right",closable:!0,visible:e.visible},on:{close:e.handleCancel}},[a("div",{staticClass:"navTitle"},[a("a-tabs",{on:{change:e.checkModel}},[a("a-tab-pane",{key:"baseInfo",attrs:{tab:"基本信息"}}),a("a-tab-pane",{key:"accountInfo",attrs:{tab:"收款账户"}}),e.fileIsNull?e._e():a("a-tab-pane",{key:"uploadFile",attrs:{tab:"附件上传"}})],1)],1),a("div",{staticClass:"scroll",staticStyle:{width:"100%","overflow-y":"auto",height:"80vh"}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("j-form-container",{attrs:{border:!1}},[a("a-collapse",{attrs:{expandIconPosition:"right",id:"baseInfo"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 基本信息 ")])])]},proxy:!0}])},[a("a-row",{staticClass:"maintainInfo",attrs:{type:"flex"}},[a("a-col",{attrs:{span:4}},[e._v("单位类型")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.baseType_dictText)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("单位名称")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.name)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("单位编号")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.code)+"\n              ")]),"12"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("所属办事处")]):e._e(),"12"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.officeName)+"\n              ")]):e._e(),"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("所属单位")]):e._e(),"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.orgName)+"\n              ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("单位地址")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.address)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("成立日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.foundDate)+"\n              ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("法人代表")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.chargeName)+"\n              ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("统一社会信用代码")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.license)+"\n              ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("营业执照有效期")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.validDate1)+"\n              ")]):e._e(),"03"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("维修范围")]):e._e(),"03"==e.model.baseType?a("a-col",{attrs:{span:20}},[a("scope-maintenance",{attrs:{fstbuScope:e.model.fstbuScope,disabled:!0},model:{value:e.model.fstbuScopeData,callback:function(t){e.$set(e.model,"fstbuScopeData",t)},expression:"model.fstbuScopeData"}})],1):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("第几届")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.whichSession)+"\n              ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("到届日期")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.arrivalDate)+"\n              ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("业委会/社区主任")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.chargeName)+"\n              ")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("主任手机号")]):e._e(),"04"==e.model.baseType||"11"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.chargePhone)+"\n              ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("联系人")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.linkMan)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("联系电话")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.phone)+"\n              ")]),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("企业网址")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.website)+"\n              ")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:4}},[e._v("邮箱")]):e._e(),"01"==e.model.baseType||"02"==e.model.baseType||"03"==e.model.baseType||"05"==e.model.baseType||"06"==e.model.baseType?a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.email)+"\n              ")]):e._e(),a("a-col",{attrs:{span:4}},[e._v("申请日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.createTime)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("备案人")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.recOper)+"\n              ")]),a("a-col",{attrs:{span:4}},[e._v("备案日期")]),a("a-col",{attrs:{span:8}},[e._v("\n                "+e._s(e.model.recTime)+"\n              ")])],1)],1)],1),a("a-collapse",{attrs:{expandIconPosition:"right",id:"accountInfo"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"2",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 收款账户信息 ")])])]},proxy:!0}])},[a("account-info-modal",{ref:"accountInfo",attrs:{showTitle:!1,disabled:!0}})],1)],1),a("a-collapse",{directives:[{name:"show",rawName:"v-show",value:!e.fileIsNull,expression:"!fileIsNull"}],attrs:{expandIconPosition:"right",id:"uploadFile"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"2",scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",[e._v(" 附件上传 ")])])]},proxy:!0}])},[a("type-attachment-upload",{ref:"fileupload",attrs:{isShowHeader:!1,id:"uploadFile",busiType:"70",busiTypeDetail:"7003",busiNo:e.model.id,isDetail:!0,headerStyle:{borderBottom:"1px solid #d9d9d9",backgroundColor:"#fafafa"}},on:{change:e.getFileList,fileTypeIsNull:function(t){e.fileIsNull=!0}}})],1)],1)],1)],1)],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{staticStyle:{"margin-right":"0.8rem"},attrs:{type:"primary",icon:"database",loading:e.confirmLoading},on:{click:e.handleRecordOk}},[e._v("同意")]),a("a-button",{attrs:{loading:e.confirmLoading,icon:"rollback"},on:{click:e.showBackModal}},[e._v("不同意")])],1),a("a-modal",{attrs:{visible:e.visibleBack,title:e.backTitle,confirmLoading:e.confirmLoading,okText:"确认","cancel-text":"取消",okButtonProps:{props:{icon:"check"}},cancelButtonProps:{props:{icon:"close"}}},on:{cancel:e.handleBackCancel,ok:e.handleBackOk}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",{ref:"backForm",attrs:{model:e.backModel,layout:"vertical",rules:e.backValidatorRules}},[a("a-form-model-item",{attrs:{label:"审批意见",prop:"backResult"}},[a("a-textarea",{attrs:{placeholder:"请输入审批意见",rows:4,maxLength:300},model:{value:e.backModel.backResult,callback:function(t){e.$set(e.backModel,"backResult",t)},expression:"backModel.backResult"}})],1)],1)],1)],1),a("a-modal",{attrs:{title:"备案",visible:e.visibleRecord,"confirm-loading":e.confirmLoading,okButtonProps:{props:{icon:"check"}},cancelButtonProps:{props:{icon:"close"}}},on:{ok:e.handleRecordOk,cancel:e.handleRecordCancel}},[a("p",[e._v(e._s(e.ModalText))])])],1)},l=[],n=a("9fbd"),r=a("4bf9"),s=a("17c8"),i=a("3130"),c={name:"RCorpInfoRecord",components:{ScopeMaintenance:i["default"],TypeAttachmentUpload:n["default"],AccountInfoModal:r["default"]},mixins:[s["CorpInfoRecord"]]},d=c,u=(a("db12"),a("2877")),p=Object(u["a"])(d,o,l,!1,null,"0efdbd2f",null);t["default"]=p.exports},f2a1:function(e,t,a){},f520:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("j-modal",{attrs:{title:"自然幢变更",width:1400,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭",okText:"确认变更"},on:{ok:e.toChange,cancel:e.close}},[a("a-spin",{ref:"spinRef",staticStyle:{height:"100%"},attrs:{spinning:!1}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 基本信息 ")])])]},proxy:!0}])},[a("bld-base-info-comp",{ref:"baseInfoComp",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,disabled:!1,"change-disabled":!0,isDistrict:e.isDistrict},on:{update:e.updateModel}})],1)],1),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 变更信息 ")])])]},proxy:!0}])},[a("a-form-model",{ref:"form",attrs:{model:e.model,rules:e.validatorRules}},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:2}},[a("span",{staticClass:"requiredText"},[e._v("*")]),e._v("变更原因")]),a("a-col",{attrs:{span:22}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeReason",label:"变更原因"}},[a("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:3},rows:3,placeholder:"请输入变更原因",maxLength:150},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"5059"},on:{change:e.getFileList}})],1)],1),e.checkSign?[a("a-spin",{ref:"spinRef",staticStyle:{height:"100%"},attrs:{spinning:!1}},[a("bld-base-info-comp",{ref:"baseInfoComp",staticClass:"baseInfo",attrs:{model:e.model,validatorRules:e.validatorRules,labelCol:e.labelCol,wrapperCol:e.wrapperCol,disabled:!0},on:{update:e.updateModel}}),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 变更信息 ")])])]},proxy:!0}],null,!1,3707583208)},[a("j-form-container",{attrs:{disabled:!0}},[a("a-form-model",{ref:"form",attrs:{slot:"edit",model:e.model,rules:e.disabled?{}:e.validatorRules},slot:"edit"},[a("a-row",{staticClass:"houseInfo"},[a("a-col",{attrs:{span:e.formCol.label}},[e._v("变更人")]),a("a-col",{attrs:{span:e.formCol.value}},[a("a-form-model-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changePerson",label:"变更人"}},[a("a-input",{attrs:{placeholder:"",disabled:e.disabled},model:{value:e.model.changePerson,callback:function(t){e.$set(e.model,"changePerson",t)},expression:"model.changePerson"}})],1)],1),a("a-col",{attrs:{span:e.formCol.label}},[e._v("变更日期")]),a("a-col",{attrs:{span:24-(2*e.formCol.label+e.formCol.value)}},[a("a-form-model-item",{attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeTime",label:"变更日期"}},[a("a-input",{attrs:{placeholder:"",disabled:e.disabled},model:{value:e.model.changeTime,callback:function(t){e.$set(e.model,"changeTime",t)},expression:"model.changeTime"}})],1)],1),a("a-col",{attrs:{span:e.formCol.label}},[e._v("变更原因")]),a("a-col",{attrs:{span:24-e.formCol.label}},[a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{labelCol:{span:0},wrapperCol:{span:24},prop:"changeReason",label:"变更原因"}},[a("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:3},rows:3,placeholder:"请输入变更原因",maxLength:150,disabled:e.disabled},model:{value:e.model.changeReason,callback:function(t){e.$set(e.model,"changeReason",t)},expression:"model.changeReason"}})],1)],1)],1)],1)],1)],1)],1),a("type-attachment-upload",{ref:"fileupload",attrs:{busiType:"50",busiTypeDetail:"5059",busiNo:e.model.reqNo,"is-detail":!0},on:{change:e.getFileList}})],1)]:e._e()],2)},l=[],n=a("b98c"),r=a("0fea"),s=a("9fbd"),i={name:"BldInfoChangeModal",components:{BldBaseInfoComp:n["default"],TypeAttachmentUpload:s["default"]},data:function(){return{visible:!1,model:{},labelCol:{span:0},wrapperCol:{span:24},confirmLoading:!1,validatorRules:{name:[{required:!0,message:"请输入自然幢名称!"}],address:[{required:!0,message:"请输入自然幢位置!"}],bldType:[{required:!0,message:"请选择自然幢类型!"}],houseAttr:[{required:!0,message:"请选择房屋性质!"}],overFloor:[{required:!0,message:"请输入地上楼层数!"}],underFloor:[{required:!0,message:"请输入地下楼层数!"}],nextNodeNum:[{required:!0,message:"请输入单元数!"}],changeReason:[{required:!0,message:"请填写变更原因"},{max:150,message:"变更原因长度不能超过50位！"}],districtId:[{required:!0,message:"请选择分区信息!"}]},url:{toChange:"/base/rBldInfo/toChange"},activeKey:["1"],fileIdList:[],checkSign:!1,formCol:{label:2,value:6},disabled:!1,isDistrict:!1}},provide:function(){var e=this;return{getContainer:function(){return e.$refs.spinRef.$el}}},methods:{getFileList:function(e){if(this.fileIdList=[],e){var t=this;e.forEach((function(e){t.fileIdList.push(e.id)}))}},updateModel:function(e){this.model=e},close:function(){this.$emit("close"),this.checkSign=!1,this.visible=!1},change:function(e){var t=this;this.model=Object.assign({},e),this.$nextTick((function(){t.$refs.fileupload.initData()})),this.visible=!0},setFormCol:function(){var e=this.$refs.form.$el.clientWidth;this.formCol=e<1e3?{label:4,value:8}:{label:2,value:6}},check:function(e){var t=this;this.checkSign=!0,this.model=Object.assign({},e),this.$nextTick((function(){t.setFormCol(),t.$refs.fileupload.initData()}))},toChange:function(){var e=this,t=this;this.$refs.baseInfoComp.$refs.form.validate((function(a){if(a){if(!e.$refs.fileupload.checkData())return!1;e.$refs.form.validate((function(a){a&&(t.confirmLoading=!0,e.model.fileIdList=e.fileIdList,Object(r["j"])(e.url.toChange,e.model).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()})))}))}}))},compare:function(e,t){if(e&&t){var a=new Date(a),o=new Date(o);return a>o}return!1}}},c=i,d=(a("9836"),a("2877")),u=Object(d["a"])(c,o,l,!1,null,"0119812a",null);t["default"]=u.exports},f5e5:function(e,t,a){},f94c:function(e,t,a){},f987:function(e,t,a){"use strict";a("f5e5")},f9f2:function(e,t,a){},fb47:function(e,t,a){},fca6:function(e,t,a){"use strict";a("dbb9")},fcdd:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("JModal",{staticClass:"shortcutOperation_modal",attrs:{visible:e.visible,switchFullscreen:!0,"body-style":{height:"calc(100% - 55px)"},width:1200,footer:null},on:{cancel:e.cancelModal},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n      维护自然幢\n      "),e.pageName?a("span",{staticClass:"fastActionPageName"},[e._v(" > ")]):e._e(),e._v("\n      "+e._s(e.pageName?e.pageName:"")+"\n    ")]},proxy:!0}])},[["1"===e.pageNum?[a("div",{staticClass:"businessCom"},[a("div",{staticClass:"businessCom_table"},[a("a-form-model",{ref:"form",attrs:{model:e.model,rules:e.validatorRules}},[a("a-row",[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"name",label:"自然幢名称"}},[a("a-input",{attrs:{placeholder:"请输入自然幢名称"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"address",label:"自然幢位置"}},[a("a-input",{attrs:{placeholder:"请输入自然幢位置"},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"bldType",label:"自然幢类型"}},[a("a-select",{attrs:{placeholder:"请选择自然幢类型"},model:{value:e.model.bldType,callback:function(t){e.$set(e.model,"bldType",t)},expression:"model.bldType"}},[a("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.bldTypeOptions,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.value}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n                          "+e._s(t.text||t.label)+"\n                        ")])])}))],2)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"有无电梯"}},[a("a-switch",{attrs:{checkedChildren:"有",unCheckedChildren:"无"},on:{change:e.onLiftFlagChange},model:{value:e.visibleCheck,callback:function(t){e.visibleCheck=t},expression:"visibleCheck"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"bankCode",label:"承办银行"}},[a("j-dict-bank-list-select",{attrs:{"show-icon":"",placeholder:"请选择承办银行"},model:{value:e.model.bankCode,callback:function(t){e.$set(e.model,"bankCode",t)},expression:"model.bankCode"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"houseAttr",label:"房屋性质"}},[a("a-select",{attrs:{placeholder:"请选择房屋性质"},model:{value:e.model.houseAttr,callback:function(t){e.$set(e.model,"houseAttr",t)},expression:"model.houseAttr"}},[a("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.houseAttrOptions,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.value}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n                          "+e._s(t.text||t.label)+"\n                        ")])])}))],2)],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"attr",label:"结构属性"}},[a("a-select",{attrs:{placeholder:"请选择结构属性"},model:{value:e.model.attr,callback:function(t){e.$set(e.model,"attr",t)},expression:"model.attr"}},[a("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.attrOptions,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.value}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n                          "+e._s(t.text||t.label)+"\n                        ")])])}))],2)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"overFloor",label:"地上楼层数"}},[a("a-input-number",{attrs:{min:0,precision:0},on:{blur:e.changeBldType},model:{value:e.model.overFloor,callback:function(t){e.$set(e.model,"overFloor",t)},expression:"model.overFloor"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"underFloor",label:"地下楼层数"}},[a("a-input-number",{attrs:{min:0,precision:0},model:{value:e.model.underFloor,callback:function(t){e.$set(e.model,"underFloor",t)},expression:"model.underFloor"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"nextNodeNum",label:"单元数"}},[a("a-input-number",{attrs:{min:0,precision:0},model:{value:e.model.nextNodeNum,callback:function(t){e.$set(e.model,"nextNodeNum",t)},expression:"model.nextNodeNum"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"buildDate",label:"开工日期"}},[a("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择开工日期"},model:{value:e.model.buildDate,callback:function(t){e.$set(e.model,"buildDate",t)},expression:"model.buildDate"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"finishDate",label:"竣工日期"}},[a("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择开工日期"},model:{value:e.model.finishDate,callback:function(t){e.$set(e.model,"finishDate",t)},expression:"model.finishDate"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"deliverDate",label:"交付日期"}},[a("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择开工日期"},model:{value:e.model.deliverDate,callback:function(t){e.$set(e.model,"deliverDate",t)},expression:"model.deliverDate"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"sortType",label:"房屋名称规则"}},[a("a-select",{attrs:{placeholder:"请选择房屋名称规则"},model:{value:e.model.sortType,callback:function(t){e.$set(e.model,"sortType",t)},expression:"model.sortType"}},e._l(e.sortTypeOptions,(function(t,o){return a("a-select-option",{key:o,attrs:{value:t.value}},[a("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.text||t.label}},[e._v("\n                          "+e._s(t.text||t.label)+"\n                        ")])])})),1)],1)],1)],1),a("a-row",["09"==e.model.houseAttr?a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"publicCode",label:"公房单位"}},[a("j-select-corp",{attrs:{placeholder:"请选择公房单位",baseType:"09",multi:!1},model:{value:e.model.publicCode,callback:function(t){e.$set(e.model,"publicCode",t)},expression:"model.publicCode"}})],1)],1):e._e(),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"developCode",label:"开发单位"}},[a("j-select-corp",{attrs:{placeholder:"请选择开发单位",baseType:"01",multi:!1},model:{value:e.model.developCode,callback:function(t){e.$set(e.model,"developCode",t)},expression:"model.developCode"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"environCode",label:"物业单位"}},[a("j-select-corp",{attrs:{placeholder:"请选择物业服务企业",baseType:"02",multi:!1},model:{value:e.model.environCode,callback:function(t){e.$set(e.model,"environCode",t)},expression:"model.environCode"}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-model-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"ownersCode",label:"业委会"}},[a("j-select-corp",{attrs:{placeholder:"请选择业委会",baseType:"11",multi:!1},model:{value:e.model.ownersCode,callback:function(t){e.$set(e.model,"ownersCode",t)},expression:"model.ownersCode"}})],1)],1)],1)],1),a("a-space",{staticClass:"buttonGroup"},[a("a-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.handleOk()}}},[e._v("下一步")])],1)],1)])]:e._e(),"2"===e.pageNum?[a("a-spin",{staticClass:"comSpinLoading",attrs:{spinning:e.comLoading,tip:"页面加载中，请稍后..."}},[a(e.comPage,{ref:"editModal",tag:"component",staticClass:"pageCom",attrs:{business:e.selectedRows},on:{cancelModal:e.cancelModal,bankList:e.pageChange,previousStep:e.previousStep,nextStep:e.nextStep,stopLoading:e.stopLoading}})],1)]:e._e()]],2)],1)},l=[],n=a("9b33"),r=a("0a5e"),s=a("78ac"),i=a("ac0d"),c=a("3af7"),d=a("25ea"),u=a("c0f9"),p=a("6c08"),f=a("3269"),m={name:"BldInfoModal",mixins:[i["a"],i["b"],r["a"],n["BldInfoModal"]],components:{JDictBankListSelect:f["default"],CellInfoModal:d["default"],VTable:c["default"],JModal:s["default"],HouseInfoModal:u["default"],BldInfoArchives:p["default"]}},h=m,b=(a("fca6"),a("2877")),v=Object(b["a"])(h,o,l,!1,null,"a921d62e",null);t["default"]=v.exports},fde5:function(e,t,a){"use strict";a("2520")},fe2b5:function(e,t,a){"use strict";a("2154")},ff43:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:e.title,maskClosable:!0,width:1044,placement:"right",destroyOnClose:"",closable:!0,visible:e.visible,"body-style":{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px"}},on:{close:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 业主信息 ")])])]},proxy:!0}])},[a("j-form-container",{attrs:{border:!1}},[a("a-row",{ref:"formCorpRow",staticClass:"houseInfo",attrs:{slot:"detail",type:"flex"},slot:"detail"},[a("a-col",{attrs:{span:4}},[e._v("业主姓名")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.psnName)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("联系电话")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.psnPhone)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("证件类型")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.psnCertType_dictText)+"\n            ")]),a("a-col",{attrs:{span:4}},[e._v("证件号码")]),a("a-col",{attrs:{span:8}},[e._v("\n              "+e._s(e.model.psnCertNo)+"\n            ")])],1)],1)],1)],1),a("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},[a("a-collapse-panel",{key:"1",staticStyle:{"background-color":"#fff"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"title marginTop10"},[a("span",{staticClass:"collapseTitle"},[e._v(" 房屋信息 ")])])]},proxy:!0}])},[a("div",[a("vxe-table",{ref:"xTable",attrs:{border:"","show-footer":"","show-overflow":"",resizable:"","highlight-hover-row":"",data:e.loadData,"header-align":"center","cell-style":e.cellStyle,align:"center"}},[a("vxe-table-column",{attrs:{field:"propertyName",title:"小区",width:"200"}}),a("vxe-table-column",{attrs:{field:"corpName",title:"自然幢"}}),a("vxe-table-column",{attrs:{field:"cellName",title:"单元"}}),a("vxe-table-column",{attrs:{field:"address",width:"400",title:"房屋位置"}}),a("vxe-table-column",{attrs:{field:"struArea",width:"120",title:"建筑面积(m²)",formatter:function(t){var a=t.cellValue;return e.formatterAmount(a,3)}}}),a("vxe-table-column",{attrs:{field:"houseUse_dictText",title:"房屋用途"}})],1)],1)])],1)],1),a("div",{staticClass:"drawer-bootom-button"},[a("a-button",{attrs:{type:"primary",loading:e.confirmLoading},on:{click:e.handleCancel}},[a("em",{staticClass:"el-icon-circle-close"}),e._v("关闭")])],1)],1)},l=[],n=a("9fbd"),r=a("3ed7"),s=a("f0b1"),i={name:"ColAccPsnInfoDetail",methods:{formatterAmount:r["g"]},components:{TypeAttachmentUpload:n["default"]},mixins:[s["ColAccPsnInfoDetail"]]},c=i,d=(a("e050"),a("2877")),u=Object(d["a"])(c,o,l,!1,null,"021a8aae",null);t["default"]=u.exports}}]);