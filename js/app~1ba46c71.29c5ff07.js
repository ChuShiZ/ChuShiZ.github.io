(window["webpackJsonp_joinsoft-v9"]=window["webpackJsonp_joinsoft-v9"]||[]).push([["app~1ba46c71"],{"004c":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("page-layout",{attrs:{avatar:t.avatar}},[r("div",{attrs:{slot:"headerContent"},slot:"headerContent"},[r("div",{staticClass:"title"},[t._v(t._s(t.timeFix)+"，"+t._s(t.nickname())),r("span",{staticClass:"welcome-text"},[t._v("，"+t._s(t.welcome()))])]),r("div",[t._v("前端工程师 | 蚂蚁金服 - 某某某事业群 - VUE平台")])]),r("div",{attrs:{slot:"extra"},slot:"extra"},[r("a-row",{staticClass:"more-info"},[r("a-col",{attrs:{span:8}},[r("head-info",{attrs:{title:"项目数",content:"56",center:!1,bordered:!1}})],1),r("a-col",{attrs:{span:8}},[r("head-info",{attrs:{title:"团队排名",content:"8/24",center:!1,bordered:!1}})],1),r("a-col",{attrs:{span:8}},[r("head-info",{attrs:{title:"项目访问",content:"2,223",center:!1}})],1)],1)],1),r("div",[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{xl:16,lg:24,md:24,sm:24,xs:24}},[r("a-card",{staticClass:"project-list",staticStyle:{"margin-bottom":"24px"},attrs:{loading:t.loading,bordered:!1,title:"进行中的项目","body-style":{padding:0}}},[r("a",{attrs:{slot:"extra"},slot:"extra"},[t._v("全部项目")]),r("div",t._l(t.projects,(function(e,n){return r("a-card-grid",{key:n,staticClass:"project-card-grid"},[r("a-card",{attrs:{bordered:!1,"body-style":{padding:0}}},[r("a-card-meta",[r("div",{staticClass:"card-title",attrs:{slot:"title"},slot:"title"},[r("a-avatar",{attrs:{size:"small",src:e.cover}}),r("a",[t._v(t._s(e.title))])],1),r("div",{staticClass:"card-description",attrs:{slot:"description"},slot:"description"},[t._v("\n                    "+t._s(e.description)+"\n                  ")])]),r("div",{staticClass:"project-item"},[r("a",{attrs:{href:"/#/"}},[t._v("科学搬砖组")]),r("span",{staticClass:"datetime"},[t._v("9小时前")])])],1)],1)})),1)]),r("a-card",{attrs:{loading:t.loading,title:"动态",bordered:!1}},[r("a-list",t._l(t.activities,(function(e,n){return r("a-list-item",{key:n},[r("a-list-item-meta",[r("a-avatar",{attrs:{slot:"avatar",src:e.user.avatar},slot:"avatar"}),r("div",{attrs:{slot:"title"},slot:"title"},[r("span",[t._v(t._s(e.user.nickname))]),t._v(" \n                  在 "),r("a",{attrs:{href:"#"}},[t._v(t._s(e.project.name))]),t._v(" \n                  "),r("span",[t._v(t._s(e.project.action))]),t._v(" \n                  "),r("a",{attrs:{href:"#"}},[t._v(t._s(e.project.event))])]),r("div",{attrs:{slot:"description"},slot:"description"},[t._v(t._s(e.time))])],1)],1)})),1)],1)],1),r("a-col",{staticStyle:{padding:"0 12px"},attrs:{xl:8,lg:24,md:24,sm:24,xs:24}},[r("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[r("div",{staticClass:"item-group"},[r("a",[t._v("操作一")]),r("a",[t._v("操作二")]),r("a",[t._v("操作三")]),r("a",[t._v("操作四")]),r("a",[t._v("操作五")]),r("a",[t._v("操作六")]),r("a-button",{attrs:{size:"small",type:"primary",ghost:"",icon:"plus"}},[t._v("添加")])],1)]),r("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"XX 指数",loading:t.radarLoading,bordered:!1,"body-style":{padding:0}}},[r("div",{staticStyle:{"min-height":"400px"}},[r("radar",{attrs:{data:t.radarData}})],1)]),r("a-card",{attrs:{loading:t.loading,title:"团队",bordered:!1}},[r("div",{staticClass:"members"},[r("a-row",t._l(t.teams,(function(e,n){return r("a-col",{key:n,attrs:{span:12}},[r("a",[r("a-avatar",{attrs:{size:"small",src:e.avatar}}),r("span",{staticClass:"member"},[t._v(t._s(e.name))])],1)])})),1)],1)])],1)],1)],1)])},a=[],o=r("ca00"),i=r("2f62"),s=r("b445"),c=r("81d1"),l=r("3981"),u=r("0fea");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t){var e=y(t,"string");return"symbol"==f(e)?e:e+""}function y(t,e){if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var v=r("7104"),g={name:"Workplace",components:{PageLayout:s["default"],HeadInfo:c["default"],Radar:l["default"]},data:function(){return{timeFix:Object(o["u"])(),avatar:"",user:{},projects:[],loading:!0,radarLoading:!0,activities:[],teams:[],axis1Opts:{dataKey:"item",line:null,tickLine:null,grid:{lineStyle:{lineDash:null},hideFirstLine:!1}},axis2Opts:{dataKey:"score",line:null,tickLine:null,grid:{type:"polygon",lineStyle:{lineDash:null}}},scale:[{dataKey:"score",min:0,max:80}],axisData:[{item:"引用",a:70,b:30,c:40},{item:"口碑",a:60,b:70,c:40},{item:"产量",a:50,b:60,c:40},{item:"贡献",a:40,b:50,c:40},{item:"热度",a:60,b:70,c:40},{item:"引用",a:70,b:50,c:40}],radarData:[]}},computed:{userInfo:function(){return this.$store.getters.userInfo}},created:function(){this.user=this.userInfo,this.avatar=Object(u["f"])(this.userInfo.avatar),Object(u["g"])().then((function(t){})),Object(u["h"])().then((function(t){}))},mounted:function(){this.getProjects(),this.getActivity(),this.getTeams(),this.initRadar()},methods:h(h({},Object(i["c"])(["nickname","welcome"])),{},{getProjects:function(){var t=this;this.$http.get("/mock/api/list/search/projects").then((function(e){t.projects=e.result&&e.result.data,t.loading=!1}))},getActivity:function(){var t=this;this.$http.get("/mock/api/workplace/activity").then((function(e){t.activities=e.result}))},getTeams:function(){var t=this;this.$http.get("/mock/api/workplace/teams").then((function(e){t.teams=e.result}))},initRadar:function(){var t=this;this.radarLoading=!0,this.$http.get("/mock/api/workplace/radar").then((function(e){var r=(new v.View).source(e.result);r.transform({type:"fold",fields:["个人","团队","部门"],key:"user",value:"score"}),t.radarData=r.rows,t.radarLoading=!1}))}})},b=g,w=(r("e176"),r("2877")),x=Object(w["a"])(b,n,a,!1,null,"4536b257",null);e["default"]=x.exports},"03c9":function(t,e,r){},"0a02":function(t,e,r){"use strict";r("4b8e")},"0b56":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._v("\n  Monitor\n")])},a=[],o={name:"Monitor"},i=o,s=r("2877"),c=Object(s["a"])(i,n,a,!1,null,"6067c72f",null);e["default"]=c.exports},"0c7d":function(t,e,r){"use strict";r("f372")},"0d99d":function(t,e,r){},"0e87":function(t,e,r){},"0ec6":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index-container-ty"},[n("a-spin",{attrs:{spinning:t.loading}},[n("a-row",{attrs:{type:"flex",justify:"start",gutter:3}},[n("a-col",{attrs:{sm:24,lg:12}},[n("a-card",[n("div",{staticClass:"index-md-title",attrs:{slot:"title"},slot:"title"},[n("img",{attrs:{src:r("8cf3")}}),t._v("\n            我的待办【"+t._s(t.dataSource1.length)+"】\n          ")]),n("div",{attrs:{slot:"extra"},slot:"extra"},[t.dataSource1&&t.dataSource1.length>0?n("a",{attrs:{slot:"footer"},on:{click:t.goPage},slot:"footer"},[t._v("更多 "),n("a-icon",{attrs:{type:"double-right"}})],1):t._e()]),n("a-table",{ref:"table1",class:"my-index-table tytable1",attrs:{size:"small",rowKey:"id",columns:t.columns,dataSource:t.dataSource1,pagination:!1},scopedSlots:t._u([{key:"ellipsisText",fn:function(e){return[n("j-ellipsis",{attrs:{value:e,length:t.textMaxLength}})]}},{key:"dayWarnning",fn:function(e,r){return[n("a-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"bulb",theme:"twoTone",twoToneColor:t.getTipColor(r)}})]}},{key:"action",fn:function(e,r){return n("span",{},[n("a",{on:{click:t.handleData}},[t._v("办理")])])}}])})],1)],1),n("a-col",{attrs:{sm:24,lg:12}},[n("a-card",[n("div",{staticClass:"index-md-title",attrs:{slot:"title"},slot:"title"},[n("img",{attrs:{src:r("c612")}}),t._v("\n            我的在办【"+t._s(t.dataSource2.length)+"】\n          ")]),n("div",{attrs:{slot:"extra"},slot:"extra"},[t.dataSource2&&t.dataSource2.length>0?n("a",{attrs:{slot:"footer"},on:{click:t.goPage},slot:"footer"},[t._v("更多 "),n("a-icon",{attrs:{type:"double-right"}})],1):t._e()]),n("a-table",{ref:"table2",class:"my-index-table tytable2",attrs:{size:"small",rowKey:"id",columns:t.columns,dataSource:t.dataSource2,pagination:!1},scopedSlots:t._u([{key:"ellipsisText",fn:function(e){return[n("j-ellipsis",{attrs:{value:e,length:t.textMaxLength}})]}},{key:"dayWarnning",fn:function(e,r){return[n("a-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"bulb",theme:"twoTone",twoToneColor:t.getTipColor(r)}})]}},{key:"action",fn:function(e,r){return n("span",{},[n("a",{on:{click:t.handleData}},[t._v("办理")])])}}])})],1)],1),n("a-col",{attrs:{span:24}},[n("div",{staticStyle:{height:"5px"}})]),n("a-col",{attrs:{sm:24,lg:12}},[n("a-card",[n("div",{staticClass:"index-md-title",attrs:{slot:"title"},slot:"title"},[n("img",{attrs:{src:r("4a27")}}),t._v("\n            我的挂账【"+t._s(t.dataSource4.length)+"】\n          ")]),n("a-table",{ref:"table4",class:"my-index-table tytable4",attrs:{size:"small",rowKey:"id",columns:t.columns,dataSource:t.dataSource4,pagination:!1},scopedSlots:t._u([{key:"ellipsisText",fn:function(e){return[n("j-ellipsis",{attrs:{value:e,length:t.textMaxLength}})]}},{key:"dayWarnning",fn:function(e,r){return[n("a-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"bulb",theme:"twoTone",twoToneColor:t.getTipColor(r)}})]}},{key:"action",fn:function(e,r){return n("span",{},[n("a",{on:{click:t.handleData}},[t._v("办理")])])}}])})],1)],1),n("a-col",{attrs:{sm:24,lg:12}},[n("a-card",[n("div",{staticClass:"index-md-title",attrs:{slot:"title"},slot:"title"},[n("img",{attrs:{src:r("5e65c")}}),t._v("\n            我的督办【"+t._s(t.dataSource3.length)+"】\n          ")]),n("a-table",{ref:"table3",class:"my-index-table tytable3",attrs:{size:"small",rowKey:"id",columns:t.columns,dataSource:t.dataSource3,pagination:!1},scopedSlots:t._u([{key:"ellipsisText",fn:function(e){return[n("j-ellipsis",{attrs:{value:e,length:t.textMaxLength}})]}},{key:"dayWarnning",fn:function(e,r){return[n("a-icon",{staticStyle:{"font-size":"22px"},attrs:{type:"bulb",theme:"twoTone",twoToneColor:t.getTipColor(r)}})]}},{key:"action",fn:function(e,r){return n("span",{},[n("a",{on:{click:t.handleData}},[t._v("办理")])])}}])})],1)],1)],1)],1)],1)},a=[],o=r("4099"),i=r.n(o),s=r("d579"),c=[{id:"001",orderNo:"电[1]1267102",orderTitle:"药品出问题了",restDay:1},{id:"002",orderNo:"电[4]5967102",orderTitle:"吃了xxx医院的药，病情越来越严重",restDay:0},{id:"003",orderNo:"电[3]5988987",orderTitle:"今天去超市买鸡蛋，鸡蛋都是坏的",restDay:7},{id:"004",orderNo:"电[2]5213491",orderTitle:"xx宝实体店高价售卖xx",restDay:5},{id:"005",orderNo:"电[1]1603491",orderTitle:"以红利相诱，答应退保后扣一年费用",restDay:0}],l=[{id:"001",orderTitle:"我要投诉这个大超市",orderNo:"电[1]10299456",restDay:6},{id:"002",orderTitle:"xxx医院乱开药方,售卖假药",orderNo:"电[2]20235691",restDay:0},{id:"003",orderTitle:"我想问问这家店是干啥的",orderNo:"电[3]495867322",restDay:7},{id:"004",orderTitle:"我要举报朝阳区奥森公园酒店",orderNo:"电[2]1193849",restDay:3},{id:"005",orderTitle:"我今天吃饭吃到一个石头子",orderNo:"电[4]56782344",restDay:9}],u="rgba(0, 255, 0, 1)",f="rgba(255, 255, 0, 1)",d="rgba(255, 0, 0, 1)",h={name:"IndexTask",components:{JEllipsis:s["default"]},data:function(){return{loading:!1,textMaxLength:8,dataSource1:[],dataSource2:[],dataSource3:[],dataSource4:[],columns:[{title:"",dataIndex:"",key:"rowIndex",width:50,fixed:"left",align:"center",scopedSlots:{customRender:"dayWarnning"}},{title:"剩余天数",align:"center",dataIndex:"restDay",width:80},{title:"工单标题",align:"center",dataIndex:"orderTitle",scopedSlots:{customRender:"ellipsisText"}},{title:"工单编号",align:"center",dataIndex:"orderNo"},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}]}},created:function(){this.mock()},mounted:function(){},methods:{getTipColor:function(t){var e=t.restDay;return e<=0?d:e>=1&&e<4?f:e>=4?u:void 0},goPage:function(){this.$message.success("请根据具体业务跳转页面")},mock:function(){this.dataSource1=c,this.dataSource2=l,this.dataSource3=c,this.dataSource4=[],this.ifNullDataSource(this.dataSource4,".tytable4")},ifNullDataSource:function(t,e){this.$nextTick((function(){if(!t||0==t.length){var r=document.createElement("img");r.src=i.a,r.width=300;var n="".concat(e," .ant-table-placeholder");document.querySelector(n).innerHTML="",document.querySelector(n).appendChild(r)}}))},handleData:function(){this.$message.success("办理完成")}}},p=h,m=(r("84c5"),r("2877")),y=Object(m["a"])(p,n,a,!1,null,null,null);e["default"]=y.exports},1182:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"thirdPartyHome"},[t.isBank?r("bank-home"):"01"===t.corpInfo.baseType?r("develop-home"):["03","05","06","07"].includes(t.corpInfo.baseType)?r("price-view-home"):["02","04"].includes(t.corpInfo.baseType)?r("real-estate-home"):t._e()],1)},a=[],o=r("aef2"),i=r("24e3"),s=r("cfbb"),c=r("2b0e"),l=r("9fb0"),u=r("a4ff"),f={name:"ThirdPartyHome",components:{BankHome:u["default"],RealEstateHome:s["default"],PriceViewHome:i["default"],DevelopHome:o["default"]},created:function(){this.corpInfo=c["default"].ls.get(l["e"])||{}},data:function(){return{corpInfo:{},isBank:c["default"].ls.get(l["t"])}}},d=f,h=(r("a20ea"),r("2877")),p=Object(h["a"])(d,n,a,!1,null,"a81d3490",null);e["default"]=p.exports},"11d9":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("p",[t._v(t._s(t.title))]),r("h2",[t._v("\n    "+t._s(t.total?t.total:0)+"\n    "),r("span",{staticClass:"unit"},[t._v(" "+t._s(t.unit)+" ")])]),Math.abs(t.tendency)>=0?r("div",{staticClass:"chart-trend"},[t._v("\n    较上月\n    "),r("span",{class:["trend-icon",t.trend]},[r("a-icon",{attrs:{type:"caret-"+t.trend}})],1),r("span",{class:["trend-icon",t.trend]},[t._v(t._s(t.tendency))])]):t._e()])},a=[],o={data:function(){return{}},props:{title:{required:!0},total:{required:!0},tendency:{required:!1},unit:{required:!1}},computed:{trend:function(){return this.tendency>=0?"up":"down"}}},i=o,s=(r("af79"),r("2877")),c=Object(s["a"])(i,n,a,!1,null,"2a7c80ea",null);e["default"]=c.exports},"13a6":function(t,e,r){},"15d9":function(t,e,r){},1718:function(t,e,r){"use strict";r("15d9")},"182d":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",{directives:[{name:"loading",rawName:"v-loading",value:t.dataLoading||t.chartLoading,expression:"dataLoading || chartLoading"}],staticClass:"stockChart",class:["stockChart_"+t.layout],attrs:{"body-style":{padding:"14px",height:"100%"}}},[r("div",{staticClass:"cardBody"},[r("div",{staticClass:"title"},[r("h3",{staticClass:"headline"},[t._v("存量")])]),r("ul",[r("li",[r("p",[t._v("当年("+t._s(t.currentYear)+"年"+t._s(t.currentMonth)+"月)")]),r("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(void 0==t.stockData.balanceAmount?0:t.stockData.balanceAmount,"html"))}}),r("div",[r("trend",{key:"stock"+t.trendKey,attrs:{target:t.stockData.balanceAmount,value:t.stockData.lastYearMonthBalance,term:"同比"}}),r("trend",{key:"stockYearOnYear"+t.trendKey,attrs:{target:t.stockData.balanceAmount,value:t.stockData.lastMonthBalance,term:"环比"}})],1)]),r("li",[r("p",[t._v("上年末("+t._s(t.currentYear-1)+"年12月)")]),r("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(void 0==t.stockData.lastYearBalance?0:t.stockData.lastYearBalance,"html"))}}),r("div",[r("trend",{key:"lastYearOnYear"+t.trendKey,attrs:{target:t.stockData.lastYearBalance,value:t.stockData.beforeLastYearBalance,term:"同比"}})],1)])]),r("div",{staticClass:"chart_title"},[r("div",{staticClass:"count_title headline"},[t._v("各银行占比")]),r("div",{staticClass:"time"},[r("a-radio-group",{staticStyle:{"margin-right":"10px"},attrs:{"button-style":"solid","default-value":"year"},on:{change:function(e){t.type=e.target.value,t.bankValue=""}}},t._l(t.timeData,(function(e,n){return r("a-radio-button",{key:n,attrs:{value:e.value}},[t._v("\n            "+t._s(e.name)+"\n          ")])})),1),r("el-date-picker",{key:"elDate"+t.type,staticStyle:{width:"120px"},attrs:{format:"year"===t.type?"yyyy":"yyyy-MM",placeholder:"year"===t.type?"选择年":"选择月",type:t.type,valueFormat:"year"===t.type?"yyyy":"yyyy-MM"},on:{change:function(e){return t.getBalanceDataForBank(e)}},model:{value:t.bankValue,callback:function(e){t.bankValue=e},expression:"bankValue"}})],1)]),r("div",{staticClass:"chartContainer"},[r("div",{staticClass:"lineChart",attrs:{id:"mainChart"}}),r("ul",{staticClass:"des"},t._l(t.bankList,(function(e,n){return r("li",{key:n},[r("div",{staticClass:"bank"},[r("span",{staticClass:"img"},[r("svg-icon",{attrs:{url:e.file_path}})],1),r("h3",{staticClass:"content"},[t._v(t._s(e.name))])]),r("h3",{staticClass:"moneny"},[r("span",{staticStyle:{"font-weight":"500"},domProps:{innerHTML:t._s(t.formatterAmountToMany(e.balance,"html"))}})]),r("div",{staticClass:"counts"},[t._v(t._s((e.balance/t.sumAmount*100).toFixed(2)+"%"))])])})),0)])])])},a=[],o=r("f337"),i=r("527e"),s=r("2f62"),c=r("3ed7"),l=r("0fea");function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};l(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=h(t[a],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=h(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=h(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(u(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),l(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(d(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function d(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){d(o,n,a,i,s,"next",t)}function s(t){d(o,n,a,i,s,"throw",t)}i(void 0)}))}}function p(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=m(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function m(t,e){if(t){if("string"==typeof t)return y(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=w(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){var e=x(t,"string");return"symbol"==u(e)?e:e+""}function x(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var _={name:"StockChart",components:{Trend:i["default"],SvgIcon:o["default"]},props:{sysOrgCode:{type:String,default:""},zoneCode:{type:String,default:""},compKey:{type:Number,default:0},isInit:{type:Boolean,default:!0}},computed:g({},Object(s["d"])({layout:function(t){return t.app.layout}})),created:function(){this.isInit&&this.initData(),this.$emit("mount",{width:20,height:80})},mounted:function(){this.resizeChart()},watch:{compKey:function(t){this.initData()}},data:function(){return{chartLoading:!1,dataLoading:!1,currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth()+1,bankValue:(new Date).getFullYear()+"",stockData:{},bankList:[],sumAmount:0,time:"",type:"year",timeData:[{value:"month",name:"月"},{value:"year",name:"年"}],trendKey:0,resizeObserver:null,url:{getStockData:"/statistics/analysis/queryBalanceData",balanceDataForBank:"/statistics/analysis/queryBalanceDataForBank"}}},methods:{formatterAmountToMany:c["h"],initData:function(){var t=this,e={sysOrgCode:this.sysOrgCode,zoneCode:this.zoneCode};Object(l["e"])(this.url.getStockData,e).then((function(e){e.success&&e.result&&(t.stockData=e.result,t.trendKey++)})),this.getBalanceDataForBank((new Date).getFullYear()+"")},getPieChart:function(){this.bankChart&&this.bankChart.dispose();var t=document.getElementById("mainChart");if(t){this.bankChart=echarts.init(t);var e,r={title:[{text:Object(c["h"])(this.sumAmount),subtext:"各银行总额\n(元)",textStyle:{fontSize:this.transformFontSize(18),color:"black",fontFamily:"myConttFont"},subtextStyle:{fontSize:this.transformFontSize(14),color:"#404040",fontWeight:500,fontFamily:"myTitleFont"},textAlign:"center",x:"38%",y:"40%"}],tooltip:{trigger:"item"},color:["#0099F3","#0073EF","rgba(98, 209, 154)","rgba(243, 243, 127)","rgba(255, 206, 83)","#B63FF0"],series:[{name:"银行总额",type:"pie",radius:["30%","75%"],center:["40%","50%"],roseType:"radius",label:{show:!1},data:[]}]},n=p(this.bankList);try{for(n.s();!(e=n.n()).done;){var a=e.value;r.series[0].data.push({value:Math.abs(a.balance),name:a.name})}}catch(o){n.e(o)}finally{n.f()}r&&this.bankChart.setOption(r)}},getBalanceDataForBank:function(){var t=h(f().mark((function t(e){var r,n=this;return f().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.chartLoading=!0,r={sysOrgCode:this.sysOrgCode,zoneCode:this.zoneCode,type:this.type,time:e},t.prev=3,t.next=6,Object(l["e"])(this.url.balanceDataForBank,r).then((function(t){n.bankList=t.result.bankBalanceList,n.sumAmount=0,n.bankList.forEach((function(t){n.sumAmount+=t.balance}))}));case 6:this.$nextTick((function(){n.chartLoading=!1,n.getPieChart()})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),this.chartLoading=!1;case 12:case"end":return t.stop()}}),t,this,[[3,9]])})));function e(e){return t.apply(this,arguments)}return e}(),resizeChart:function(){var t=this;this.resizeObserver=new ResizeObserver((function(e){var r,n=p(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.contentBoxSize&&t.bankChart&&t.bankChart.resize()}}catch(o){n.e(o)}finally{n.f()}})),this.resizeObserver.observe(this.$el)},transformFontSize:function(t){var e=window.screen.width,r=e/1920;return parseInt(t*r)}},beforeDestroy:function(){this.resizeObserver.disconnect()}},C=_,k=(r("276d"),r("2877")),S=Object(k["a"])(C,n,a,!1,null,"22d31966",null);e["default"]=S.exports},"1c67":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("home-card",{attrs:{"header-title":"交存统计"}},[r("div",{staticClass:"depositTotal"},t._l(t.depositTotal,(function(e,n){return r("div",{key:"depositTotal"+n,staticClass:"data-item"},[r("em",{staticClass:"data-item-icon",class:e.icon}),r("div",[r("p",{staticClass:"data-item-value"},[t._v(t._s(e.value))]),r("p",{staticClass:"data-item-label"},[t._v(t._s(e.label))])])])})),0)])},a=[],o=r("bc7a"),i=r("0fea");function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};f(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,c){var l=h(t[a],t,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=h(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=h(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),f(j.prototype,l,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(d(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),f(S,u,"Generator"),f(S,i,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function l(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){l(o,n,a,i,s,"next",t)}function s(t){l(o,n,a,i,s,"throw",t)}i(void 0)}))}}var f={name:"DepositTotal",components:{HomeCard:o["default"]},created:function(){this.getDeposits()},data:function(){return{depositTotal:[{label:"小区备案数",value:0,icon:"el-icon-office-building"},{label:"已交户数",value:0,icon:"el-icon-s-finance"},{label:"未交户数",value:0,icon:"el-icon-price-tag"},{label:"不足30%户数",value:0,icon:"el-icon-discount"}],url:{getRegionList:"/base/rRegionInfo/list",getDeposits:"/home/getRegionDepositInfo"}}},methods:{getDeposits:function(){var t=u(c().mark((function t(){var e=this;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["e"])(this.url.getRegionList,{state:"0"}).then((function(t){t.success&&(e.depositTotal[0].value=t.result.total)}));case 2:return t.next=4,Object(i["e"])(this.url.getDeposits).then((function(t){t.success&&(e.depositTotal[1].value=t.result.paidHouseNums||0,e.depositTotal[2].value=t.result.unPaidHouseNums||0,e.depositTotal[3].value=t.result.notThreeNums||0)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},d=f,h=(r("5c966"),r("2877")),p=Object(h["a"])(d,n,a,!1,null,"636c8871",null);e["default"]=p.exports},"1dff":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"check_modal"},[n("div",{staticClass:"check_title"},[n("img",{staticStyle:{"margin-right":"8px"},attrs:{alt:"",src:r("bebc")}}),n("span",[t._v(t._s(t.dataSource.name?t.dataSource.name:"退款申请"))]),n("button",{staticClass:"ant-drawer-close",on:{click:t.cancelFn}},[n("a-icon",{attrs:{type:"close"}})],1)]),n("div",{staticClass:"check_content"},[n("a-row",{staticStyle:{height:"0",flex:"1"}},[n("a-col",{staticStyle:{height:"100%"},attrs:{span:16}},[n("div",{staticClass:"info"},[t.dataSource.url?n(r("4b3b")("./"+t.dataSource.url).default,{ref:"refund",tag:"component",attrs:{showType:"div",checkSign:!0,isTask:!0,isProcess:!0}}):t._e()],1)]),n("a-col",{directives:[{name:"loading",rawName:"v-loading",value:t.confirmLoading,expression:"confirmLoading"}],staticStyle:{height:"100%"},attrs:{span:8}},[n("div",{staticClass:"options"},[n("a-card",{staticClass:"checkProgress",attrs:{"body-style":{paddingTop:0}}},[n("div",{staticClass:"title",staticStyle:{"margin-bottom":"14px"}},[t._v("审核进度")]),t._l(t.approveSource,(function(e,r){return n("div",{key:r,staticClass:"progress"},[n("div",{staticClass:"status"},[e.endTime?n("a-icon",{staticStyle:{color:"#4574e0"},attrs:{type:"check-circle",theme:"filled"}}):n("a-icon",{staticStyle:{color:"#fd8a2f"},attrs:{type:"clock-circle",theme:"filled"}}),n("div",{staticClass:"line"})],1),n("div",{staticClass:"detailContent"},[n("div",{staticClass:"detailHeader"},[n("div",{staticClass:"headerTitle",staticStyle:{display:"flex"}},[e.assigneeAvatar?n("div",{staticClass:"img"},[n("img",{attrs:{src:e.assigneeAvatar,alt:""}})]):n("div",{staticClass:"img"}),n("p",{staticClass:"assigneeName",attrs:{title:e.assigneeName}},[t._v(t._s(e.assigneeName))])]),n("div",{staticClass:"headerState"},[n("p",{staticClass:"checkState"},[t._v(t._s(e.taskFlow))])])]),n("div",{staticClass:"comment"},[t._v(t._s(e.comment))]),n("div",{staticClass:"time"},[t._v(t._s(e.endTime))])])])}))],2),t.showApprove?n("a-card",{staticClass:"checkOptions",attrs:{"body-style":{paddingBottom:0}}},[n("div",{staticClass:"title"},[t._v("审核项目")]),n("a-row",{staticStyle:{"margin-top":"14px"}},[n("a-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[n("span",{class:1===t.approveInfo.selected?"select":"radioOption",on:{click:function(e){return t.flagChange(1)}}},[t._v("同意")])]),n("a-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[n("span",{class:3===t.approveInfo.selected?"select":"radioOption",on:{click:function(e){return t.flagChange(3)}}},[t._v("不同意")])]),n("a-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[-1===(t.innerpage+"").indexOf("break")?n("span",{class:0===t.approveInfo.selected?"select":"radioOption",on:{click:function(e){return t.flagChange(0)}}},[t._v("打回")]):t._e()])],1),n("a-row",{staticStyle:{padding:"0 5px"}},[n("a-textarea",{staticStyle:{"margin-top":"14px"},attrs:{placeholder:"请输入意见","auto-size":{minRows:3,maxRows:5}},model:{value:t.approveInfo.comment,callback:function(e){t.$set(t.approveInfo,"comment",e)},expression:"approveInfo.comment"}})],1)],1):t._e()],1)])],1),t.previewVisible?n("div",{staticClass:"outer_box"},[n("previewPicture",{ref:"previewPicture",attrs:{fileNum:t.previewNum,fileList:t.previewFileList},on:{cancel:function(e){t.previewVisible=!1}}})],1):t._e(),t.showApprove?n("div",{staticClass:"theFooter"},[n("a-button",{staticClass:"closeCheckBtn",attrs:{loading:t.confirmLoading},on:{click:t.cancelFn}},[t._v("\n        关闭\n      ")]),n("a-button",{staticClass:"submitCheckBtn",attrs:{type:"primary",loading:t.confirmLoading},on:{click:t.okFn}},[t._v("\n        提交\n      ")])],1):t._e()],1)])},a=[],o=r("b7a8"),i=r("0fea"),s=r("b801");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};f(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var l=h(t[a],t,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==c(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=h(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=h(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),f(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(d(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),f(S,u,"Generator"),f(S,i,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function u(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){u(o,n,a,i,s,"next",t)}function s(t){u(o,n,a,i,s,"throw",t)}i(void 0)}))}}var d={name:"CheckModal",components:{PreviewPicture:o["default"]},mixins:[s["a"]],props:{visible:{type:Boolean,default:!1},getContainer:{type:Function,default:function(){return document.body}},innerpage:{type:String,default:""},showApprove:{type:Boolean,default:!0},pageName:{type:String,default:""}},data:function(){return{businessKey:"",confirmLoading:!1,approveInfo:{selected:1,comment:"同意"},dataSource:{},approveSource:[],previewNum:0,previewVisible:!1,previewFileList:{showList:[]}}},methods:{flagChange:function(t){this.approveInfo.selected=t,1===this.approveInfo.selected&&(this.approveInfo.comment="同意"),3===this.approveInfo.selected&&(this.approveInfo.comment="不同意"),0===this.approveInfo.selected&&(this.approveInfo.comment="打回")},initData:function(t){var e=this;this.dataSource={},this.$nextTick((function(){e.dataSource=t,e.businessKey=t.businessKey,e.$nextTick((function(){var t=e;t.$refs.refund.visible=!1,t.$refs.refund.isProcess=!0,t.$refs.refund.disableSubmit=!0,t.$refs.refund.initData(t.dataSource.variables.busiId,t.dataSource,!0),t.loadList()}))}))},loadList:function(){var t=f(l().mark((function t(){var e,r=this;return l().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["e"])("/act/taskinst/history/task/"+this.businessKey,{}).then((function(t){t.success?r.approveSource=t.result:r.$message.error("查询审批历史记录发生错误！")}));case 2:e=this,e.innerpage&&-1!==e.innerpage.indexOf("bankRequired")&&"1"==e.dataSource.variables["flag"]&&e.pageName.indexOf("jsmf/base/modules/CorpInfoDetail")<0&&(e.$refs.refund.bankRequired=!0),e.$forceUpdate();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancelFn:function(){this.$emit("update:visible",!1),this.$emit("getList")},okFn:function(){var t=f(l().mark((function t(){var e,r,n,a,o,s,c=this;return l().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.approveInfo.comment){t.next=3;break}return this.$message.warning("请输入审批意见"),t.abrupt("return");case 3:if(this.confirmLoading=!0,e=this,r=btoa(encodeURIComponent(this.approveInfo.comment)),null!=r&&""!==r&&void 0!==r&&0!==r.split(" ").join("").length||(r=btoa(encodeURIComponent(this.passHint))),1!==this.approveInfo.selected&&"1"!==this.approveInfo.selected){t.next=25;break}if(-1===(this.dataSource.editUrl+"").indexOf("edit")){t.next=25;break}if(n=!0,-1===e.innerpage.indexOf("bankRequired")){t.next=19;break}if("1"!=e.dataSource.variables["flag"]){t.next=17;break}return t.next=14,this.$refs.refund.handleOk().catch((function(){n=!1}));case 14:if(n){t.next=17;break}return this.confirmLoading=!1,t.abrupt("return");case 17:t.next=24;break;case 19:return t.next=21,this.$refs.refund.handleOk().catch((function(){n=!1}));case 21:if(n){t.next=24;break}return this.confirmLoading=!1,t.abrupt("return");case 24:this.$store.dispatch("setTodoNum");case 25:if(3!==this.approveInfo.selected&&"3"!==this.approveInfo.selected){t.next=48;break}if(this.dataSource.revokeMethod){t.next=41;break}if("jsmf/base/modules/CorpInfoDetail"!==this.dataSource.url){t.next=38;break}return a=!0,t.next=31,this.commitFLow(r).catch((function(){a=!1}));case 31:if(a){t.next=36;break}return this.confirmLoading=!1,this.$store.dispatch("setTodoNum"),this.cancelFn(),t.abrupt("return",!1);case 36:t.next=39;break;case 38:Object(i["e"])("/handle/termProcess",{taskId:this.taskId,comment:r}).then((function(t){t.success?(e.confirmLoading=!1,e.$message.success("操作成功"),c.$store.dispatch("setTodoNum"),e.cancelFn()):(e.$message.error(t.message),e.confirmLoading=!1)})).catch((function(t){e.$message.error(t),e.confirmLoading=!1}));case 39:t.next=46;break;case 41:o={},o.functionName=this.dataSource.revokeMethod,o.message=r,o.taskId=this.dataSource.id,e.$emit("revoke",o);case 46:t.next=56;break;case 48:return s=!0,t.next=51,this.commitFLow(r).catch((function(){s=!1}));case 51:if(s){t.next=56;break}return this.confirmLoading=!1,this.$store.dispatch("setTodoNum"),this.cancelFn(),t.abrupt("return",!1);case 56:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),commitFLow:function(){var t=f(l().mark((function t(e){var r,n=this;return l().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=this,r.confirmLoading=!0,t.next=4,Object(i["i"])("/handle/task/complete/"+this.taskId+"/"+this.approveInfo.selected+"/"+e+"/0/0/0/0",{},"post").then((function(t){return t.success?(r.$message.success(t.message),r.confirmLoading=!1,n.$store.dispatch("setTodoNum"),r.cancelFn(),Promise.resolve()):(r.$message.warning(t.message),r.confirmLoading=!1,Promise.reject())}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},h=d,p=(r("8baa"),r("2877")),m=Object(p["a"])(h,n,a,!1,null,"29583d7a",null);e["default"]=m.exports},2271:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("home-card",{attrs:{"header-title":"政策法规"},scopedSlots:t._u([t.policyList&&t.policyList.length>0?{key:"headerExtra",fn:function(){return[r("a",{staticClass:"headerExtra",on:{click:function(e){return t.more()}}},[t._v("更多")])]},proxy:!0}:null],null,!0)},[t.policyList&&t.policyList.length>0?r("div",{staticClass:"policyBody"},t._l(t.policyList,(function(e){return r("div",{key:e.id,staticClass:"policy_item"},[r("p",{staticClass:"policy_item_title",on:{click:function(r){return t.seeDetail(e.content)}}},[t._v(t._s(e.title))]),r("span",{staticClass:"policy_item_date"},[t._v(t._s(t._f("formatDate")(e.createTime,"YYYY-MM-DD")))])])})),0):r("a-empty",{attrs:{description:"暂无政策法规"}}),r("j-modal",{attrs:{visible:t.visible,title:"政策公告","mask-closable":!1,footer:null,width:"60%",heigh:"60%"},on:{cancel:t.cancel}},[r("div",{domProps:{innerHTML:t._s(t.detailsHtml)}})])],1)},a=[],o=r("bc7a"),i=r("0fea"),s=r("c1df"),c=r.n(s),l={name:"PolicieRegula",components:{HomeCard:o["default"]},created:function(){this.getPolicyNoticeList()},data:function(){return{policyList:[],visible:!1,detailsHtml:""}},methods:{cancel:function(){this.visible=!1},seeDetail:function(t){this.detailsHtml=t,this.visible=!0},more:function(){this.$router.push({path:"/PolicyAnnouncement",query:{busiType:"L6"}})},getPolicyNoticeList:function(){var t=this,e={busiType:"L6",current:1,pageSize:10};this.policyList=[],Object(i["e"])("/loginpage/getPageList",e).then((function(e){e.success&&(t.policyList=e.result.records)}))}},filters:{formatDate:function(t){return c()(t).format("YYYY-MM-DD")}}},u=l,f=(r("bd15c"),r("2877")),d=Object(f["a"])(u,n,a,!1,null,"213bfe38",null);e["default"]=d.exports},"24e3":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"PriceViewHome"},[r("div",{staticClass:"flex-row"},t._l([t.projectTotal,t.costTotal],(function(e,n){return r("home-card",{key:"total"+n,staticClass:"flex-column flex-grow-1",attrs:{"header-title":n?"费用统计":"项目统计"}},[r("div",{staticClass:"dataCount"},t._l(e,(function(e,n){return r("div",{key:"dataCount"+n,staticClass:"data-item"},[r("em",{staticClass:"data-item-icon",class:e.icon}),r("div",[r("p",{staticClass:"data-item-value"},[t._v(t._s(e.value))]),r("p",{staticClass:"data-item-label"},[t._v(t._s(e.label))])])])})),0)])})),1),r("div",{staticClass:"flex-grow-3"},[r("service-project",{staticClass:"height100",attrs:{hasExtra:!1}})],1),r("div",{staticClass:"flex-row flex-grow-2"},[r("home-card",{staticClass:"flex-column flex-grow-2",attrs:{"header-title":"项目评价结果"}},[r("vxe-grid",{attrs:{size:"small",height:"auto",columns:t.projectRateColumns,data:t.projectRateList}})],1),r("policie-regula",{staticClass:"flex-column flex-grow-1"})],1)])},a=[],o=r("bc7a"),i=r("cf9e"),s=r("2271"),c=r("b7dc"),l=r("f2e4"),u=r("1c67"),f=r("0fea"),d=r("3ed7"),h={name:"PriceViewHome",components:{DepositTotal:u["default"],ProjectTotal:l["default"],ServiceProject:c["default"],PolicieRegula:s["default"],SerProModelStateComp:i["default"],HomeCard:o["default"]},created:function(){this.getProjects()},data:function(){return{projectRateColumns:[{title:"小区名称",field:"regionName"},{title:"项目编号",field:"code"},{title:"项目描述",field:"describe"},{title:"评价得分",field:"integralValue"}],projectTotal:[{label:"项目总数",value:0,icon:"el-icon-data-analysis"},{label:"在途项目",value:0,icon:"el-icon-tickets"},{label:"完成项目",value:0,icon:"el-icon-notebook-2"}],costTotal:[{label:"预计总收入（元）",value:0,icon:"el-icon-s-finance"},{label:"已收金额（元）",value:0,icon:"el-icon-money"},{label:"未收金额（元）",value:0,icon:"el-icon-wallet"}],projectRateList:[],url:{getProjInfo:"/home/getProjInfo",getCorpMoney:"/home/getCorpMoney",queryHomeDetailByCorp:"creditReport/joinCreditReport/queryHomeDetailByCorp"}}},methods:{getProjects:function(){var t=this;Object(f["e"])(this.url.getProjInfo).then((function(e){e.success&&(t.projectTotal[0].value=e.result.serviceNum||0,t.projectTotal[1].value=e.result.proIngNum||0,t.projectTotal[2].value=e.result.proCompletedNum||0)})),Object(f["e"])(this.url.getCorpMoney).then((function(e){e.success&&(t.costTotal[0].value=Object(d["g"])(e.result.estimateMoney||"0.00"),t.costTotal[1].value=Object(d["g"])(e.result.receivedMoney||"0.00"),t.costTotal[2].value=Object(d["g"])(e.result.unReceivedMoney||"0.00"))})),Object(f["e"])(this.url.queryHomeDetailByCorp).then((function(e){e.success&&(t.projectRateList=e.result)}))}}},p=h,m=(r("c91a"),r("2877")),y=Object(m["a"])(p,n,a,!1,null,"51d7b903",null);e["default"]=y.exports},"276d":function(t,e,r){"use strict";r("d09c")},"2b7b":function(t,e,r){"use strict";r("6ad7")},"2c0a":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todoDoneGrid",class:["todoDoneGrid_"+t.layout]},[n("a-card",{ref:"todoListCard",staticClass:"todoDoneListCard height100",attrs:{bodyStyle:{height:"calc(100% - 59px)",overflowY:"scroll",position:"relative",padding:"12px"}},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"check_title"},t._l(t.todoTitleList,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:3!==e.value||t.isShowVerify,expression:"item.value !== 3 || isShowVerify"}],key:"todoTitle"+e.value,staticClass:"title_item",class:{disabled:t.todoLoading},on:{click:function(r){return t.changeTodoTab(e.value)}}},[n("p",{staticClass:"headline",class:t.selectedTab===e.value?"selected":""},[t._v(t._s(e.title))]),n("img",{directives:[{name:"show",rawName:"v-show",value:t.selectedTab===e.value,expression:"selectedTab === item.value"}],attrs:{alt:"",src:r("4bf9c")}}),1===e.value?n("a-badge",{staticClass:"badge",attrs:{count:t.todoTotal,"overflow-count":99}}):t._e(),3===e.value?n("a-badge",{staticClass:"badge",attrs:{count:t.verifyTotal,"overflow-count":99}}):t._e()],1)})),0)]},proxy:!0},{key:"extra",fn:function(){return[n("div",{staticClass:"extra",on:{click:t.getAll}},[n("span",[t._v("更多")]),n("img",{attrs:{alt:"",src:r("2d31")}})])]},proxy:!0}])},[[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.todoLoading,expression:"todoLoading"}],staticClass:"todoList"},[t.todoList&&t.todoList.length>0||t.todoLoading?t._l(t.todoList,(function(e,a){return n("a-card",{key:a,staticClass:"checkItem",scopedSlots:t._u([{key:"title",fn:function(){return[n("img",{staticStyle:{"margin-right":"8px"},attrs:{alt:"",src:r("bebc")}}),[1===t.selectedTab?n("span",[t._v(t._s(e.variables.panel?e.variables.panel:e.name))]):n("span",[t._v(t._s(e.name?e.name:""))])]]},proxy:!0},{key:"extra",fn:function(){return[e.variables&&"项目申报"!==e.variables.panel?n("span",{staticStyle:{color:"#fd8a2f"}},[1===t.selectedTab?[t._v(" 待审核 ")]:[t._v(" 已审核 ")]],2):t._e()]},proxy:!0}],null,!0)},[n("div",{staticClass:"main_content"},[n("div",{staticClass:"borders"},[n("div",{staticClass:"line"})]),n("h3",[t._v(t._s(e.variables?JSON.parse(e.variables.summary).title:""))]),n("div",{staticClass:"borders"},[n("div",{staticClass:"line"})])]),n("div",{staticClass:"bottom_wrap"},[n("span",[t._v(t._s(e.createTime))]),n("a-button",{attrs:{size:"careMode"===t.layout?void 0:"small",shape:"round",type:"primary"},on:{click:function(r){return t.check(e,t.selectedTab)}}},[1===t.selectedTab?["项目申报"!==e.variables.panel?n("span",[t._v("审核")]):n("span",[t._v("办理")])]:n("span",[t._v("查看")])],2)],1)])})):[n("a-empty")]],2)]],2),n("task-deal-modal",{ref:"taskDealModal",attrs:{customform:t.customform,"edit-url":t.editUrl,flow:t.flow,"flow-id":t.businessKey,innerpage:t.innerpage,"internal-url":t.internalUrl,"page-name":t.pageUrl,"task-primary-key":t.taskId,"show-type":"page"},on:{ok:function(e){return t.changeTodoTab(1)},revoke:t.revokeFunction}})],1)},a=[],o=r("0fea"),i=r("2f62"),s=r("0c8a"),c=r("211e"),l=r("e351"),u=r("f142"),f=r("d8a5");function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var p="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};l(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=f(t[a],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==d(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(d(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),l(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function p(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){p(o,n,a,i,s,"next",t)}function s(t){p(o,n,a,i,s,"throw",t)}i(void 0)}))}}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=w(t,"string");return"symbol"==d(e)?e:e+""}function w(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var x={name:"TodoDoneGrid",components:{TaskDealModal:c["default"]},mixins:[l["HomeRevokeMethodUtils"],u["a"]],computed:v({},Object(i["d"])({layout:function(t){return t.app.layout}})),created:function(){var t=this;this.changeTodoTab(1),Object(f["e"])("home_is_show_verify").then((function(e){t.isShowVerify=e&&"1"===e,t.isShowVerify&&t.getVerifyList()})),this.$emit("mount",{width:8,height:80})},mounted:function(){this.$bus.$on("AnalysisGetList",this.initData)},beforeDestroy:function(){this.$bus.$off("AnalysisGetList",this.initData)},data:function(){return{todoTitleList:[{title:"待办",value:1},{title:"已办",value:2},{title:"复核",value:3}],selectedTab:1,isShowVerify:!1,todoList:[],todoTotal:0,todoLoading:!1,verifyTotal:0,businessKey:"",taskId:"",pageUrl:"",editUrl:"",flow:1,innerpage:"",internalUrl:"",customform:"",useProcessKey:{process_key:"",process_key_insure:""},filingProcessKey:"b_busi_req.project_filing",url:{doneList:"/act/taskinst/done",list:"/act/task/todo",queryRegionVerifyList:"/deposit/firstDeposit/queryRegionVerifyList"}}},methods:{initData:function(){this.changeTodoTab(1)},changeTodoTab:function(t){var e=this;this.todoList=[],this.todoLoading=!0,this.selectedTab=t,Object(o["e"])(this.url[1===t?"list":2===t?"doneList":"queryRegionVerifyList"],{pageSize:30}).then((function(r){e.todoList=r.result.records,1===t&&(e.todoTotal=r.result.total),e.todoLoading=!1}))},getVerifyList:function(){var t=this;Object(o["e"])(this.url.queryRegionVerifyList).then((function(e){e&&e.result&&(t.verifyTotal=e.result.total)}))},getAll:function(){2===this.selectedTab?this.$router.push({path:"/activiti/DoneList"}):this.$router.push({path:"/activiti/TodoList"})},check:function(){var t=m(h().mark((function t(e,r){var n,a,o=this;return h().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(3!==r){t.next=6;break}e.name=e.regionName,this.$router.push({path:"/deposit/FirstDeposit",query:e}),this.$nextTick((function(){o.$refs.firstDeposit.getRegionInfo(e)})),t.next=11;break;case 6:return n=!1,t.next=9,this.getUseProcessKey(e).then((function(t){n=t}));case 9:this.businessKey=e.businessKey,n?Object(s["goBusiPage"])(this.businessKey,e.tableId,"",e.tenantId):this.filingProcessKey&&-1!==this.businessKey.indexOf(this.filingProcessKey)?Object(s["goBusiPage"])(e.variables&&e.variables.mainBusinessKey?e.variables.mainBusinessKey:e.businessKey,e.variables.projId,"e",e.tenantId):(this.taskId=e.id,this.internalUrl=e.internalUrl,this.flow=e.flow,this.pageUrl=e.url,this.innerpage=e.editUrl,e.revokeMethod&&(this.$refs.taskDealModal.revokeMethod=e.revokeMethod),a=2===r,this.$refs.taskDealModal.width="90%",this.$refs.taskDealModal.initData(e.busiId,(e.startUserId?e.startUserId+"·":"")+e.title,e,a?"done":"do"),this.$refs.taskDealModal.onlyView=a);case 11:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),revokeFunction:function(t){var e=this,r=this.$options.methods;r[t.functionName](this.businessKey,e,t.message,t.taskId)},getUseProcessKey:function(t){var e=this;return new Promise(function(){var r=m(h().mark((function r(n,a){var i,s,c,l;return h().wrap((function(r){while(1)switch(r.prev=r.next){case 0:i=h().mark((function r(){var a,i;return h().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=l[c],i=a,e.useProcessKey[i]&&""!==e.useProcessKey[i]){r.next=5;break}return r.next=5,Object(o["e"])("/sys/dDict/getParamByCode/".concat(i,"/").concat(t.tenantId)).then((function(t){e.useProcessKey[i]=t.result}));case 5:if(-1===t.businessKey.indexOf(e.useProcessKey[i]+"")){r.next=8;break}return n(!0),r.abrupt("return",{v:void 0});case 8:case"end":return r.stop()}}),r)})),c=0,l=Object.keys(e.useProcessKey);case 2:if(!(c<l.length)){r.next=10;break}return r.delegateYield(i(),"t0",4);case 4:if(s=r.t0,!s){r.next=7;break}return r.abrupt("return",s.v);case 7:c++,r.next=2;break;case 10:n(!1);case 11:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}())}}},_=x,C=(r("efa5"),r("2877")),k=Object(C["a"])(_,n,a,!1,null,"4b1627b1",null);e["default"]=k.exports},"2c3d":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("home-card",{staticClass:"flex-column flex-grow-2 full",attrs:{"header-title":"小区余额"}},[r("vxe-grid",{attrs:{height:"auto",size:"small",columns:t.cellBalanceColumns,data:t.regions},scopedSlots:t._u([{key:"ableBalance",fn:function(e){var n=e.row;e.rowIndex;return[r("div",[t._v(t._s(t.formatterAmount(n.ableBalance))+" 元")])]}}])})],1)},a=[],o=r("0fea"),i=r("bc7a"),s=r("3ed7"),c={name:"PlotBalance",components:{HomeCard:i["default"]},created:function(){this.getRegions()},data:function(){return{cellBalanceColumns:[{title:"序号",type:"seq"},{field:"name",title:"小区名称"},{field:"ableBalance",title:"可用余额",slots:{default:"ableBalance"}}],regions:[],url:{getRegionAbleBalance:"/home/getRegionAbleBalance"}}},methods:{formatterAmount:s["g"],getRegions:function(){var t=this;Object(o["e"])(this.url.getRegionAbleBalance).then((function(e){e.success&&(t.regions=e.result)}))}}},l=c,u=(r("da5a"),r("2877")),f=Object(u["a"])(l,n,a,!1,null,"ffc9dc6a",null);e["default"]=f.exports},"2d88":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bankTouchScreenAIOHome"},[r("div",{staticClass:"page_header"},[t._m(0),r("div",{staticClass:"page_header_extra"},[r("span",{staticClass:"systemTime"},[t._v(t._s(t.systemTime))]),"home"!==t.page?r("div",{staticClass:"backHome",on:{click:function(){return t.back({alert:!0})}}},[r("a-icon",{attrs:{type:"home"}}),t._v(" 返回首页\n      ")],1):t._e()])]),"home"===t.page?r("div",{staticClass:"page_buttonBox"},[r("div",{staticClass:"page_btn button1"},[r("img",{attrs:{src:t.Button1Img,alt:"选择施工单位"},on:{click:function(e){return t.btnClick("comparison")}}}),r("img",{staticClass:"reversal",attrs:{src:t.button1Re,alt:"选择施工单位"}})]),r("div",{staticClass:"page_btn button2"},[r("img",{attrs:{src:t.Button2Img,alt:"选定结果查询"},on:{click:function(e){return t.btnClick("queryResult")}}}),r("img",{staticClass:"reversal",attrs:{src:t.button2Re,alt:"选定结果查询"}})])]):"modal"===t.page?r("comparison-busi",{staticClass:"comparisonBusi",attrs:{type:t.pageType,defaultCertNo:t.certNo},on:{back:t.back}}):t._e(),r("p",{staticClass:"page_desc"},[t._v("技术支持：山东嘉友互联软件股份有限公司")])],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page_header_title"},[n("img",{staticClass:"page_header_logo",attrs:{src:r("38f5"),alt:"V9"}}),n("p",[t._v("衡水市维修资金施工单位优选系统")])])}],o=r("c1df"),i=r.n(o),s=r("4457"),c=r("fc77"),l=r.n(c),u=r("b51e"),f=r.n(u),d=r("4af6"),h=r.n(d),p=r("fed3"),m=r.n(p),y=(r("0fea"),{name:"BankTouchScreenAIOHome",components:{ComparisonBusi:s["default"]},created:function(){var t=this;this.getTimeTimer=setInterval((function(){t.systemTime=i()().format("YYYY-MM-DD HH:mm:ss")}))},mounted:function(){window.myAPI&&window.myAPI.ipcRendererMethod.send("clearRecording")},beforeDestory:function(){this.getTimeTimer&&(clearInterval(this.getTimeTimer),this.getTimeTimer=null)},data:function(){return{systemTime:i()().format("YYYY-MM-DD HH:mm:ss"),getTimeTimer:null,page:"home",pageType:"comparison",certNo:"",Button1Img:l.a,button1Re:f.a,Button2Img:h.a,button2Re:m.a}},methods:{btnClick:function(t){this.certNo="",this.pageType=t,this.page="modal"},back:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{alert:!1},e=t.alert;if(e){var r=this;r.$confirm({title:"是否确认返回首页？",icon:function(){return null},onOk:function(){r.page="home",window.myAPI&&window.myAPI.ipcRendererMethod.send("clearRecording")}})}else this.page="home",window.myAPI&&window.myAPI.ipcRendererMethod.send("clearRecording")}}}),v=y,g=(r("d835"),r("2877")),b=Object(g["a"])(v,n,a,!1,null,"951be566",null);e["default"]=b.exports},"2e36":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-drawer",{attrs:{title:"自定义",placement:"right",visible:t.visible,width:"704px",zIndex:2e3,"body-style":{height:"calc(100% - 55px)"}},on:{close:t.onClose}},[n("div",{staticClass:"drawerBody",class:"shortcutModal-"+t.layout},[n("div",{staticClass:"commonMenu"},[n("div",{staticClass:"title"},[n("div",{staticClass:"common"},[n("h3",[t._v("常用菜单")]),n("p",[t._v("常用菜单数量最多排放10个，可拖动调整菜单")])]),t.commonEdit?t._e():n("div",{staticClass:"eidt",on:{click:t.getCommonEdit}},[n("a",[n("a-icon",{attrs:{type:"form"}}),t._v(" 编辑")],1)]),t.commonEdit?n("div",{staticClass:"eidt"},[n("a-space",[n("a",{on:{click:t.cancelBtn}},[n("a-icon",{attrs:{type:"close-circle"}}),t._v(" 取消")],1),n("a-divider",{attrs:{type:"vertical"}}),n("a",{on:{click:t.saveBtn}},[n("a-icon",{attrs:{type:"save"}}),t._v(" 保存")],1)],1)],1):t._e()]),t.commonEdit?n("draggable",{ref:"content",staticClass:"content",attrs:{element:"ul",list:t.commonMenus,options:{group:"title",animation:150},"no-transition-on-drag":!1},on:{end:t.end}},[n("transition-group",{staticClass:"content_group",attrs:{type:"transition",name:t.drag?null:"syll_li",css:!0}},t._l(t.commonMenus,(function(e,r){return n("li",{key:r,staticClass:"commonBtn"},[n("div",{staticClass:"pic",style:{backgroundColor:e&&e.color?e.color:"#4f85a9"}},[n("a-icon",{style:{fontSize:"24px",color:"#fff",lineHeight:"54px"},attrs:{type:e&&e.icon?e.icon:""}}),t.commonEdit?n("div",{staticClass:"delete",on:{click:function(n){return t.delBtn(r,e.title)}}},[n("a-icon",{style:{fontSize:"10px",color:"#fff"},attrs:{type:"delete"}})],1):t._e()],1),n("p",[t._v(t._s(e&&e.title?e.title:""))])])})),0)],1):t._e(),t.commonEdit?t._e():n("ul",{ref:"content",staticClass:"content"},[n("span",{staticClass:"content_group"},t._l(t.commonMenus,(function(e,r){return n("li",{key:r,staticClass:"commonBtn"},[n("div",{staticClass:"pic",style:{backgroundColor:e&&e.color?e.color:"#4f85a9"},on:{click:function(r){return t.toPage(e)}}},[n("a-icon",{style:{fontSize:"24px",color:"#fff",lineHeight:"54px"},attrs:{type:e&&e.icon?e.icon:""}})],1),n("p",[t._v(t._s(e&&e.title?e.title:""))])])})),0)])],1),n("div",{staticClass:"totalMenu"},[n("div",{staticClass:"top"},[n("div",{staticClass:"title"},[n("h3",[t._v("全部")]),n("p",[t._v("添加常用功能，业务操作更便捷。")])]),t.allMenuExpend?t._e():n("a-input-search",{staticStyle:{width:"200px","line-height":"72px"},attrs:{placeholder:"便捷功能菜单搜索"}})],1),t.allMenuExpend?n("div",{staticClass:"menu_tabs"},[t.allMenuExpend?n("a-menu",{staticClass:"menu_title",attrs:{"default-selected-keys":[""+t.selected]}},t._l(t.menus,(function(e){return n("a-menu-item",{key:e.name,staticClass:"menu_item",on:{click:function(r){return t.selectACtive(e.name)}}},[t._v("\n            "+t._s(e.meta.title)+"\n          ")])})),1):t._e(),n("span",{staticClass:"flod",on:{click:t.allMenu}},[n("a-icon",{style:{fontSize:"16px"},attrs:{type:"menu"}})],1)],1):t._e(),t.allMenuExpend?t._e():n("div",{staticClass:"tabs"},[n("ul",{staticClass:"headerTitle"},t._l(t.menus,(function(e,a){return n("li",{key:a,staticClass:"menu_item",on:{click:function(r){return t.selectACtive(e.name)}}},[t._v("\n            "+t._s(e.meta.title)+"\n            "),t.selected==e.name?n("img",{attrs:{alt:"",src:r("4bf9c")}}):t._e()])})),0),n("span",{staticClass:"more",on:{click:t.allMenu}},[n("a-icon",{style:{fontSize:"16px"},attrs:{type:"menu"}})],1)]),n("div",{ref:"detail",staticClass:"article",on:{scroll:t.handleScroll}},t._l(t.menus,(function(e,r){return n("a-card",{key:r,staticClass:"detail",attrs:{id:e.name}},[n("h3",[t._v(t._s(e.meta.title))]),t._l(e.children,(function(e,r){return n("a-row",{key:r,staticClass:"content_item"},[n("a-col",{attrs:{span:4}},[n("div",{staticClass:"pic",style:{backgroundColor:e.color}},[n("a-icon",{style:{fontSize:"24px",color:"#fff"},attrs:{type:e.meta.icon}})],1)]),n("a-col",{attrs:{span:16}},[n("h3",{staticClass:"detail_title"},[t._v(t._s(e.meta.title))])]),n("a-col",{attrs:{span:4}},[n("a-popconfirm",{attrs:{getPopupContainer:function(){return t.$refs.detail},title:"确定要将 "+e.meta.title+" 加入常用吗?"},on:{confirm:function(r){return t.confirm(e)}}},[n("a-button",[t._v("添加常用")]),n("span",{staticClass:"gap"})],1)],1)],1)}))],2)})),1),t.topBackVisble?n("div",{staticClass:"back_top",on:{click:t.getBack}},[n("a-icon",{style:{fontSize:"24px"},attrs:{type:"vertical-align-top"}})],1):t._e()])])])},a=[],o=r("b76a"),i=r.n(o),s=r("0fea"),c={components:{draggable:i.a},computed:{layout:function(){return this.$store.state.app.layout}},props:{menus:{type:Array,default:function(){return[]}},commonMenusList:{type:Array,default:function(){return[]}}},data:function(){return{selected:"",visible:!1,heightList:[],sumHeight:0,list:"",topBackVisble:!1,drag:!1,timer:null,cancelScroll:!1,allMenuExpend:!1,commonEdit:!1,commonMenus:this.commonMenusList,url:{batchAdd:"permission/sysUserComPermission/batchAdd"}}},watch:{visible:function(t){var e=this;this.$nextTick((function(){t&&e.getBoxHeight()}))},commonMenusList:function(t){this.commonMenus=t},commonMenus:function(){this.$emit("update:commonMenusList",this.commonMenus)}},methods:{toPage:function(t){this.$router.push(t.url),this.visible=!1},getCommonEdit:function(){var t=this;t.commonEdit=!0,t.$nextTick((function(){for(var t=document.querySelectorAll("ul.content>.content_group>li"),e=0;e<t.length;e++)t[e].classList.add("commEdit")}))},end:function(){this.drag=!0},cancelBtn:function(){var t=this;t.commonEdit=!1,t.$nextTick((function(){for(var t=document.querySelectorAll("ul.content>.content_group>li"),e=0;e<t.length;e++)t[e].classList.remove("commEdit")}))},saveBtn:function(){var t=this;Object(s["j"])(this.url.batchAdd,this.commonMenus).then((function(e){e&&e.success&&t.$message.success("保存成功")})),this.cancelBtn()},delBtn:function(t,e){var r=this;this.$confirm({title:"要将 ".concat(e," 移除常用吗？"),content:"应用从“常用菜单”移除后仍可在全部应用中添加使用",okText:"确认",cancelText:"取消",zIndex:2e3,onOk:function(){r.commonMenus.splice(t,1)}})},allMenu:function(){this.allMenuExpend=!this.allMenuExpend},confirm:function(t){this.commonMenus.some((function(e){return e.id===t.id}))?this.$message.warning("该菜单已经添加到常用啦~"):this.commonMenus.length<10?(this.commonMenus.push({id:t.id,title:t.meta.title,icon:t.meta.icon,color:t.color,url:t.path}),this.commonEdit=!0):this.$message.warning("最多添加10个哦~")},selectACtive:function(t){var e=this.$refs.detail.querySelector("#".concat(t));e.scrollIntoView({block:"start",behavior:"smooth"}),this.selected=t},getBoxHeight:function(){this.heightList=[];for(var t=0;t<this.menus.length;t++){var e=this.menus[t].name,r=this.$refs.detail.querySelector("#".concat(e));this.sumHeight+=r.offsetHeight+7,this.heightList.push({id:e,height:this.sumHeight,elHeight:r.offsetHeight+(0===t?10:6)})}},handleScroll:function(t){var e=this;e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.list=e.heightList.find((function(r,n){if(t.srcElement.scrollTop<993)return e.topBackVisble=!1,0===n;if(n<e.heightList.length-1){e.topBackVisble=!0,n<7&&!e.allMenuExpend&&(document.querySelector(".headerTitle").scrollLeft=0),n>=7&&!e.allMenuExpend&&(document.querySelector(".headerTitle").scrollLeft=85*(n-6));var a=e.heightList[n+1].height-e.heightList[n+1].elHeight;return r.height-r.elHeight<t.srcElement.scrollTop&&t.srcElement.scrollTop<a}return n==e.heightList.length-1?(e.topBackVisble=!0,e.allMenuExpend||(document.querySelector(".headerTitle").scrollLeft=85*(n-6)),n===e.heightList.length-1):void 0})),e.selected=e.list.id}),100)},getBack:function(){document.querySelector(".article").scrollTop=0,document.querySelector(".headerTitle").scrollLeft=0,this.selected=this.menus[0].name,this.topBackVisble=!1},onClose:function(){this.visible=!1}}},l=c,u=(r("aeb9"),r("2877")),f=Object(u["a"])(l,n,a,!1,null,"63308ae6",null);e["default"]=f.exports},"2f3a":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isCustomHome||"topLeftMenu"===t.layout?t.isCustomHome?r("custom-analysis",{attrs:{"is-comp":!0},on:{not_has_custom_home:t.notHasCustomConfig}}):r("top-left-menu-analysis"):r("div",{staticClass:"main",class:"analysis-"+t.layout,staticStyle:{padding:"6px"}},[r("notice-alert"),r("div",{ref:"analysis",staticClass:"content",staticStyle:{position:"relative",height:"0",flex:"1"}},[r("div",{staticClass:"left"},[r("todo-done-grid")],1),r("div",{staticClass:"right"},[r("sys-zone-select",{staticStyle:{"margin-bottom":"6px"},attrs:{"auto-width":"","show-sys-org-all":""},on:{change:t.selectZone},model:{value:t.zoneInfo,callback:function(e){t.zoneInfo=e},expression:"zoneInfo"}}),r("div",{staticStyle:{"margin-bottom":"6px"}},[r("data-overview",{ref:"dataOverview",attrs:{"is-init":!1,"sys-org-code":t.queryParam.sysOrgCode,"zone-code":t.queryParam.zoneCode}})],1),r("div",{staticClass:"right_content"},[r("div",{staticClass:"right_center"},[r("collection-chart",{ref:"collectionChart",staticClass:"collection",attrs:{"is-init":!1,"sys-org-code":t.queryParam.sysOrgCode,"zone-code":t.queryParam.zoneCode}}),r("stock-chart",{ref:"stockChart",staticClass:"stock",attrs:{"is-init":!1,"sys-org-code":t.queryParam.sysOrgCode,"zone-code":t.queryParam.zoneCode}})],1),r("use-chart",{ref:"useChart",staticClass:"right_bottom",staticStyle:{height:"auto"},attrs:{"is-init":!1,"sys-org-code":t.queryParam.sysOrgCode,"zone-code":t.queryParam.zoneCode}})],1)],1),r("div",{staticClass:"icon"},[r("shortcut-menu")],1)]),r("dynamic-notice",{ref:"showDynamNotice",attrs:{path:t.openPath,formData:t.formData}})],1)},a=[],o=r("527e"),i=r("3ed7"),s=r("11d9"),c=r("1dff"),l=r("f337"),u=r("e351"),f=r("2f62"),d=r("4eaf"),h=r("f142"),p=r("3d56"),m=r("cafb"),y=r("adcf"),v=r("2c0a"),g=r("e52c"),b=r("7ecd"),w=r("182d"),x=r("f2b7"),_=r("90b5"),C=r("2b0e"),k=r("c99e");function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function L(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=j(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function j(t,e){if(t){if("string"==typeof t)return O(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function D(t,e,r){return(e=E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){var e=I(t,"string");return"symbol"==S(e)?e:e+""}function I(t,e){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var M={name:"Analysis",components:{CustomAnalysis:k["default"],NoticeAlert:_["default"],UseChart:x["default"],StockChart:w["default"],CollectionChart:b["default"],DataOverview:g["default"],TodoDoneGrid:v["default"],TopLeftMenuAnalysis:y["default"],ShortcutMenu:p["default"],DynamicNotice:d["default"],SvgIcon:l["default"],Trend:o["default"],Trendency:s["default"],CheckModal:c["default"],SysZoneSelect:m["default"]},mixins:[u["HomeRevokeMethodUtils"],h["a"]],data:function(){return{formatterAmount:i["g"],formatterCNAmount:i["j"],formatterAmountToMany:i["h"],openPath:"",formData:{},url:{queryById:"/act/model/queryById",editCementSend:"/sys/sysAnnouncementSend/editByAnntIdAndUserId",queryRegionVerifyList:"/deposit/firstDeposit/queryRegionVerifyList"},zoneInfo:{},queryParam:{},isCustomHome:!1}},computed:P({},Object(f["d"])({layout:function(t){return t.app.layout}})),created:function(){this.isCustomHome=C["default"].ls.get("IS_CUSTOM_HOME")},mounted:function(){this.projectValue=(new Date).getFullYear()+""},deactivated:function(){this.$bus.$off("AnalysisGetList",(function(){})),this.$bus.$off("refreshAnalyData",(function(){}))},methods:{notHasCustomConfig:function(){this.isCustomHome=!1},selectZone:function(t){var e=this;this.queryParam.sysOrgCode=t.sysOrgValue,this.queryParam.zoneCode=t.zoneValue,setTimeout((function(){e.isCustomHome||(e.$refs.dataOverview.initData(),e.$refs.collectionChart.initData(),e.$refs.stockChart.initData(),e.$refs.useChart.initData())}),100)},handleList:function(t,e){var r,n=this,a=L(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.children&&o.children.length>0?n.handleList(t,o.children):t.push(o)}}catch(i){a.e(i)}finally{a.f()}},xLabelFormatter:function(t){var e="",r=t.length,n=4,a=Math.ceil(r/n);if(r>n)for(var o=0;o<a;o++){var i="",s=o*n,c=s+n;i=o==a-1?t.substring(s,r):t.substring(s,c)+"\n",e+=i}else e=t;return e},transformFontSize:function(t){var e=window.screen.width,r=e/1920;return parseInt(t*r)},getPopupContainer:function(){return this.$refs.todoListCard.$el.querySelector(".ant-card-body")}}},A=M,F=(r("1718"),r("2877")),N=Object(F["a"])(A,n,a,!1,null,"7ba997b6",null);e["default"]=N.exports},"2f96":function(t,e,r){"use strict";r("c422")},3559:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-header-index-wide"},[r("a-row",{attrs:{gutter:24}},[r("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[r("chart-card",{attrs:{loading:t.loading,title:"受理量",total:t._f("NumberFormat")(t.cardCount.sll)}},[r("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[r("a-icon",{attrs:{type:"info-circle-o"}})],1),r("div",[r("mini-area",{attrs:{"data-source":t.chartData.sll}})],1),r("template",{slot:"footer"},[t._v("今日受理量："),r("span",[t._v(t._s(t.todaySll))])])],2)],1),r("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[r("chart-card",{attrs:{loading:t.loading,title:"办结量",total:t._f("NumberFormat")(t.cardCount.bjl)}},[r("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[r("a-icon",{attrs:{type:"info-circle-o"}})],1),r("div",[r("mini-area",{attrs:{"data-source":t.chartData.bjl}})],1),r("template",{slot:"footer"},[t._v("今日办结量："),r("span",[t._v(t._s(t.todayBjl))])])],2)],1),r("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[r("chart-card",{attrs:{loading:t.loading,title:"用户受理量",total:t._f("NumberFormat")(t.cardCount.isll)}},[r("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[r("a-icon",{attrs:{type:"info-circle-o"}})],1),r("div",[r("mini-bar",{attrs:{datasource:t.chartData.isll,height:50}})],1),r("template",{slot:"footer"},[t._v("用户今日受理量："),r("span",[t._v(t._s(t.todayISll))])])],2)],1),r("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[r("chart-card",{attrs:{loading:t.loading,title:"用户办结量",total:t._f("NumberFormat")(t.cardCount.ibjl)}},[r("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[r("a-icon",{attrs:{type:"info-circle-o"}})],1),r("div",[r("mini-bar",{attrs:{datasource:t.chartData.ibjl,height:50}})],1),r("template",{slot:"footer"},[t._v("用户今日办结量："),r("span",[t._v(t._s(t.todayIBjl))])])],2)],1)],1),r("a-card",{attrs:{loading:t.loading,bordered:!1,"body-style":{padding:"0"}}},[r("div",{staticClass:"salesCard"},[r("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[r("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[r("div",{staticClass:"extra-item"},[r("a",[t._v("今日")]),r("a",[t._v("本周")]),r("a",[t._v("本月")]),r("a",[t._v("本年")])]),r("a-range-picker",{style:{width:"256px"}})],1),r("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"受理监管"}},[r("a-row",[r("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[r("index-bar",{attrs:{title:"受理量统计"}})],1),r("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[r("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[r("div",{staticClass:"item-group"},[r("a-row",t._l(t.registerTypeList,(function(e,n){return r("a-col",{key:"registerType"+n,class:"more-btn",attrs:{span:12}},[r("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(e){return t.goPage(n)}}},[t._v(t._s(e.text))])],1)})),1)],1)])],1)],1)],1),r("a-tab-pane",{key:"2",attrs:{tab:"交互监管"}},[r("a-row",[r("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[r("bar-multid",{attrs:{sourceData:t.jhjgData,fields:t.jhjgFields,title:"平台与部门交互量统计"}})],1),r("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[r("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[r("div",{staticClass:"item-group"},[r("a-row",t._l(t.registerTypeList,(function(e,n){return r("a-col",{key:"registerType"+n,class:"more-btn",attrs:{span:12}},[r("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(e){return t.goPage(n)}}},[t._v(t._s(e.text))])],1)})),1)],1)])],1)],1)],1),r("a-tab-pane",{key:"4",attrs:{tab:"存储监管"}},[r("a-row",[r("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[r("a-row",[t.diskInfo&&t.diskInfo.length>0?t._l(t.diskInfo,(function(t,e){return r("a-col",{key:"diskInfo"+e,attrs:{span:12}},[r("dash-chart-demo",{attrs:{title:t.name,datasource:t.restPPT}})],1)})):t._e()],2)],1),r("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[r("a-card",{staticStyle:{"margin-bottom":"24px"},attrs:{title:"快速开始 / 便捷导航",bordered:!1,"body-style":{padding:0}}},[r("div",{staticClass:"item-group"},[r("a-row",t._l(t.registerTypeList,(function(e,n){return r("a-col",{key:"registerType"+n,class:"more-btn",attrs:{span:10}},[r("a-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"small",type:"primary",ghost:""},on:{click:function(e){return t.goPage(n)}}},[t._v(t._s(e.text))])],1)})),1)],1)])],1)],1)],1)],1)],1)]),r("a-row",{attrs:{gutter:12}},[r("a-card",{class:{"anty-list-cust":!0},style:{marginTop:"24px"},attrs:{loading:t.loading,bordered:!1}},[r("a-tabs",{attrs:{size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}},model:{value:t.indexBottomTab,callback:function(e){t.indexBottomTab=e},expression:"indexBottomTab"}},[r("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[r("a-radio-group",{on:{change:t.changeRegisterType},model:{value:t.indexRegisterType,callback:function(e){t.indexRegisterType=e},expression:"indexRegisterType"}},[r("a-radio-button",{attrs:{value:"转移登记"}},[t._v("转移登记")]),r("a-radio-button",{attrs:{value:"抵押登记"}},[t._v("抵押登记")]),r("a-radio-button",{attrs:{value:""}},[t._v("所有")])],1)],1),r("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"业务流程限时监管"}},[r("a-table",{attrs:{dataSource:t.dataSource1,size:"default",rowKey:"id",columns:t.columns,pagination:t.ipagination1},on:{change:t.tableChange1},scopedSlots:t._u([{key:"flowRate",fn:function(e,n,a){return[r("a-progress",{staticStyle:{width:"80px"},attrs:{strokeColor:t.getPercentColor(n.flowRate),format:t.getPercentFormat,percent:t.getFlowRateNumber(n.flowRate)}})]}}])})],1),r("a-tab-pane",{key:"2",attrs:{loading:"true",tab:"业务节点限时监管"}},[r("a-table",{attrs:{dataSource:t.dataSource2,size:"default",rowKey:"id",columns:t.columns2,pagination:t.ipagination2},on:{change:t.tableChange2},scopedSlots:t._u([{key:"flowRate",fn:function(e,n,a){return[r("span",{staticStyle:{color:"red"}},[t._v(t._s(n.flowRate)+"小时")])]}}])})],1)],1)],1)],1)],1)},a=[],o=r("da05"),i=r("3896"),s=r("05ed"),c=r("942d"),l=r("1d43"),u=r("0096"),f=r("8191"),d=r("972f"),h=[{type:"房管","1月":900,"2月":1120,"3月":1380,"4月":1480,"5月":1450,"6月":1100,"7月":1300,"8月":900,"9月":1e3,"10月":1200,"11月":600,"12月":900},{type:"税务","1月":1200,"2月":1500,"3月":1980,"4月":2e3,"5月":1e3,"6月":600,"7月":900,"8月":1100,"9月":1300,"10月":2e3,"11月":900,"12月":1100},{type:"不动产","1月":2e3,"2月":1430,"3月":1300,"4月":1400,"5月":900,"6月":500,"7月":600,"8月":1e3,"9月":600,"10月":1e3,"11月":1500,"12月":1200}],p=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],m=[{type:"一月","房管":1.12,"税务":1.55,"不动产":1.2},{type:"二月","房管":1.65,"税务":1.32,"不动产":1.42},{type:"三月","房管":1.85,"税务":1.1,"不动产":1.5},{type:"四月","房管":1.33,"税务":1.63,"不动产":1.4},{type:"五月","房管":1.63,"税务":1.8,"不动产":1.7},{type:"六月","房管":1.85,"税务":1.98,"不动产":1.8},{type:"七月","房管":1.98,"税务":1.5,"不动产":1.76},{type:"八月","房管":1.48,"税务":1.2,"不动产":1.3},{type:"九月","房管":1.41,"税务":1.9,"不动产":1.6},{type:"十月","房管":1.1,"税务":1.1,"不动产":1.4},{type:"十一月","房管":1.85,"税务":1.6,"不动产":1.5},{type:"十二月","房管":1.5,"税务":1.4,"不动产":1.3}],y=["房管","税务","不动产"],v=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"业务类型",align:"center",dataIndex:"type"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"受理时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"办理时长",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],g=[{reBizCode:"1",type:"转移登记",acceptBy:"张三",acceptDate:"2019-01-22",curNode:"任务分派",flowRate:60},{reBizCode:"2",type:"抵押登记",acceptBy:"李四",acceptDate:"2019-01-23",curNode:"领导审核",flowRate:30},{reBizCode:"3",type:"转移登记",acceptBy:"王武",acceptDate:"2019-01-25",curNode:"任务处理",flowRate:20},{reBizCode:"4",type:"转移登记",acceptBy:"赵楼",acceptDate:"2019-11-22",curNode:"部门审核",flowRate:80},{reBizCode:"5",type:"转移登记",acceptBy:"钱就",acceptDate:"2019-12-12",curNode:"任务分派",flowRate:90},{reBizCode:"6",type:"转移登记",acceptBy:"孙吧",acceptDate:"2019-03-06",curNode:"任务处理",flowRate:10},{reBizCode:"7",type:"抵押登记",acceptBy:"周大",acceptDate:"2019-04-13",curNode:"任务分派",flowRate:100},{reBizCode:"8",type:"抵押登记",acceptBy:"吴二",acceptDate:"2019-05-09",curNode:"任务上报",flowRate:50},{reBizCode:"9",type:"抵押登记",acceptBy:"郑爽",acceptDate:"2019-07-12",curNode:"任务处理",flowRate:63},{reBizCode:"20",type:"抵押登记",acceptBy:"林有",acceptDate:"2019-12-12",curNode:"任务打回",flowRate:59},{reBizCode:"11",type:"转移登记",acceptBy:"码云",acceptDate:"2019-09-10",curNode:"任务签收",flowRate:87}],b=[{title:"业务号",align:"center",dataIndex:"reBizCode"},{title:"受理人",align:"center",dataIndex:"acceptBy"},{title:"发起时间",align:"center",dataIndex:"acceptDate"},{title:"当前节点",align:"center",dataIndex:"curNode"},{title:"超时时间",align:"center",dataIndex:"flowRate",scopedSlots:{customRender:"flowRate"}}],w=[{reBizCode:"A001",type:"转移登记",acceptBy:"张四",acceptDate:"2019-01-22",curNode:"任务分派",flowRate:12},{reBizCode:"A002",type:"抵押登记",acceptBy:"李吧",acceptDate:"2019-01-23",curNode:"任务签收",flowRate:3},{reBizCode:"A003",type:"转移登记",acceptBy:"王三",acceptDate:"2019-01-25",curNode:"任务处理",flowRate:24},{reBizCode:"A004",type:"转移登记",acceptBy:"赵二",acceptDate:"2019-11-22",curNode:"部门审核",flowRate:10},{reBizCode:"A005",type:"转移登记",acceptBy:"钱大",acceptDate:"2019-12-12",curNode:"任务签收",flowRate:8},{reBizCode:"A006",type:"转移登记",acceptBy:"孙就",acceptDate:"2019-03-06",curNode:"任务处理",flowRate:10},{reBizCode:"A007",type:"抵押登记",acceptBy:"周晕",acceptDate:"2019-04-13",curNode:"部门审核",flowRate:24},{reBizCode:"A008",type:"抵押登记",acceptBy:"吴有",acceptDate:"2019-05-09",curNode:"部门审核",flowRate:30},{reBizCode:"A009",type:"抵押登记",acceptBy:"郑武",acceptDate:"2019-07-12",curNode:"任务分派",flowRate:1},{reBizCode:"A0010",type:"抵押登记",acceptBy:"林爽",acceptDate:"2019-12-12",curNode:"部门审核",flowRate:16},{reBizCode:"A0011",type:"转移登记",acceptBy:"码楼",acceptDate:"2019-09-10",curNode:"部门审核",flowRate:7}],x={name:"IndexBdc",components:{ATooltip:i["a"],ACol:o["b"],ChartCard:s["default"],MiniArea:l["default"],MiniBar:c["default"],DashChartDemo:d["default"],BarMultid:f["default"],IndexBar:u["default"]},data:function(){return{loading:!0,cardCount:{sll:100,bjl:87,isll:15,ibjl:9},todaySll:60,todayBjl:54,todayISll:13,todayIBjl:7,chartData:{sll:[],bjl:[],isll:[],ibjl:[]},jhjgFields:p,jhjgData:h,xljgData:m,xljgFields:y,diskInfo:[{name:"C盘",restPPT:7},{name:"D盘",restPPT:5}],registerTypeList:[{text:"业务受理"},{text:"业务管理"},{text:"文件管理"},{text:"信息查询"}],dataSource1:[],dataSource2:[],columns:v,columns2:b,ipagination1:{current:1,pageSize:5,pageSizeOptions:["10","20","30"],showTotal:function(t,e){return e[0]+"-"+e[1]+" 共"+t+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},ipagination2:{current:1,pageSize:5,pageSizeOptions:["10","20","30"],showTotal:function(t,e){return e[0]+"-"+e[1]+" 共"+t+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},indexRegisterType:"转移登记",indexBottomTab:"1"}},methods:{goPage:function(){this.$message.success("根据业务自行处理跳转页面!")},changeRegisterType:function(t){this.indexRegisterType=t.target.value,"1"==this.indexBottomTab?this.loadDataSource1():this.loadDataSource2()},tableChange1:function(t){this.ipagination1.current=t.current,this.ipagination1.pageSize=t.pageSize,this.queryTimeoutInfo()},tableChange2:function(t){this.ipagination2.current=t.current,this.ipagination2.pageSize=t.pageSize,this.queryNodeTimeoutInfo()},getFlowRateNumber:function(t){return Number(t)},getPercentFormat:function(t){return 100==t?"超时":t+"%"},getPercentColor:function(t){var e=Number(t);return e>=90&&e<100?"rgb(244, 240, 89)":e>=100?"red":"rgb(16, 142, 233)"},loadDataSource1:function(){var t=this;this.dataSource1=g.filter((function(e){return!t.indexRegisterType||e.type==t.indexRegisterType}))},loadDataSource2:function(){var t=this;this.dataSource2=w.filter((function(e){return!t.indexRegisterType||e.type==t.indexRegisterType}))}},created:function(){var t=this;this.loadDataSource1(),this.loadDataSource2(),setTimeout((function(){t.loading=!t.loading}),1e3)}},_=x,C=(r("bc07"),r("2877")),k=Object(C["a"])(_,n,a,!1,null,"db5a7dd2",null);e["default"]=k.exports},"3cbe":function(t,e,r){"use strict";r("a36d")},"3d56":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"height100"},[n("a-card",{staticClass:"short_menu",attrs:{"body-style":{height:"100%",padding:"14px 0"}}},[n("div",{staticClass:"cardBody"},[n("div",{staticClass:"title",on:{click:t.modalEdit}},[n("p",{staticClass:"headline"},[t._v("菜单")]),n("img",{attrs:{alt:"",src:r("518b")}})]),n("ul",{staticClass:"ul_short_menu_list"},t._l(t.commonMenusList,(function(e,r){return n("li",{key:r,staticClass:"menuClass",on:{click:function(r){return t.toPage(e)}}},[n("div",{staticClass:"pic",style:{backgroundColor:e&&e.color?e.color:"#4f85a9"}},[n("a-icon",{style:{color:"#fff"},attrs:{type:e&&e.icon?e.icon:""}})],1),n("p",[t._v(t._s(e.title))])])})),0)])]),n("shortcut-menu-modal",{ref:"shorMenu",attrs:{commonMenusList:t.commonMenusList,menus:t.menus},on:{"update:commonMenusList":function(e){t.commonMenusList=e},"update:common-menus-list":function(e){t.commonMenusList=e},"update:menus":function(e){t.menus=e}}})],1)},a=[],o=r("aa6c"),i={name:"ShortcutMenu",mixins:[o["default"]]},s=i,c=(r("ce9a9"),r("2877")),l=Object(c["a"])(s,n,a,!1,null,"1d9af8ba",null);e["default"]=l.exports},"40dc":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("video",{ref:"videoElement",staticClass:"faceVideo",attrs:{id:"signConfirmVideo_faceDetection",autoplay:""}}),r("video",{staticStyle:{position:"fixed",top:"-100px",left:"-100px",width:"100px",height:"100px","object-fit":"cover"},attrs:{id:"signConfirmVideo_faceDetection_scale",autoplay:""}})])},a=[],o={name:"FaceDetection",props:{hasFace:{type:Boolean,default:!1}},data:function(){return{trackerTask:null,trackerTaskTimer:null,noFaceTime:""}},beforeDestroy:function(){window.myAPI&&window.myAPI.ipcRendererMethod.send("clearFaceDetectionSendMain")},methods:{init:function(){this.initTrack()},initTrack:function(){if(window.myAPI){var t=this;window.myAPI.ipcRendererMethod.on("faceDetectionResult",(function(e){0===e.data.length?t.noFaceTime++:t.noFaceTime=0,t.$emit("update:hasFace",t.noFaceTime<=3)})),this.$nextTick((function(){window.myAPI.ipcRendererMethod.send("startFaceDetection")}))}}}},i=o,s=(r("64fd"),r("2877")),c=Object(s["a"])(i,n,a,!1,null,"1ec8f483",null);e["default"]=c.exports},4457:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSetting.loading,expression:"loadingSetting.loading"}],staticClass:"comparisonBusi",attrs:{"element-loading-text":t.loadingSetting.loadingText}},[n("div",{staticClass:"page_header"},[n("div",{staticClass:"page_header_backBtn",on:{click:function(e){return t.back(!1)}}},[n("img",{attrs:{src:r("ef6c7"),alt:"返回"}}),n("span",[t._v("返回")])]),n("div",{staticClass:"page_header_title"},[t._v(t._s(t.pageTitle))]),n("div")]),n("div",{staticClass:"page_content"},["readCard"===t.step?n("div",{staticClass:"swipingCard"},[n("img",{staticClass:"swipingCardIcon",attrs:{src:t.readCardGif,alt:"请刷身份证！"}}),n("p",{staticClass:"swipingCardText"},[t._v("请将二代身份证靠近读取区域内")]),n("p",{staticClass:"swipingCardDesc"},[n("span",{staticClass:"swipingCardTime"},[t._v(t._s(t.queryParam.readCard.countDown)+"秒")]),t._v("后读取失败，请重新尝试！")])]):["choosePro"===t.step?n("div",{staticClass:"myListContent"},[n("div",{staticClass:"projectList"},[t.queryParam.choosePro.projectList&&t.queryParam.choosePro.projectList.length>0?t._l(t.queryParam.choosePro.projectList,(function(e,r){return n("div",{key:e.id,staticClass:"list-item"},[n("div",{staticClass:"list-item-title",on:{click:function(r){return t.expandInfo(e)}}},[n("div",[n("div",{staticClass:"list-item-title-icon"},[t._v(t._s(r+1))]),n("span",{staticClass:"list-item-title-text"},[t._v("【"+t._s(e.code)+"】"+t._s(e.describe))])]),n("a",{staticClass:"list-item-btn",on:{click:function(r){return t.toComparison({proInfo:e})}}},[t._v("进行比选")]),n("a-icon",{staticClass:"list-item-expand",class:{expand:e.expand},attrs:{type:"down-circle",theme:"filled"}})],1),n("div",{staticClass:"list-item-content"},[e.expand?n("div",[n("a-row",{ref:"formSerProRow",refInFor:!0,staticClass:"houseInfo",attrs:{type:"flex"}},[n("a-col",{attrs:{span:4}},[n("span",[t._v("维修项目描述")])]),n("a-col",{attrs:{span:12,"data-prop":"describe"}},[t._v("\n                      "+t._s(e.describe)+"\n                    ")]),n("a-col",{attrs:{span:4}},[t._v("申报状态")]),n("a-col",{attrs:{span:4}},[n("ser-pro-model-state-comp",{attrs:{state:e.state}})],1),n("a-col",{attrs:{span:4}},[t._v("申请小区")]),n("a-col",{attrs:{span:4}},[t._v("\n                      "+t._s(e.communityName)+"\n                    ")]),n("a-col",{attrs:{span:4}},[n("span",[t._v("项目类型")])]),n("a-col",{attrs:{span:4,"data-prop":"baseType"}},[n("j-d-dict-select-tag",{attrs:{dictCode:"project_type",align:"true",readOnlySpan:!0},model:{value:e.baseType,callback:function(r){t.$set(e,"baseType",r)},expression:"item.baseType"}})],1),n("a-col",{attrs:{span:4}},[n("span",[t._v("分摊方式")])]),n("a-col",{attrs:{span:4,"data-prop":"allotMode"}},[t._v("\n                      "+t._s(e.baseType_dictText)+"\n                    ")]),n("a-col",{attrs:{span:4}},[t._v("分摊范围")]),n("a-col",{staticClass:"font-style",attrs:{span:4,"data-prop":"sharedHousings"}},[n("span",{staticStyle:{"flex-shrink":"0"}},[t._v("\n                        "+t._s(e.sharedHousingNumber)+"户\n                      ")])]),n("a-col",{attrs:{span:4}},[n("span",[t._v("联系人")])]),n("a-col",{attrs:{span:4,"data-prop":"reqMan"}},[n("span",[t._v(t._s(e.reqMan))])]),n("a-col",{attrs:{span:4}},[n("span",[t._v("联系电话")])]),n("a-col",{attrs:{span:4,"data-prop":"reqPhone"}},[n("span",[t._v(t._s(e.reqPhone))])]),n("a-col",{attrs:{span:4}},[t._v("申报单位")]),n("a-col",{attrs:{span:4}},[t._v("\n                      "+t._s(e.reqCodeName?e.reqCodeName:"暂无")+"\n                    ")])],1)],1):t._e()])])})):n("a-empty",{staticClass:"projectListEmpty",attrs:{description:"暂无可比选项目"}})],2)]):"affirmBidder"===t.step?n("winning-bidder-affirm",{ref:"winningBidderAffirm",staticClass:"winningBidderAffirm",on:{affirm:t.bidderAffirm}}):"signConfirm"===t.step?n("sign-confirm",{ref:"signConfirm",staticClass:"signConfirm",attrs:{projId:t.queryParam.choosePro.projId},on:{handleOk:t.signHandleOk,backHome:function(){return t.back(!0)}}}):"resultQuery"===t.step?n("div",{staticClass:"resultTableBox"},[n("div",{staticStyle:{height:"100%",position:"relative"}},[t.queryParam.resultQuery.resultTableData&&t.queryParam.resultQuery.resultTableData.length>0?[n("vxe-grid",{attrs:{columns:t.queryParam.resultQuery.queryResultColumns,data:t.queryParam.resultQuery.resultTableData,"auto-resize":"",border:"",height:"auto"},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.row;return[n("a-space",[r.fileList&&r.fileList.length>0?n("div",{staticStyle:{display:"flex","flex-direction":"column"},on:{click:function(e){return t.showFile(r)}}},[n("a",[n("a-icon",{attrs:{type:"eye"}}),t._v(" 查看方案（"+t._s(r.fileList?r.fileList.length:0)+"）")],1),void 0!==r.progress?n("div",{staticClass:"tableActionProgressBox"},[n("a-progress",{staticClass:"tableActionProgress",attrs:{percent:r.progress,size:"small"},scopedSlots:t._u([{key:"format",fn:function(){return["progressing"===r.downloadState?n("span",[t._v(t._s(r.speedStr||"0kb/s"))]):t._e()]},proxy:!0}],null,!0)})],1):t._e()]):t._e(),n("a",{on:{click:function(e){return t.afreshSign(r)}}},[t._v("重新签字")])])]}}],null,!1,1097059951)})]:n("a-empty",{staticClass:"projectListEmpty",attrs:{description:"暂无已比选项目"}})],2)]):t._e()]],2),n("div",{staticClass:"page_footer"}),t.previewVisible?n("div",{staticClass:"outer_box"},[n("preview-picture",{ref:"previewPicture",attrs:{fileNum:t.previewNum,fileList:t.previewFileList},on:{cancel:function(e){t.previewVisible=!1}}})],1):t._e(),n("a-modal",{attrs:{closable:!1,footer:null,centered:""},model:{value:t.backMsgVisible,callback:function(e){t.backMsgVisible=e},expression:"backMsgVisible"}},[n("div",{staticClass:"backWarnMsg"},[t._v("系统检测到您已离开较长时间，系统稍后将自动返回首页！")])])],1)},a=[],o=r("eccd"),i=r("cf9e"),s=r("2b0e"),c=r("d3d5"),l=r("a2a2"),u=r("3426"),f=r.n(u),d=r("0fea"),h=r("b7a8"),p=r("7745"),m=r("4ec3");function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function b(){}function w(){}function x(){}var _={};l(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=f(t[a],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==y(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?m:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=m,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(y(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),l(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function g(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){g(o,n,a,i,s,"next",t)}function s(t){g(o,n,a,i,s,"throw",t)}i(void 0)}))}}var w={name:"ComparisonBusi",components:{PreviewPicture:h["default"],SignConfirm:l["default"],WinningBidderAffirm:c["default"],SerProModelStateComp:i["default"],JDDictSelectTag:o["default"]},mixins:[p["UploadFile"]],provide:function(){var t=this;return{loadSetting:function(){return t.loadingSetting}}},props:{type:{type:[String],default:"comparison"},defaultCertNo:{type:[String],default:""}},created:function(){var t=this;this.backMsgVisible=!1,this.clearTimer(),this.initTimer(),Object(m["l"])("AIO_timeout").then((function(e){e.success&&(t.autoBackOutTime=Number(e.result||"5"),t.autoBack())}))},mounted:function(){},beforeDestroy:function(){window.myAPI&&window.myAPI.ipcRendererMethod.removeAllListeners("finishedRecordingResult");var t=this.queryParam.readCard;t.countDownTimer&&(clearInterval(this.countDown),t.countDownTimer=null)},data:function(){return{readCardGif:f.a,autoBackOutTime:5,step:"readCard",backMsgVisible:!1,loadingSetting:{loading:!1,loadingText:""},queryParam:{readCard:{countDown:60,countDownTimer:null,certNo:"",name:""},choosePro:{projId:"",proInfo:{},projectList:[]},affirmBidder:{unitInfo:{}},signConfirm:{from:"affirmBidder"},resultQuery:{queryResultColumns:[{type:"seq",title:" ",width:60,align:"center"},{title:"维修项目",field:"describe",formatter:function(t){var e=t.row;return"【".concat(e.code,"】").concat(e.describe)},minWidth:200},{title:"小区名称",field:"communityName",minWidth:160},{title:"中标单位",field:"corpName",minWidth:150},{title:"企业报价（元）",field:"comparPrice",align:"right",minWidth:120},{title:"工期（天）",field:"comparDays",minWidth:100,align:"right"},{title:"质保期（月）",field:"comparPeriod",minWidth:100,align:"right"},{title:"状态",field:"state_dictText",align:"center",minWidth:120},{title:"操作",align:"center",minWidth:200,fixed:"right",slots:{default:"action"}}],resultTableData:[]}},fileParams:{previewVisible:!1,previewNum:0,previewFileList:{}},fileDownload:{},fileList:[],showList:[],websocket:null,mediaRecorder:null,url:{queryServiceProjByCertNoIsUnSelected:"/use/serviceProj/queryServiceProjByCertNoIsUnSelected",queryComparProjByCertNoIsSelected:"/use/serviceProj/queryComparProjByCertNoIsSelected",queryComparResultList:"/compare/bComparPart/queryComparResultList"}}},computed:{pageTitle:function(){switch(this.step){case"choosePro":return"比选项目确认";case"affirmBidder":return"中标单位确认";case"signConfirm":return"签名确认";default:return""}}},methods:{recordResultOn:function(t){t?this.$refs.signConfirm&&this.$refs.signConfirm.uploadRecordVideo(t):(this.loadingSetting.loading=!1,this.$message.error("系统录制异常！"))},showFile:function(){var t=b(v().mark((function t(e){var r,n,a,o;return v().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.myAPI){t.next=5;break}return this.fileList=e.fileList,this.buildShowList(),this.handlePreview(e.fileList[0]),t.abrupt("return");case 5:if(r=this.queryParam.resultQuery.resultTableData.find((function(t){return"progressing"===t.downloadState})),!r){t.next=9;break}return this.$message.warning("当前存在正在下载的附件，请稍候！"),t.abrupt("return");case 9:if(n=this,this.fileList=e.fileList,!window.myAPI){t.next=19;break}return a=new p["ElectronMainDownload"](e.fileList[0]),n.$set(e,"downloadState","progressing"),n.$set(e,"progress",0),t.next=17,a.onDownloadFile(e,(function(t){var r=t.remainderTime,a=t.progress,o=t.speedStr;n.$set(e,"progress",a),n.$set(e,"remainderTime",r),n.$set(e,"speedStr",o)}),(function(t,r){return n.$set(e,t,r),e[t]}));case 17:o=t.sent,o?this.$message.success("下载成功！"):this.$message.error("下载失败！");case 19:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),afreshSign:function(t){var e=this,r=this.queryParam,n=r.signConfirm,a=r.choosePro;a.projId=t.id,this.loadingSetting.loading=!0,this.loadingSetting.loadingText="",Object(d["e"])(this.url.queryComparResultList,{comparId:t.comparId,scope:t.projScope,current:1,size:999}).then((function(r){if(r.success){var a=r.result.records,o=a.find((function(e){return e.corpCode===t.biddingCorpCode}));o?(e.step="signConfirm",e.loadingSetting.loading=!1,e.$nextTick((function(){n.from="resultQuery",e.$refs.signConfirm.init({unitInfo:o,proId:t.id,reason:t.bidReason})})),window.myAPI.ipcRendererMethod.on("finishedRecordingResult",e.recordResultOn),e.initCapturer()):(e.$message.warning("中标单位不存在！"),e.loadingSetting.loading=!1)}else e.loadingSetting.loading=!1})).catch((function(){e.loadingSetting.loading=!1}))},initCapturer:function(){function t(){return e.apply(this,arguments)}function e(){return e=b(v().mark((function t(){return v().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){window.myAPI.ipcRendererMethod.send("clearRecording"),window.myAPI.ipcRendererMethod.send("getMediaStream")})));case 2:case"end":return t.stop()}}),t)}))),e.apply(this,arguments)}t()},signHandleOk:function(){this.mediaRecorder&&this.mediaRecorder.stop()},back:function(t){if(t)this.$emit("back");else{var e=this.queryParam,r=e.readCard,n=e.choosePro,a=e.signConfirm;switch(this.step){case"choosePro":return void this.$emit("back");case"resultQuery":return void this.$emit("back");case"affirmBidder":return void this.initProList({certNo:r.certNo,name:r.name,isBack:!0});case"signConfirm":return void("affirmBidder"===a.from?(window.myAPI&&(window.myAPI.ipcRendererMethod.removeAllListeners("finishedRecordingResult"),window.myAPI.ipcRendererMethod.send("clearRecording")),this.toComparison({proInfo:n.proInfo})):(window.myAPI&&window.myAPI.ipcRendererMethod.removeAllListeners("finishedRecordingResult"),this.initResult({certNo:r.certNo,name:r.name})));default:this.$emit("back")}}},initResult:function(t){var e=this,r=t.certNo,n=t.name;this.step="resultQuery";var a=this.queryParam.resultQuery;this.loadingSetting.loadingText="正在查询选定结果中，请稍候...",Object(d["e"])(this.url.queryComparProjByCertNoIsSelected,{certNo:r,name:n,size:999}).then((function(t){t&&t.success&&t.result&&(a.resultTableData=t.result.records||[]),e.loadingSetting.loading=!1})).catch((function(){e.loadingSetting.loading=!1}))},initProList:function(t){var e=this,r=t.certNo,n=t.name,a=t.isBack,o=void 0!==a&&a,i=this.queryParam.choosePro;this.step="choosePro",Object(d["e"])(this.url.queryServiceProjByCertNoIsUnSelected,{certNo:r,name:n,size:999}).then((function(t){t&&t.success&&t.result?(i.projectList=t.result.records||[],1===i.projectList.length?o||(e.$set(e.loadingSetting,"loadingText","当前只存在单个项目，已为您自动选择！"),setTimeout((function(){e.toComparison({proInfo:i.projectList[0]})}),2e3)):e.loadingSetting.loading=!1):(e.loadingSetting.loading=!1,e.$message.warning(t.message))})).catch((function(t){e.loadingSetting.loading=!1}))},toComparison:function(t){var e=t.proInfo,r=this;r.loadingSetting.loading=!1;var n=r.queryParam.choosePro;return n.projId=e.id,n.proInfo=e,r.step="affirmBidder",r.$nextTick((function(){r.$refs.winningBidderAffirm.init({proInfo:n.proInfo})})),!1},bidderAffirm:function(t){var e=this,r=t.row,n=t.reason,a=this.queryParam,o=a.affirmBidder,i=a.signConfirm,s=a.choosePro;o.unitInfo=r,this.step="signConfirm",this.$nextTick((function(){i.from="affirmBidder",e.$refs.signConfirm.init({unitInfo:r,proId:s.projId,reason:n}),window.myAPI.ipcRendererMethod.on("finishedRecordingResult",e.recordResultOn),e.initCapturer()}))},initTimer:function(){var t=b(v().mark((function t(){var e,r,n,a,o=this;return v().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=function(){return a=b(v().mark((function t(){var a,o;return v().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;setTimeout((function(){t(e)}),r)},t.next=3,new Promise((function(t){r.websocket=new WebSocket("ws://127.0.0.1:9000/"),r.websocket.onopen=function(t){r.websocket.send("<ReadIdCard>")},r.websocket.onclose=function(t){},r.websocket.onmessage=function(e){var n=e.data.split("");n.pop(),n.shift();var o=n.join(""),i=o.split(",");"0"===i[0]?a(t,{success:!0,result:{certNo:i[8],name:i[2]}}):a(t,{success:!1}),r.websocket.close()},r.websocket.onerror=function(e){r.websocket.close(),a(t,{success:!1})}}));case 3:if(o=t.sent,!o.success||!o.result){t.next=10;break}return e.certNo=o.result.certNo,e.name=o.result.name,r.$set(r.loadingSetting,"loading",!0),"comparison"===r.type?(r.$set(r.loadingSetting,"loadingText","身份证读卡成功！正在加载项目数据，请稍后..."),r.initProList({certNo:e.certNo,name:e.name})):(r.$set(r.loadingSetting,"loadingText","身份证读卡成功！正在查询选定结果，请稍后..."),r.initResult({certNo:e.certNo,name:e.name})),t.abrupt("return");case 10:if(!(e.countDownTimer&&e.countDown>3)){t.next=13;break}return t.next=13,n();case 13:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},n=function(){return a.apply(this,arguments)},e=this.queryParam.readCard,e.countDown=60,e.certNo="",e.name="",!this.defaultCertNo){t.next=12;break}return e.certNo=this.defaultCertNo,e.name=this.defaultName,this.$set(this.loadingSetting,"loading",!0),"comparison"===this.type?(this.$set(this.loadingSetting,"loadingText","身份证读卡成功！正在加载项目数据，请稍后..."),this.initProList({certNo:e.certNo,name:e.name})):(this.$set(this.loadingSetting,"loadingText","身份证读卡成功！正在查询选定结果，请稍后..."),this.initResult({certNo:e.certNo,name:e.name})),t.abrupt("return");case 12:return s["default"].ls.set("lastTime",(new Date).getTime()),e.countDownTimer=setInterval((function(){if(!e.certNo||!e.name)return e.countDown<=1?(o.clearTimer(),void o.back(!1)):void e.countDown--;o.clearTimer()}),1e3),r=this,t.next=17,n();case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clearTimer:function(){this.websocket&&this.websocket.close();var t=this.queryParam.readCard;clearInterval(t.countDownTimer),t.countDownTimer=null},expandInfo:function(t){this.$set(t,"expand",!t.expand)},autoBack:function(){var t=this;t.clearAIOAutoBackInterval();var e=(new Date).getTime(),r=(new Date).getTime();function n(){r=(new Date).getTime(),e=s["default"].ls.get("lastTime");var n=60*t.autoBackOutTime*1e3;r-e>n?(t.backMsgVisible=!1,t.back(!0),t.clearAIOAutoBackInterval()):t.backMsgVisible=n-(r-e)<1e4}window.AIOAutoBackInterval=window.setInterval(n,2e3)},clearAIOAutoBackInterval:function(){window.AIOAutoBackInterval&&(clearInterval(window.AIOAutoBackInterval),window.AIOAutoBackInterval=null)}}},x=w,_=(r("5de4"),r("4fcc"),r("2877")),C=Object(_["a"])(x,n,a,!1,null,"6f6550e6",null);e["default"]=C.exports},"44c6":function(t,e,r){t.exports=r.p+"img/avatar2.929b19fe.jpg"},"4b8e":function(t,e,r){},"4c09":function(t,e,r){},"4fcc":function(t,e,r){"use strict";r("937d")},"576a":function(t,e,r){"use strict";r("c144")},"5ab0":function(t,e,r){},"5c966":function(t,e,r){"use strict";r("7a94")},"5ec9":function(t,e,r){},"64fd":function(t,e,r){"use strict";r("93d5")},6681:function(t,e,r){"use strict";r("b728")},"679c":function(t,e,r){"use strict";r("8ae1")},"6a38":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("canvas",{ref:t.domId,staticClass:"app-sign-canvas",attrs:{id:t.domId},on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.handleMousedown.apply(null,arguments)},mousemove:function(e){return e.preventDefault(),e.stopPropagation(),t.handleMousemove.apply(null,arguments)},mouseup:function(e){return e.preventDefault(),e.stopPropagation(),t.handleMouseup.apply(null,arguments)},mouseleave:function(e){return e.preventDefault(),e.stopPropagation(),t.handleMouseleave.apply(null,arguments)},touchstart:function(e){return e.preventDefault(),e.stopPropagation(),t.handleTouchstart.apply(null,arguments)},touchmove:function(e){return e.preventDefault(),e.stopPropagation(),t.handleTouchmove.apply(null,arguments)},touchend:function(e){return e.preventDefault(),e.stopPropagation(),t.handleTouchend.apply(null,arguments)}}},[t._v("\n  您的浏览器不支持canvas技术,请升级浏览器!\n")])},a=[],o=r("2b0e"),i={name:"SignCanvas",model:{value:"image",event:"confirm"},props:{image:{required:!1,type:[String],default:null},options:{required:!1,type:[Object],default:function(){return null}}},data:function(){return{value:null,domId:"sign-canvas-".concat(Math.random().toString(36).substr(2)),canvas:null,context:null,dpr:1,config:{isFullCover:!1,isDpr:!1,lastWriteSpeed:1,lastWriteWidth:2,lineCap:"round",lineJoin:"round",canvasWidth:600,canvasHeight:600,bgColor:"#fcc",borderWidth:1,borderColor:"#ff787f",writeWidth:5,maxWriteWidth:30,minWriteWidth:5,writeColor:"#101010",imgType:"png"},resizeTimer:null,storageSteps:[],storageStepTimes:[],controller:null}},mounted:function(){var t=this;this.init(),this.controller=new AbortController;var e=this.controller.signal;window.addEventListener("resize",(function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout((function(){t.init()}),100)}),{signal:e})},beforeDestroy:function(){this.controller&&this.controller.abort()},watch:{options:{handler:function(){this.init()},deep:!0}},methods:{init:function(){var t=this.options;if(t)for(var e in t)this.config[e]=t[e];this.storageStepTimes=[],this.storageSteps=[],this.dpr="undefined"!==typeof window&&this.config.isDpr&&(window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio)||1,this.canvas=document.getElementById(this.domId),this.context=this.canvas.getContext("2d"),this.context.fillStyle="white",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.canvas.style.background=this.config.bgColor,this.canvas.height=this.config.canvasWidth,this.canvas.width=this.config.canvasHeight,this.canvasInit(),this.canvasClear()},setLineWidth:function(){var t=(new Date).getTime();this.config.lastWriteTime;this.config.lastWriteTime=t,this.context.lineWidth=this.config.writeWidth*this.dpr},writeBegin:function(t){this.$emit("begin"),this.config.isWrite=!0,this.config.lastWriteTime=(new Date).getTime(),this.config.lastPoint=t,this.config.beginPoint=t,this.config.writeBeginTime=(new Date).getTime(),this.writeContextStyle()},writing:function(t){this.context.beginPath(),this.context.moveTo(this.config.lastPoint.x*this.dpr,this.config.lastPoint.y*this.dpr),this.context.lineTo(t.x*this.dpr,t.y*this.dpr),this.setLineWidth(),this.context.stroke(),this.config.lastPoint=t,this.context.closePath()},writeEnd:function(t){this.config.isWrite=!1,this.config.lastPoint=t,this.config.endPoint=t,this.saveAsImg();var e=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height);this.storageSteps.push(e);var r=(new Date).getTime()-this.config.writeBeginTime,n=this.config,a=n.beginPoint,o=n.endPoint,i=Math.hypot(Math.abs(a.x-o.x),Math.abs(a.y-o.y));this.storageStepTimes.push({useTime:r,drawLength:i})},writeContextStyle:function(){this.context.beginPath(),this.context.strokeStyle=this.config.writeColor,this.context.lineCap=this.config.lineCap,this.context.lineJoin=this.config.lineJoin},canvasClear:function(){this.storageSteps=[],this.storageStepTimes=[],this.context.save(),this.context.strokeStyle=this.config.writeColor,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="white",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.beginPath(),this.context.lineWidth=this.config.borderWidth*this.dpr,this.context.strokeStyle=this.config.borderColor,this.$emit("confirm",null),this.$emit("clear"),this.context.restore()},revert:function(){this.storageSteps.pop(),this.storageStepTimes.pop();var t=this.storageSteps.length;t?this.context.putImageData(this.storageSteps[t-1],0,0):this.canvasClear(),this.saveAsImg()},saveAsImg:function(){var t=new Image;return t.src=this.canvas.toDataURL("image/".concat(this.config.imgType)),this.$emit("confirm",t.src),t.src},canvasInit:function(){this.context.fillStyle="white",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.canvas.width=this.config.canvasWidth*this.dpr,this.canvas.height=this.config.canvasHeight*this.dpr,this.canvas.style.width="".concat(this.config.canvasWidth,"px"),this.canvas.style.height="".concat(this.config.canvasHeight,"px"),this.config.emptyCanvas=this.canvas.toDataURL("image/".concat(this.config.imgType))},handleMousedown:function(t){o["default"].ls.set("lastTime",(new Date).getTime()),this.writeBegin({x:t.offsetX||t.clientX,y:t.offsetY||t.clientY})},handleMousemove:function(t){o["default"].ls.set("lastTime",(new Date).getTime()),this.config.isWrite&&this.writing({x:t.offsetX,y:t.offsetY})},handleMouseup:function(t){this.writeEnd({x:t.offsetX,y:t.offsetY})},handleMouseleave:function(t){this.config.isWrite=!1,this.config.lastPoint={x:t.offsetX,y:t.offsetY}},handleTouchstart:function(t){o["default"].ls.set("lastTime",(new Date).getTime());var e=t.targetTouches[0],r=e.clientX?e.clientX-this.getRect().left:e.pageX-this.offset(e.target,"left"),n=e.clientY?e.clientY-this.getRect().top:e.pageY-this.offset(e.target,"top");this.writeBegin({x:r,y:n})},handleTouchmove:function(t){o["default"].ls.set("lastTime",(new Date).getTime());var e=t.targetTouches[0],r=e.clientX?e.clientX-this.getRect().left:e.pageX-this.offset(e.target,"left"),n=e.clientY?e.clientY-this.getRect().top:e.pageY-this.offset(e.target,"top");this.config.isWrite&&this.writing({x:r,y:n})},handleTouchend:function(t){var e=t.targetTouches,r=t.changedTouches,n=e&&e.length&&e[0]||r&&r.length&&r[0],a=n.clientX?n.clientX-this.getRect().left:n.pageX-this.offset(n.target,"left"),o=n.clientY?n.clientY-this.getRect().top:n.pageY-this.offset(n.target,"top");this.writeEnd({x:a,y:o})},downloadSignImg:function(t){var e=document.getElementById(this.domId),r=e.toDataURL("image/png");this.saveFile(r,t?"".concat(t,".").concat(this.config.imgType):"".concat(Date.parse(new Date),".").concat(this.config.imgType))},saveFile:function(t,e){var r=document.createElementNS("http://www.w3.org/1999/xhtml","a");r.href=t,r.download=e;var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(n)},getRect:function(){return this.$refs[this.domId].getBoundingClientRect()},offset:function(t,e){var r="offset"+e[0].toUpperCase()+e.substring(1),n=t[r],a=t.offsetParent;while(null!=a)n+=a[r],a=a.offsetParent;return n},checkSign:function(){var t=0;return this.storageStepTimes.forEach((function(e){e.drawLength>0&&(t+=e.useTime)})),t>1e3?{success:!0,message:""}:{success:!1,message:"签名过于简单，请重新签名！"}}}},s=i,c=r("2877"),l=Object(c["a"])(s,n,a,!1,null,null,null);e["default"]=l.exports},"6ad7":function(t,e,r){},"6d9f":function(t,e,r){},7354:function(t,e,r){},"79d4":function(t,e,r){"use strict";r("e197")},"7a94":function(t,e,r){},"7ecd":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"collectionChart",attrs:{"body-style":{padding:"14px",height:"100%"}}},[r("div",{staticClass:"cardBody"},[r("div",{staticClass:"title"},[r("h3",{staticClass:"headline"},[t._v("归集")])]),r("ul",[r("li",[r("p",[t._v("总归集")]),r("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(t.collectionData.depositAmount?t.collectionData.depositAmount:0,"html"))}}),r("div",[r("trend",{key:"sumYearOnYear"+t.trendKey,attrs:{target:t.collectionData.depositAmount,value:t.collectionData.lastYearDepositAmount,term:"同比"}})],1)]),r("li",[r("p",[t._v("当月("+t._s(t.currentYear)+"年"+t._s(t.currentMonth)+"月)")]),r("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(t.collectionData.thisMonthDepositAmount?t.collectionData.thisMonthDepositAmount:0,"html"))}}),r("div",[r("trend",{key:"yearOnYear"+t.trendKey,attrs:{target:t.collectionData.thisMonthDepositAmount,value:t.collectionData.lastYearMonthDepositAmount,term:"同比"}}),r("trend",{key:"trend"+t.trendKey,attrs:{target:t.collectionData.thisMonthDepositAmount,value:t.collectionData.lastMonthDepositAmount,term:"环比"}})],1)]),r("li",[r("p",[t._v("当年("+t._s(t.currentYear)+"年)")]),r("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(t.collectionData.thisYearDepositAmount?t.collectionData.thisYearDepositAmount:0,"html"))}}),r("div",[r("trend",{key:"nowYearOnYear"+t.trendKey,attrs:{target:t.collectionData.thisYearDepositAmount,value:t.collectionData.lastYearDepositAmount,term:"同比"}})],1)])]),r("div",{staticClass:"chart_title"},[r("div",{staticClass:"count_title headline"},[t._v("当月归集统计")])]),r("div",{staticClass:"chartContainer"},[r("div",{staticClass:"lineChart",attrs:{id:"collectionChart"}})])])])},a=[],o=r("164e"),i=r("527e"),s=r("3ed7"),c=r("0fea");function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function f(t,e){if(t){if("string"==typeof t)return d(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};u(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=d(t[a],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==l(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=d(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=d(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(l(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=u(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),u(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(f(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function p(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){p(o,n,a,i,s,"next",t)}function s(t){p(o,n,a,i,s,"throw",t)}i(void 0)}))}}var y={name:"CollectionChart",components:{Trend:i["default"]},props:{sysOrgCode:{type:String,default:""},zoneCode:{type:String,default:""},cardSize:{type:Object,default:function(){}},compKey:{type:Number,default:0},isInit:{type:Boolean,default:!0}},created:function(){this.isInit&&this.initData(),this.$emit("mount",{width:20,height:80})},mounted:function(){this.resizeChart()},watch:{compKey:function(t){this.initData()}},data:function(){return{loading:!1,collectionData:{},trendKey:0,currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth()+1,resizeObserver:null,url:{collectionData:"/statistics/analysis/queryDepositData",depositDataForBank:"/statistics/analysis/queryDepositDataForBank"}}},methods:{formatterAmountToMany:s["h"],initData:function(){var t=this,e={sysOrgCode:this.sysOrgCode,zoneCode:this.zoneCode};Object(c["e"])(this.url.collectionData,e).then((function(e){e.success&&e.result&&(t.collectionData=e.result,t.trendKey++)})),this.$nextTick((function(){t.getLineChart()}))},getLineChart:function(){var t=m(h().mark((function t(){var e,r,n,a=this;return h().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.rateChart&&this.rateChart.dispose(),e=document.getElementById("collectionChart"),this.rateChart=o["init"](e),this.loading=!0,t.prev=4,r={sysOrgCode:this.sysOrgCode,zoneCode:this.zoneCode},t.next=8,Object(c["e"])(this.url.depositDataForBank,r).then((function(t){t.success&&t.result&&(a.deposiBankList=t.result)}));case 8:this.loading=!1,n={tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}},title:{x:"left",subtext:"单位：万元",subtextStyle:{color:"#333",fontSize:"14",fontFamily:"myTextFont"}},dataset:{source:this.deposiBankList},xAxis:[{type:"category",axisTick:{show:!1},axisLabel:{margin:10,fontFamily:"myTextFont",color:"#2c3541",interval:0,formatter:this.xLabelFormatter,fontSize:"careMode"===this.layout?14:12}}],yAxis:{axisLabel:{formatter:function(t){return Object(s["i"])(t)},fontSize:"careMode"===this.layout?14:12}},color:["rgba(91, 143, 249, 0.85)"],grid:{left:"10%",right:"1%"},textStyle:{fontFamily:"myConttFont",color:"#2c3541"},dataZoom:[{orient:"horizontal",show:this.deposiBankList.length>7,realtime:!0,height:10,top:"90%",bottom:"5%",zoomLock:!1,startValue:0,endValue:6,showDetail:!1,fillerColor:"rgba(255, 255, 255,0.5)"},{type:"inside",brushSelect:!0,startValue:0,endValue:6,xAxisIndex:[0],moveOnMouseMove:!0,zoomLock:!0,zoomOnMouseWheel:!1}],series:[{type:"bar",barWidth:"30",label:{show:!0,position:"top",fontFamily:"myConttFont",fontSize:"careMode"===this.layout?14:12,formatter:function(t){var e=t.data;return(e.depositamount/1e4).toFixed(2)}},encode:{x:2,y:1},itemStyle:{borderRadius:[4,4,0,0]}}]},this.rateChart.setOption(n),this.rateChart.resize(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),this.loading=!1;case 17:case"end":return t.stop()}}),t,this,[[4,14]])})));function e(){return t.apply(this,arguments)}return e}(),xLabelFormatter:function(t){var e="",r=t.length,n=4,a=Math.ceil(r/n);if(r>n)for(var o=0;o<a;o++){var i="",s=o*n,c=s+n;i=o==a-1?t.substring(s,r):t.substring(s,c)+"\n",e+=i}else e=t;return e},resizeChart:function(){var t=this;this.resizeObserver=new ResizeObserver((function(e){var r,n=u(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.contentBoxSize&&t.rateChart&&t.rateChart.resize()}}catch(o){n.e(o)}finally{n.f()}})),this.resizeObserver.observe(this.$el)}},beforeDestroy:function(){this.resizeObserver&&this.resizeObserver.disconnect()}},v=y,g=(r("f69c"),r("2877")),b=Object(g["a"])(v,n,a,!1,null,"45f5410a",null);e["default"]=b.exports},"84c5":function(t,e,r){"use strict";r("5ec9")},"85c0":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"full"},[r("home-card",{staticClass:"full",attrs:{"header-title":"项目统计"}},[r("div",{staticClass:"projectTotal"},t._l(t.projectTotal,(function(e,n){return r("div",{key:"projTotal"+n,staticClass:"data-item"},[r("em",{staticClass:"data-item-icon",class:e.icon}),r("div",[r("p",{staticClass:"data-item-value"},[t._v(t._s(e.value))]),r("p",{staticClass:"data-item-label"},[t._v(t._s(e.label))])])])})),0)])],1)},a=[],o=r("0fea"),i=r("bc7a"),s={name:"ProjectTotalRealEstate",components:{HomeCard:i["default"]},created:function(){this.getProjects()},data:function(){return{projectTotal:[{label:"项目总数",value:0,icon:"el-icon-data-analysis"},{label:"在途项目",value:0,icon:"el-icon-tickets"},{label:"完成项目",value:0,icon:"el-icon-notebook-2"}],url:{getProjInfo:"/home/getProjInfo"}}},methods:{getProjects:function(){var t=this;Object(o["e"])(this.url.getProjInfo).then((function(e){e.success&&(t.projectTotal[0].value=e.result.serviceNum||0,t.projectTotal[1].value=e.result.proIngNum||0,t.projectTotal[2].value=e.result.proCompletedNum||0)}))}}},c=s,l=(r("c6b7"),r("2877")),u=Object(l["a"])(c,n,a,!1,null,"11b38406",null);e["default"]=u.exports},"8ae1":function(t,e,r){},"8baa":function(t,e,r){"use strict";r("0d99d")},"90b5":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.noticeList&&t.noticeList.length>0?r("div",{staticClass:"noticeAlert",class:["noticeAlert_"+t.layout]},[r("a-carousel",{attrs:{adaptiveHeight:!0,autoplay:!0,dots:!1,"dot-position":"right"}},t._l(t.noticeList,(function(e,n){return r("a-alert",{key:e.id,staticStyle:{"margin-top":"0 !important"},attrs:{closable:!1,"show-icon":!0,type:"info"}},[r("div",{staticClass:"message",attrs:{slot:"message"},slot:"message"},[r("div",{staticClass:"messageBoxItem"},[r("p",{staticClass:"maxP"},[r("span",{staticClass:"Space",attrs:{title:e.titile}},[t._v(t._s(e.titile))]),r("span",{staticClass:"minSpan",staticStyle:{color:"#c72e2e"}},[t._v(" 创建时间："+t._s(e.createTime))])]),r("div",{staticClass:"analysis_alert_right"},[r("a",{on:{click:function(r){return t.showAnnouncement(e)}}},[t._v("查看详情")]),r("a-icon",{attrs:{type:"close"},on:{click:function(r){return t.closeNotice(e,n)}}})],1)])])])})),1),r("show-announcement",{ref:"ShowAnnouncement"})],1):r("a-alert",{staticClass:"noticeAlertEmpty",attrs:{type:"info",message:"暂无通知消息"}})},a=[],o=r("0fea"),i=r("2bd9"),s=r("2f62");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t){var e=h(t,"string");return"symbol"==c(e)?e:e+""}function h(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var p={name:"NoticeAlert",components:{ShowAnnouncement:i["default"]},created:function(){this.$emit("mount",{width:36,height:8}),this.getNoticeList()},mounted:function(){this.$bus.$on("AnalysisGetList",this.getNoticeList)},beforeDestroy:function(){this.$bus.$off("AnalysisGetList",this.getNoticeList)},data:function(){return{noticeList:[],url:{listCementByUser:"/sys/annountCement/listByUser",editCementSend:"/sys/sysAnnouncementSend/editByAnntIdAndUserId"}}},computed:u({},Object(s["d"])({layout:function(t){return t.app.layout}})),methods:{showAnnouncement:function(t){var e=this;Object(o["l"])(this.url.editCementSend,{anntId:t.id}).then((function(t){t.success&&e.getNoticeList()})),"component"===t.openType?(this.openPath=t.openPage,this.formData={id:t.busId},this.$refs.showDynamNotice.detail(t.openPage)):this.$refs.ShowAnnouncement.detail(t)},getNoticeList:function(){var t=this;this.$bus.$emit("updateHeaderNotice"),Object(o["e"])(this.url.listCementByUser,{}).then((function(e){e.success&&(t.noticeList=e.result.anntMsgList)}))},closeNotice:function(t,e){var r=this;Object(o["l"])(this.url.editCementSend,{anntId:t.id}).then((function(t){t.success?(r.getNoticeList(),r.$store.dispatch("setTodoNum")):r.$message.error("通知关闭失败！")}))}}},m=p,y=(r("6681"),r("2877")),v=Object(y["a"])(m,n,a,!1,null,"3f0cb938",null);e["default"]=v.exports},"937d":function(t,e,r){},"937f":function(t,e,r){"use strict";r("6d9f")},"93d5":function(t,e,r){},"94bb":function(t,e,r){"use strict";r.r(e);for(var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-header-index-wide"},[r("a-row",{attrs:{gutter:24}},[r("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[r("chart-card",{attrs:{loading:t.loading,title:"总销售额",total:"￥126,560"}},[r("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[r("a-icon",{attrs:{type:"info-circle-o"}})],1),r("div",[r("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"up"}},[r("span",{attrs:{slot:"term"},slot:"term"},[t._v("周同比")]),t._v("\n            12%\n          ")]),r("trend",{attrs:{flag:"down"}},[r("span",{attrs:{slot:"term"},slot:"term"},[t._v("日同比")]),t._v("\n            11%\n          ")])],1),r("template",{slot:"footer"},[t._v("日均销售额"),r("span",[t._v("￥ 234.56")])])],2)],1),r("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[r("chart-card",{attrs:{loading:t.loading,title:"订单量",total:t._f("NumberFormat")(8846)}},[r("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[r("a-icon",{attrs:{type:"info-circle-o"}})],1),r("div",[r("mini-area")],1),r("template",{slot:"footer"},[t._v("日订单量"),r("span",[t._v(" "+t._s(t._f("NumberFormat")("1234")))])])],2)],1),r("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[r("chart-card",{attrs:{loading:t.loading,title:"支付笔数",total:t._f("NumberFormat")(6560)}},[r("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[r("a-icon",{attrs:{type:"info-circle-o"}})],1),r("div",[r("mini-bar",{attrs:{height:40}})],1),r("template",{slot:"footer"},[t._v("转化率 "),r("span",[t._v("60%")])])],2)],1),r("a-col",{style:{marginBottom:"24px"},attrs:{sm:24,md:12,xl:6}},[r("chart-card",{attrs:{loading:t.loading,title:"运营活动效果",total:"78%"}},[r("a-tooltip",{attrs:{slot:"action",title:"指标说明"},slot:"action"},[r("a-icon",{attrs:{type:"info-circle-o"}})],1),r("div",[r("mini-progress",{attrs:{color:"rgb(19, 194, 194)",target:80,percentage:78,height:8}})],1),r("template",{slot:"footer"},[r("trend",{staticStyle:{"margin-right":"16px"},attrs:{flag:"down"}},[r("span",{attrs:{slot:"term"},slot:"term"},[t._v("同周比")]),t._v("\n            12%\n          ")]),r("trend",{attrs:{flag:"up"}},[r("span",{attrs:{slot:"term"},slot:"term"},[t._v("日环比")]),t._v("\n            80%\n          ")])],1)],2)],1)],1),r("a-card",{attrs:{loading:t.loading,bordered:!1,"body-style":{padding:"0"}}},[r("div",{staticClass:"salesCard"},[r("a-tabs",{attrs:{"default-active-key":"1",size:"large","tab-bar-style":{marginBottom:"24px",paddingLeft:"16px"}}},[r("div",{staticClass:"extra-wrapper",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[r("div",{staticClass:"extra-item"},[r("a",[t._v("今日")]),r("a",[t._v("本周")]),r("a",[t._v("本月")]),r("a",[t._v("本年")])]),r("a-range-picker",{style:{width:"256px"}})],1),r("a-tab-pane",{key:"1",attrs:{loading:"true",tab:"销售额"}},[r("a-row",[r("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[r("bar",{attrs:{title:"销售额排行",dataSource:t.barData}})],1),r("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[r("rank-list",{attrs:{title:"门店销售排行榜",list:t.rankList}})],1)],1)],1),r("a-tab-pane",{key:"2",attrs:{tab:"销售趋势"}},[r("a-row",[r("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[r("bar",{attrs:{title:"销售额趋势",dataSource:t.barData}})],1),r("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[r("rank-list",{attrs:{title:"门店销售排行榜",list:t.rankList}})],1)],1)],1)],1)],1)]),r("a-row",[r("a-col",{attrs:{span:24}},[r("a-card",{style:{marginTop:"24px"},attrs:{loading:t.loading,bordered:!1,title:"最近一周访问量统计"}},[r("a-row",[r("a-col",{attrs:{span:6}},[r("head-info",{attrs:{title:"今日IP",content:t.loginfo.todayIp}})],1),r("a-col",{attrs:{span:2}},[r("a-spin",{staticClass:"circle-cust"},[r("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"environment"},slot:"indicator"})],1)],1),r("a-col",{attrs:{span:6}},[r("head-info",{attrs:{title:"今日访问",content:t.loginfo.todayVisitCount}})],1),r("a-col",{attrs:{span:2}},[r("a-spin",{staticClass:"circle-cust"},[r("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"team"},slot:"indicator"})],1)],1),r("a-col",{attrs:{span:6}},[r("head-info",{attrs:{title:"总访问量",content:t.loginfo.totalVisitCount}})],1),r("a-col",{attrs:{span:2}},[r("a-spin",{staticClass:"circle-cust"},[r("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"rise"},slot:"indicator"})],1)],1)],1),r("line-chart-multid",{attrs:{fields:t.visitFields,dataSource:t.visitInfo}})],1)],1)],1)],1)},a=[],o=r("05ed"),i=r("da05"),s=r("3896"),c=r("1d43"),l=r("942d"),u=r("bf13"),f=r("0923"),d=r("edd9"),h=r("4ec6"),p=r("81d1"),m=r("611e"),y=r("4ec3"),v=[],g=0;g<7;g++)v.push({name:"白鹭岛 "+(g+1)+" 号店",total:1234.56-100*g});for(var b=[],w=0;w<12;w+=1)b.push({x:"".concat(w+1,"月"),y:Math.floor(1e3*Math.random())+200});var x={name:"IndexChart",components:{ATooltip:s["a"],ACol:i["b"],ChartCard:o["default"],MiniArea:c["default"],MiniBar:l["default"],MiniProgress:u["default"],RankList:f["default"],Bar:d["default"],Trend:m["a"],LineChartMultid:h["default"],HeadInfo:p["default"]},data:function(){var t=this.$createElement;return{loading:!0,center:null,rankList:v,barData:b,loginfo:{},visitFields:["ip","visit"],visitInfo:[],indicator:t("a-icon",{attrs:{type:"loading",spin:!0},style:"font-size: 24px"})}},created:function(){var t=this;setTimeout((function(){t.loading=!t.loading}),1e3),this.initLogInfo()},methods:{initLogInfo:function(){var t=this;Object(y["E"])(null).then((function(e){e.success&&(Object.keys(e.result).forEach((function(t){e.result[t]=e.result[t]+""})),t.loginfo=e.result)})),Object(y["M"])().then((function(e){e.success&&(t.visitInfo=e.result)}))}}},_=x,C=(r("0a02"),r("2877")),k=Object(C["a"])(_,n,a,!1,null,"602a0832",null);e["default"]=k.exports},"9d5c":function(t,e,r){},a20ea:function(t,e,r){"use strict";r("ef92")},a2a2:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"signConfirm"},[r("div",{staticClass:"top"},[r("div",{staticClass:"baseInfo"},[r("a-row",{staticClass:"houseInfo"},[r("a-col",{attrs:{span:4}},[r("span",[t._v("单位名称")])]),r("a-col",{attrs:{span:12}},[r("span",[t._v(t._s(t.unitInfo.corpName))])]),r("a-col",{attrs:{span:4}},[r("span",[t._v("统一社会信用代码")])]),r("a-col",{attrs:{span:4}},[r("span",[t._v(t._s(t.unitInfo.license))])]),r("a-col",{attrs:{span:4}},[r("span",[t._v("联系人")])]),r("a-col",{attrs:{span:4}},[r("span",[t._v(t._s(t.unitInfo.contacts))])]),r("a-col",{attrs:{span:4}},[r("span",[t._v("联系电话")])]),r("a-col",{attrs:{span:4}},[r("span",[t._v(t._s(t.unitInfo.contactNumber))])]),r("a-col",{attrs:{span:4}},[r("span",[t._v("信用等级")])]),r("a-col",{attrs:{span:4}},[r("span",[t._v(t._s(t.unitInfo.creditLevel))])]),r("a-col",{attrs:{span:4}},[r("span",[t._v("维修报价（元）")])]),r("a-col",{attrs:{span:4}},[r("span",[t._v(t._s(t.unitInfo.corpPrice))])]),r("a-col",{attrs:{span:4}},[r("span",[t._v("质保期（月）")])]),r("a-col",{attrs:{span:4}},[r("span",[t._v(t._s(t.unitInfo.period))])]),r("a-col",{attrs:{span:4}},[r("span",[t._v("工期（天）")])]),r("a-col",{attrs:{span:4}},[r("span",[t._v(t._s(t.unitInfo.days))])]),r("a-col",{attrs:{span:4}},[r("span",[t._v("比选得分")])]),r("a-col",{attrs:{span:4}},[r("span",[t._v(t._s(t.unitInfo.scoreTotal))])])],1)],1),r("div",{staticClass:"shootAVideo"},[t.hasFace?t._e():r("p",{staticClass:"warnText"},[t._v("请正对摄像头！")]),r("face-detection",{ref:"faceDetection",staticClass:"faceDetection",attrs:{hasFace:t.hasFace},on:{"update:hasFace":function(e){t.hasFace=e},"update:has-face":function(e){t.hasFace=e}}})],1)]),r("div",{staticClass:"middle"},[r("div",{staticClass:"middle_left"},[r("div",{ref:"middle_sign_box",staticClass:"middle_sign_box"},[t.showSign?r("signature-edition",{ref:"leftSign",attrs:{options:t.options,placeholder:"物业代表请在此处签名"},on:{clear:function(e){t.leftSignPlaceholder=!0},begin:function(e){t.leftSignPlaceholder=!1}},model:{value:t.leftSignBase64,callback:function(e){t.leftSignBase64=e},expression:"leftSignBase64"}}):t._e(),t.leftSignPlaceholder?r("p",{staticClass:"signPlaceholder"},[t._v("\n          物业代表请在此处签名\n        ")]):t._e()],1),r("div",{staticClass:"middle_sign_footer align-left"},[r("a-button",{attrs:{size:"large"},on:{click:function(e){return t.reset("left")}}},[t._v("重置")]),r("a-button",{attrs:{size:"large"},on:{click:function(e){return t.signRevert("left")}}},[t._v("签名撤销")])],1)]),r("div",{staticClass:"middle_right"},[r("div",{ref:"middle_sign_box",staticClass:"middle_sign_box"},[t.showSign?r("signature-edition",{ref:"rightSign",attrs:{options:t.options,placeholder:"业主代表请在此处签名"},on:{clear:function(e){t.rightSignPlaceholder=!0},begin:function(e){t.rightSignPlaceholder=!1}},model:{value:t.signBase64,callback:function(e){t.signBase64=e},expression:"signBase64"}}):t._e(),t.rightSignPlaceholder?r("p",{staticClass:"signPlaceholder"},[t._v("\n          业主代表请在此处签名\n        ")]):t._e()],1),r("div",{staticClass:"middle_sign_footer align-right"},[r("a-button",{attrs:{size:"large"},on:{click:function(e){return t.reset("right")}}},[t._v("重置")]),r("a-button",{attrs:{size:"large"},on:{click:function(e){return t.signRevert("right")}}},[t._v("签名撤销")]),r("a-button",{attrs:{size:"large",type:"primary"},on:{click:function(e){return t.saveSign("right")}}},[t._v("保存签名")])],1)])]),r("div",{staticClass:"align-center"},[t._v("\n    请在此处签名，签名内容为您的真实姓名。请注意，不要使用连笔字或其他难以辨认的字体，以免影响您的业务办理。\n  ")]),r("div",{staticClass:"bottom"},[r("a-space",[r("a-button",{attrs:{size:"large",disabled:!t.hasFace,type:"primary"},on:{click:t.handleOk}},[t._v("确认")])],1)],1),t.saveSignList&&t.saveSignList.length>0&&!t.loadSetting().loading?r("div",{staticClass:"tempSignBox"},[r("a-badge",{attrs:{count:t.saveSignList.length}},[r("a-icon",{staticClass:"tempSignIcon",attrs:{type:"folder-open"},on:{click:function(){return t.openModal(!0)}}})],1)],1):t._e(),r("a-modal",{attrs:{"body-style":{paddingBottom:"75px"},width:"1000px"},scopedSlots:t._u([{key:"footer",fn:function(){return[r("a-button",{attrs:{type:"danger"},on:{click:t.removeSignByIndex}},[t._v("删除签名")]),r("a-button",{on:{click:function(){return t.openModal(!1)}}},[t._v("关闭")])]},proxy:!0}]),model:{value:t.tempSignVisible,callback:function(e){t.tempSignVisible=e},expression:"tempSignVisible"}},[r("a-carousel",{staticStyle:{width:"100%"},attrs:{afterChange:t.afterChange,"dots-class":"slick-dots slick-thumb"},scopedSlots:t._u([{key:"customPaging",fn:function(e){return r("a",{},[r("img",{staticClass:"carouselDot",attrs:{src:t.saveSignList[e.i]}})])}}])},[t._l(t.saveSignList,(function(t,e){return[r("img",{key:e,staticStyle:{width:"100%"},attrs:{src:t}})]}))],2)],1),r("a-modal",{attrs:{width:"900px",title:"业主代表选择施工单位提示",closable:!1,keyboard:!1,maskClosable:!1},scopedSlots:t._u([{key:"footer",fn:function(){return[r("div",{staticStyle:{"text-align":"center","font-size":"1.4rem"}},[r("a-checkbox",{model:{value:t.isReadInstruction,callback:function(e){t.isReadInstruction=e},expression:"isReadInstruction"}},[t._v("我已阅读上述条例")]),t.isReadInstruction?r("a-button",{attrs:{size:"large",type:"primary"},on:{click:function(e){t.instructVisible=!1}}},[t._v("确定")]):t._e()],1)]},proxy:!0}]),model:{value:t.instructVisible,callback:function(e){t.instructVisible=e},expression:"instructVisible"}},[r("div",{staticClass:"instructBody"},[r("p",[t._v("本提示的目的在于规范业主代表在选择施工单位过程中的行为，确保自愿原则以公正、公平、公开的原则选择的施工单位。")]),r("p",[t._v("1、比选得分采用综合得分法，考虑价格、信用、质保期、工期等因素。业主代表应对施工单位的技术、管理等其他因素进行综合考量，谨慎选择，以确保选择的施工单位具备完成工程的能力。")]),r("p",[t._v("2、业主代表在选择施工单位时应本着公正、公平的原则，不得涉及任何形式的利益输送，并承诺代表大多数业主意见。")]),r("p",[t._v("3、业主代表应当在确认施工单位前详细阅读提供的施工方案，明确工程的技术方案、工程量情况、质保期情况等。")]),r("p",[t._v("4、比选完成后比选结果将公开公示，公示内容包括所有参加比选单位的报价、得分，以及您选择的施工单位的名称、报价、排名、得分、选择理由等。")])])])],1)},a=[],o=r("6a38"),i=r("0fea"),s=r("ed3b"),c=r("c1df"),l=r.n(c),u=r("6821"),f=r.n(u),d=r("40dc"),h=r("f230"),p=r.n(h);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function y(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=v(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function v(t,e){if(t){if("string"==typeof t)return g(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */b=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",y="completed",v={};function g(){}function w(){}function x(){}var _={};l(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=g.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=f(t[a],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==m(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?y:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=y,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(m(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),l(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function w(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function x(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){w(o,n,a,i,s,"next",t)}function s(t){w(o,n,a,i,s,"throw",t)}i(void 0)}))}}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return(e=S(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S(t){var e=L(t,"string");return"symbol"==m(e)?e:e+""}function L(t,e){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var j={name:"SignConfirm",props:{projId:{type:String,default:""}},inject:["loadSetting"],components:{FaceDetection:d["default"],SignatureEdition:o["default"]},data:function(){return{unitInfo:{},showSign:!1,leftSignPlaceholder:!0,rightSignPlaceholder:!0,options:{isDpr:!1,lastWriteSpeed:1,lastWriteWidth:2,lineCap:"round",lineJoin:"bevel",canvasWidth:350,canvasHeight:370,isShowBorder:!0,bgColor:"#fff",borderWidth:1,borderColor:"#999",writeWidth:5,maxWriteWidth:30,minWriteWidth:5,writeColor:"#101010",isSign:!0,imgType:"jpeg"},fileCategorylist:[],signBase64:"",leftSignBase64:"",saveSignList:[],tempSignVisible:!1,videoBuffer:null,params:{},erecordId:"",hasFace:!0,carouselIndex:0,instructVisible:"",isReadInstruction:!1,url:{onBidding:"/compare/bComparPart/onBidding",queryDrawInfo:"/use/serviceProj/queryDrawInfo",fileChunkUpload:"/control/file/chunk_upload",fileMergeUpload:"/control/file/merge_upload",fileCheckUpload:"/control/file/check_upload"}}},created:function(){var t=this;this.$nextTick((function(){var e=t.$refs.middle_sign_box;t.options.canvasWidth=e.clientWidth,t.options.canvasHeight=e.clientHeight,t.showSign=!0}))},computed:{uploadFile:function(){return window._CONFIG["domianURL"]+"/control/file/uploadImg?"+"parenPath=&uploadType=5&busiType=20&busiTypeDetail=".concat("202A","&busiNo=",this.projId)+"&erecordId=".concat(this.erecordId)}},beforeDestroy:function(){this.reset(),s["a"].destroyAll()},methods:{init:function(t){var e=this,r=t.unitInfo,n=t.proId,a=t.reason;this.isReadInstruction=!1,this.instructVisible=!0,this.unitInfo=r,this.params.bidReason=a,this.$refs.faceDetection.init(),Object(i["j"])(this.url.queryDrawInfo,{id:n}).then((function(t){if(t.success&&t.result.length>0){var r=t.result.find((function(t){return"202A"===t.busiTypeDetail}));if(!r)return;e.fileCategorylist=r.fileCategory;var n=e.fileCategorylist.find((function(t){return"比选录像签名"===t.name}));n&&(e.erecordId=n.id,e.fileUploadOrder=n.fileManageList&&n.fileManageList.length>0?n.fileManageList.length:0)}}))},reset:function(t){"left"===t?this.$refs.leftSign.canvasClear():"right"===t&&this.$refs.rightSign.canvasClear()},signRevert:function(t){"left"===t?this.$refs.leftSign.revert():"right"===t&&this.$refs.rightSign.revert()},saveSign:function(t){this.saveSignList.push(this.signBase64),this.reset(t),this.$message.success("签名已保存！")},handleOk:function(){var t=this;t.params=C(C({},this.unitInfo),{},{bidReason:""});var e=this.$refs.rightSign.checkSign();e.success||0!==this.saveSignList.length||this.$message.warning(e.message),t.loadSetting().loading=!0,t.loadSetting().loadingText="",t.uploadSignImg().then((function(e){e.success?(t.params.operFileIdList=[e.result.id],window.myAPI&&window.myAPI.ipcRendererMethod.send("finishedRecording")):(t.loadSetting().loading=!1,t.$message.warning("签名上传失败，请重新签字确认！"))})).catch((function(e){t.loadSetting().loading=!1,t.$message.warning(e.message)}))},signConfirm:function(){var t=this;Object(i["j"])(this.url.onBidding,this.params).then((function(e){e.success&&e.result?(t.$message.success("操作成功！"),t.$emit("backHome")):t.$message.warning(e.message),t.loadSetting().loading=!1})).catch((function(){t.loadSetting().loading=!1,t.$message.error("操作失败！")}))},uploadSignImg:function(){var t=this,e=this;return new Promise(function(){var r=x(b().mark((function r(n,a){var o,s,c,u,f;return b().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.leftSignBase64){r.next=3;break}return a(new Error("物业代表请在签字版处进行签名！")),r.abrupt("return");case 3:if(t.signBase64||0!==e.saveSignList.length){r.next=6;break}return a(new Error("业主代表请在签字版处进行签名！")),r.abrupt("return");case 6:if(o=l()().format("YYYY-MM-DD HH:mm:ss"),!t.leftSignBase64){r.next=21;break}return s=e.base64ToFile(e.leftSignBase64.replace("data:image/jpeg;base64,",""),"物业签名【".concat(o,"】.jpeg"),"png"),c=new FormData,e.fileUploadOrder=e.fileUploadOrder+1,c.append("file",s),c.append("orderNo",e.fileUploadOrder),r.prev=13,r.next=16,Object(i["j"])(e.uploadFile,c);case 16:r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](13),a(r.t0);case 21:t.signBase64&&0===e.saveSignList.length?(u=t.base64ToFile(e.signBase64.replace("data:image/jpeg;base64,",""),"业主签名【".concat(o,"】.jpeg"),"png"),f=new FormData,e.fileUploadOrder=e.fileUploadOrder+1,f.append("file",u),f.append("orderNo",e.fileUploadOrder),Object(i["j"])(e.uploadFile,f).then((function(t){n(t)})).catch((function(t){return a(t)}))):e.pictureMerge().then((function(r){var s=t.base64ToFile(r.replace("data:image/png;base64,",""),"业主签名【".concat(o,"】.jpeg"),"png"),c=new FormData;e.fileUploadOrder=e.fileUploadOrder+1,c.append("file",s),c.append("orderNo",e.fileUploadOrder),Object(i["j"])(t.uploadFile,c).then((function(t){n(t)})).catch((function(t){return a(t)}))}));case 22:case"end":return r.stop()}}),r,null,[[13,18]])})));return function(t,e){return r.apply(this,arguments)}}())},pictureMerge:function(){var t=this;return new Promise(function(){var e=x(b().mark((function e(r,n){var a,o,i,s,c,l,u;return b().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=function(t,e){return new Promise((function(r,n){var a=document.createElement("img");a.src=t,a.style.width="100%",a.onload=function(){e.appendChild(a),r()}}))},o=document.createElement("div"),o.id="pictureMergeDivBox",o.style.backgroundColor="#eee",o.style.display="grid",o.style.gridTemplateColumns="600px 600px",o.style.gap="10px",o.style.position="fixed",o.style.top="0",o.style.left="-100%",i=y(t.saveSignList),e.prev=11,i.s();case 13:if((s=i.n()).done){e.next=21;break}return c=s.value,l=document.createElement("div"),e.next=18,a(c,l);case 18:o.appendChild(l);case 19:e.next=13;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](11),i.e(e.t0);case 26:return e.prev=26,i.f(),e.finish(26);case 29:if(!t.signBase64){e.next=34;break}return u=document.createElement("div"),e.next=33,a(t.signBase64,u);case 33:o.appendChild(u);case 34:document.body.append(o),t.$nextTick((function(){t.publicDomToImg("pictureMergeDivBox","pictureMergeImg",o).then((function(t){r(t)})).catch((function(t){n(t)}))}));case 36:case"end":return e.stop()}}),e,null,[[11,23,26,29]])})));return function(t,r){return e.apply(this,arguments)}}())},publicDomToImg:function(t,e,r){return new Promise((function(e,n){window.pageYoffset=0,document.documentElement.scrollTop=0,document.body.scrollTop=0;var a=document.getElementById(t),o=a.scrollWidth,i=a.offsetHeight;p()(a,{width:o,height:i,backgroundColor:"#ffffff",removeContainer:!0,onclone:function(t){return t.body.appendChild(r),t},dpi:2*window.devicePixelRatio,scale:2,X:0,Y:0}).then((function(t){var r=t.toDataURL();e(r)})).catch((function(t){n(t)}))}))},uploadRecordVideo:function(t){var e=this;try{var r=this,n=new Blob([t],{type:"video/mp4"}),a=new File([n],"录像【".concat(l()().format("YYYY-MM-DD HH:mm:ss"),"】.mp4"));r.putinMirror(a).then((function(t){t?(r.params.operFileIdList.push(t.id),r.signConfirm()):(r.loadSetting().loading=!1,r.$message.warning(t.message))})).catch((function(){r.loadSetting().loading=!1,e.$message.error("操作视频上传失败！")}))}catch(o){this.loadSetting().loading=!1,this.$message.error("系统录制异常！")}},openModal:function(t){t||(this.carouselIndex=0),this.tempSignVisible=t},afterChange:function(t){this.carouselIndex=t},editSign:function(){this.openModal(!1),this.signBase64=this.saveSignList[this.carouselIndex],this.$refs.rightSign.init()},removeSignByIndex:function(){var t=this,e=this;this.$confirm({title:"是否删除此签名？",icon:function(){return null},onOk:function(){try{e.saveSignList.splice(t.carouselIndex,1),e.saveSignList.length<=0&&e.openModal(!1)}catch(r){}}})},downloadVideo:function(t,e){var r=this;return new Promise((function(e,n){var a=new Blob([t],{type:"video/mp4"}),o=new File([a],"".concat(new Date,"_sign.mp4")),s=new FormData;s.append("file",o),s.append("orderNo",r.fileUploadOrder),Object(i["j"])(r.uploadFile,s).then((function(t){t.success&&e(t.result),n(new Error("视频文件上传失败！"))})).catch((function(t){return n(t)}))}))},onBidding:function(){},base64ToFile:function(t,e,r){for(var n=atob(t),a=[],o=0;o<n.length;o+=512){for(var i=n.slice(o,o+512),s=new Array(i.length),c=0;c<i.length;c++)s[c]=i.charCodeAt(c);var l=new Uint8Array(s);a.push(l)}return new File(a,e,{type:r})},putinMirror:function(){var t=x(b().mark((function t(e){var r=this;return b().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=x(b().mark((function t(n,a){var o,s,c,l,u,f,d,h,p,m,y,v,g;return b().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=r.UUID(),s={status:"md5",uid:o,name:e.name,size:e.size},s.file=e,c=5242880,l=e.size,u=Math.ceil(l/c),f=[],d=0,h="",t.next=11,r.calculateFileMD5(e).then((function(t){h=t,r.updateStatus(o,"uploading")}));case 11:return p=[],t.next=14,Object(i["e"])(r.url.fileCheckUpload+"?fileHash=".concat(h),{},{}).then((function(t){"done"===t.result.status?(p="done",r.updateStatus(o,"done",null,t.result.result),n(t.result.result)):"uploading"===t.result.status&&(p=t.result&&t.result.chunks&&t.result.chunks.length>0?t.result.chunks:[])}));case 14:if("string"!==typeof p||"done"!==p){t.next=16;break}return t.abrupt("return");case 16:m=b().mark((function t(n){var a,s;return b().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=n*c,s=Math.min(a+c,l),p.includes(h+"_"+n)?(d++,r.updateStatus(o,"uploading",Math.floor(d/u*100))):f.push(new Promise((function(t,c){var l=new FormData;l.append("chunkIndex",n.toString()),l.append("chunkCount",u.toString()),l.append("fileHash",h),l.append("chunkData",e.slice(a,s)),Object(i["j"])(r.url.fileChunkUpload,l,{}).then((function(e){d++,r.updateStatus(o,"uploading",Math.floor(d/u*100)),t()})).catch((function(t){c(t)}))})));case 3:case"end":return t.stop()}}),t)})),y=0;case 18:if(!(y<u)){t.next=23;break}return t.delegateYield(m(y),"t0",20);case 20:y++,t.next=18;break;case 23:return t.next=25,Promise.all(f).then((function(){r.updateStatus(o,"merging")}));case 25:return v=new FormData,v.append("fileHash",h),v.append("fileName",e.name),v.append("busiNo",r.projId),v.append("busiType","20"),v.append("busiTypeDetail","202A"),v.append("erecordId",r.erecordId),v.append("orderNo",r.fileUploadOrder+1),t.next=35,Object(i["j"])(r.url.fileMergeUpload,v,{});case 35:g=t.sent,200===g.code&&g.success?(r.updateStatus(o,"done",null,g.result),n(g.result)):(r.updateStatus(o,"error",null,{error:g.message}),a(g.message));case 37:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),UUID:function(){return"xxxxxxxx".replace(/[x]/g,(function(t){var e=16*Math.random()|0;return e.toString(16)}))},calculateFileMD5:function(t){return new Promise((function(e,r){var n=2097152,a=new FileReader,o=0;function i(){var e=t.slice(o,o+n);a.readAsArrayBuffer(e)}a.onload=function(t){var r=new Uint8Array(t.target.result),n=f()(r);e(n)},a.onerror=function(t){r(t.target.error)},i()}))},updateStatus:function(t,e,r,n){}}},O=j,T=(r("597b"),r("937f"),r("2877")),P=Object(T["a"])(O,n,a,!1,null,"2d58690f",null);e["default"]=P.exports},a36d:function(t,e,r){},a4ff:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"BankHome"},[r("home-card",{attrs:{"header-title":"数据总览"}},[r("div",{staticClass:"bankHomeForm"},[r("j-date",{staticClass:"bankHomeFormDate",attrs:{placeholder:"请选择开始日期","max-date":t.endDate},on:{change:function(e){return t.initData({code:t.bankInfo.orgCode,startDate:t.startDate,endDate:t.endDate})}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),r("j-date",{staticClass:"bankHomeFormDate",attrs:{"min-date":t.startDate,placeholder:"请选择结束日期"},on:{change:function(e){return t.initData({code:t.bankInfo.orgCode,startDate:t.startDate,endDate:t.endDate})}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),r("div",{staticClass:"dataGridList"},t._l(t.bankBaseData,(function(e,n){return r("div",{key:"depositTotal"+n,staticClass:"data-item"},[r("div",[r("p",{staticClass:"data-item-label"},[t._v(t._s(e.label))]),r("p",{staticClass:"data-item-value"},[t._v(t._s(e.value))])])])})),0)]),r("div",{staticClass:"EcharsContent",class:1==t.smallShow?"chanegEchars":""},[r("div",{staticClass:"firstView"},[r("home-card",{staticStyle:{height:"100%"},attrs:{"header-title":"资金分布"}},[r("div",{ref:"chart",staticClass:"chart",attrs:{id:"capitalDistribute"}}),t.chartDatas.length>0?r("div",{staticClass:"dzonge"},[r("p",[t._v(t._s(t.chartDatas[0].name))]),r("p",[t._v(t._s(t.chartDatas[0].value.toFixed(2)))]),r("p",[t._v(t._s(t.changge("d")))])]):t._e(),t.chartDatas.length>0?r("div",{staticClass:"hzonge"},[r("p",[t._v(t._s(t.chartDatas[1].name))]),r("p",[t._v(t._s(t.chartDatas[1].value.toFixed(2)))]),r("p",[t._v(t._s(t.changge("h")))])]):t._e()])],1),r("div",{class:1==t.smallShow?"chagelinediv":"linediv"},[r("div",{staticClass:"twoView",class:1==t.smallShow?"changeclass":""},[r("home-card",{attrs:{"header-title":"收支汇总"}},[r("div",{ref:"SummaryChart",staticClass:"chart",attrs:{id:"PutAwayPaySummary"}})])],1),r("div",{staticClass:"threeView",class:1==t.smallShow?"changeclass":""},[r("home-card",{staticStyle:{flex:"1",width:"100%"},attrs:{"header-title":"交易明细"}},[r("lucene-table",{attrs:{column:t.columns,data:t.tableData},scopedSlots:t._u([{key:"flag",fn:function(e){var n=e.row;return[r("span",{staticClass:"flagBox",style:{"--bgColor":"1"===n.flag?"#feab4c":"#6eb2fc"}},[t._v(t._s("1"===n.flag?"收":"支"))])]}},{key:"amount",fn:function(e){var n=e.row;return[r("span",{staticClass:"amount"},[t._v(t._s(t.formatterAmount(n.amount)))])]}}])})],1)],1)])])],1)},a=[],o=r("bc7a"),i=r("bf7c"),s=r("ecb2"),c=r("0fea"),l=r("2b0e"),u=r("9fb0"),f=r("3ed7"),d=r("c1df"),h=r.n(d),p=r("2783"),m={name:"BankHome",components:{HomeCard:o["default"],LuceneTable:s["default"],ModuleHeader:i["default"]},data:function(){return{bankBaseData:[{label:"专户名称",value:"1",icon:"el-icon-office-building"},{label:"专户账号",value:"1",icon:"el-icon-office-building"},{label:"开户行名称",value:"1",icon:"el-icon-office-building"},{label:"期初余额",value:"1",icon:"el-icon-office-building"},{label:"本期收入（元）",value:"1",icon:"el-icon-office-building"},{label:"本期支出（元）",value:"1",icon:"el-icon-office-building"},{label:"期末余额",value:"1",icon:"el-icon-office-building"}],queryParam:{},bankInfo:{},startDate:"",endDate:"",url:{list:"/account/trdlog/queryTransactionSummary"},bankInfos:[],smallShow:!1,chartBankCode:"",sysOrgCode:l["default"].ls.get("TENANT_ID"),watchWidth:document.documentElement.clientWidth,chartDatas:[],addNum:0,chartData:[{name:"总收入额（万元）",value:0,color:"rgba(29,130,206,0.6)"},{name:"总支出额（万元）",value:0,color:"rgba(190,153,72,0.6)"}],tableData:[],chart:null,charts:null,columns:[{field:"flag",title:"收支标识",slots:{default:"flag"},align:"center"},{field:"date",title:"交易日期",formatter:function(t){var e=t.cellValue;return h()(e).format("YYYY-MM-DD")},align:"center"},{field:"type",title:"业务类型",align:"center",formatter:function(t){var e=t.cellValue;return(e||"  ").slice(e.length-4,e.length)}},{field:"amount",title:"交易金额（元）",slots:{default:"amount"},align:"right"}],formatterAmount:f["g"]}},created:function(){var t=this;this.$nextTick((function(){t.getSpaccInfo(),t.getBankIncomePay(),t.getBankDealDetail()}))},watch:{watchWidth:{handler:function(t,e){this.smallShow=e<1560||t<1560},immediate:!0}},mounted:function(){var t=this;this.bankInfo=l["default"].ls.get(u["J"]),this.initData({code:this.bankInfo.orgCode}),window.onresize=function(){return function(){window.fullWidth=document.documentElement.clientWidth,t.watchWidth=window.fullWidth,window.addEventListener("resize",t.reFlowChart),t.newDistribute(),t.newPutpaySummary()}()}},methods:{changge:function(t){var e,r;return this.chartDatas.length>0&&(r=this.chartDatas[0].value+this.chartDatas[1].value,e="d"==t?0!=r?(this.chartDatas[0].value/r*100).toFixed(2)+"%":this.chartDatas[0].value.toFixed(2)+"%":0!=r?(this.chartDatas[1].value/r*100).toFixed(2)+"%":this.chartDatas[1].value.toFixed(2)+"%"),"占比"+e},reFlowChart:function(){this.chart&&(this.chart.resize(),this.charts.resize())},getSpaccInfo:function(){var t=this;Object(c["e"])("statistics/analysis/getSpaccInfo",{bankCode:this.bankInfo.orgCode,sysOrgCode:this.bankInfo.sysOrgCode}).then((function(e){var r=e.result,n=Object(f["d"])(r&&r.regBalance?r.regBalance:0,1e4),a=Object(f["d"])(r&&r.curBalance?r.curBalance:0,1e4);if(t.chartDatas=[{name:"定期总额（万元）",value:n,depth:0,color:"rgba(48,187,252,0.6)"},{name:"活期总额（万元）",value:a,depth:0,color:"#75e6ea"}],t.chartDatas.length>0){var o=t.chartDatas.reduce((function(t,e){return t+e.value}),0);t.addNum=Object(f["g"])(o)}t.newDistribute()}))},newDistribute:function(){var t=0;this.chartDatas.forEach((function(e){e.value>t&&(t=e.value),e.value}));var e=document.createElement("img");e.src=r("bcb2");var n={tooltip:{show:!0,valueFormatter:function(t){return Object(f["g"])(t)},textStyle:{fontSize:Object(p["a"])(.14)},confine:!0},graphic:[{type:"text",left:"center",top:"40%",style:{text:"总计 (万元)",textAlign:"center",fontWeight:600,fill:"#010101",fontSize:Object(p["a"])(.2)}},{type:"text",left:"center",top:"60%",style:{text:this.addNum,textAlign:"center",fill:"#75e6ea",fontSize:Object(p["a"])(.18)}}],series:[{type:"pie",radius:["65%","95%"],avoidLabelOverlap:!0,roseType:"radius",data:this.chartDatas,center:["50%","50%"],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!1}}]};this.charts=this.$echarts.init(this.$refs.chart),this.charts.setOption(n)},getBankIncomePay:function(){var t=this;Object(c["e"])("statistics/analysis/getBankIncomePay",{bankCode:this.bankInfo.orgCode,sysOrgCode:this.bankInfo.sysOrgCode}).then((function(e){for(var r=0,n=0,a=0;a<e.result.length;a++)r+=Number(e.result[a].income),n+=Number(e.result[a].pay);t.chartData=[{name:"总收入额（万元）",value:Math.floor(Number(r)/1e4*100)/100,color:"rgba(29,130,206,0.6)"},{name:"总支出额（万元）",value:Math.floor(Number(n)/1e4*100)/100,color:"rgba(190,153,72,0.6)"}],t.newPutpaySummary()}))},newPutpaySummary:function(){var t=document.createElement("img");t.src=r("bcb2");var e={tooltip:{trigger:"item"},grid:{top:"50%",right:"30%",left:"30%",bottom:"30%"},series:[{type:"pie",radius:["50%","33%"],center:["50%","50%"],roseType:"radius",label:{show:!0,fontSize:Object(p["a"])(.14),color:"#fff",alignTo:"none",backgroundColor:{image:t},padding:[16,8,4,10],formatter:function(t){var e="{amount|"+Object(f["g"])(t.value)+"}",r="{title|"+t.name+"}",n="{amount|占比"+t.percent.toFixed(2)+"%}";return[r,e,n].join("\n")},overflow:"none",rich:{amount:{fontSize:Object(p["a"])(.18)+"px",padding:[0,0,6,0],color:"#75e6ea"},title:{fontSize:Object(p["a"])(.14)+"px",padding:[0,-15,6,0]},yellowLine:{borderColor:"rgba(190,153,72,0.6)",width:"100%",borderWidth:2,height:0},blueLine:{borderColor:"rgba(66,168,250,0.6)",width:"100%",borderWidth:2,height:0}}},labelLine:{length2:48},labelLayout:{draggable:!0},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:this.chartData},{type:"custom",coordinateSystem:"none",renderItem:function(t,e){return{type:"arc",shape:{cx:e.getWidth()/2,cy:e.getHeight()/2,r:Math.min(e.getWidth(),e.getHeight())/2*.7},style:{stroke:"#8383FA",fill:"transparent",lineWidth:1},silent:!0}},data:[0]},{type:"custom",coordinateSystem:"none",renderItem:function(t,e){return{type:"arc",shape:{cx:e.getWidth()/2,cy:e.getHeight()/2,r:Math.min(e.getWidth(),e.getHeight())/2*.8},style:{stroke:"#8383FA",fill:"transparent",lineWidth:2},silent:!0}},data:[1]}]};this["chart"]=this.$echarts.init(this.$refs["SummaryChart"]),this["chart"].setOption(e)},getBankDealDetail:function(){var t=this;Object(c["e"])("statistics/analysis/getBankDealDetail",{bankCode:this.bankInfo.orgCode,sysOrgCode:this.bankInfo.sysOrgCode}).then((function(e){t.tableData=(e.result||[]).sort((function(t,e){return h()(e.date).format("X")-h()(t.date).format("X")}))}))},initData:function(t){var e=this,r=t.code,n=t.startDate,a=t.endDate,o=[{field:"bank.code",rowType:"slot",rule:"eq",val:r},{field:"startDate",rowType:"slot",rule:"ge",val:n},{field:"endDate",rowType:"slot",rule:"le",val:a}],i=[];o.forEach((function(t){t.val&&i.push(t)})),this.queryParam.queryType="and",this.queryParam.queryItems=encodeURI(JSON.stringify(i)),Object(c["e"])(this.url.list,this.queryParam).then((function(t){if(t.result&&t.result.page&&t.result.page.records&&t.result.page.records.length>0){var r=t.result.page.records[0];e.bankBaseData[0].value=r.spaName,e.bankBaseData[1].value=r.spaCode,e.bankBaseData[2].value=r.spaBankName,e.bankBaseData[3].value=Object(f["g"])(r.beginBalance),e.bankBaseData[4].value=Object(f["g"])(r.income),e.bankBaseData[5].value=Object(f["g"])(r.payment),e.bankBaseData[6].value=Object(f["g"])(r.finalBalance)}}))}}},y=m,v=(r("679c"),r("2877")),g=Object(v["a"])(y,n,a,!1,null,"14617d32",null);e["default"]=g.exports},aa6c:function(t,e,r){"use strict";r.r(e);var n=r("2e36"),a=r("2f62"),o=r("0fea"),i=r("d8a5");function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t){var e=d(t,"string");return"symbol"==s(e)?e:e+""}function d(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={components:{ShortcutMenuModal:n["default"]},computed:l({},Object(a["d"])({permissionMenuList:function(t){return t.user.permissionList}})),data:function(){return{defaultMenuList:[],commonMenusList:[],menus:[],listColors:["rgba(146, 192, 255)","rgba(140, 224, 235)","rgba(249, 119, 133)","rgba(61, 215, 181)"],url:{queryPermByUserId:"permission/sysUserComPermission/queryPermByUserId"}}},created:function(){var t=this;this.$emit("mount",{width:36,height:26}),this.queryPermByUserId(),this.menus=this.permissionMenuList.filter((function(t){return!0===!t.meta.hideMenu})),this.selected=this.menus[0].name,this.menus.forEach((function(e){e.children&&e.children.forEach((function(e,r){e.color=r%4===0?t.listColors[3]:r%3===0?t.listColors[2]:r%2===0?t.listColors[1]:t.listColors[0]}))}))},methods:{toPage:function(t){this.$router.push(t.url)},modalEdit:function(){this.$refs.shorMenu.visible=!0},queryPermByUserId:function(){var t=this;Object(o["e"])(this.url.queryPermByUserId).then((function(e){e&&e.success&&(e.result.length>0?(t.commonMenusList=e.result.slice(0,10),t.menus.forEach((function(e){e.children&&e.children.forEach((function(e){t.commonMenusList.forEach((function(t){t.id===e.id&&(t.color=e.color)}))}))}))):Object(i["g"])("default_menu").then((function(e){e&&e.success&&(t.defaultMenuList=e.result),t.addMenus(t.menus)})))}))},addMenus:function(t){var e=this;this.defaultMenuList.forEach((function(r){t.forEach((function(t){t.children&&(t.children.forEach((function(t){if(t.path===r.value){var n={};n.id=t.id,n.color=t.color,n.url=t.path,n.title=t.meta.title,n.icon=t.meta.icon,e.commonMenusList.push(n)}})),e.addMenus(t.children))}))}))}}}},adcf:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topLeftMenuAnalysis"},[n("a-card",{staticClass:"myCard shortcutMenu",attrs:{bordered:!1,"body-style":{height:"100%"},title:"快捷菜单"}},[n("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"extra",href:"#"},on:{click:t.shortcutMenuEdit},slot:"extra"},[n("a-icon",{attrs:{type:"setting"}}),t._v(" 管理\n      ")],1),n("div",{staticClass:"shortcutMenuList"},t._l(t.commonMenusList,(function(e){return n("div",{key:e.id,staticClass:"shortcutMenuListItem"},[n("div",{staticClass:"pic",style:{backgroundColor:e&&e.color?e.color:"#4f85a9"},on:{click:function(r){return t.toPage(e)}}},[n("a-icon",{style:{fontSize:"24px",color:"#fff",lineHeight:"68px"},attrs:{type:e&&e.icon?e.icon:""}})],1),n("p",{on:{click:function(r){return t.toPage(e)}}},[t._v(t._s(e.title))])])})),0)]),n("a-card",{ref:"todoListCard",staticClass:"myCard todoOrDoneListCard",attrs:{"tab-list":t.tabList,"active-tab-key":t.activeTabKey,bordered:!1,"body-style":{height:"100%"},loading:t.todoLoading},on:{tabChange:t.tabChange},scopedSlots:t._u([{key:"todoTabSlot",fn:function(e){e.count;return[n("a-badge",{staticClass:"badge",attrs:{count:t.todoTotal,"overflow-count":99,offset:[10,-4]}},[n("span",{staticStyle:{"font-size":"18px"}},[t._v("待办")])])]}}])},[n("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"tabBarExtraContent"},on:{click:t.getAll},slot:"tabBarExtraContent"},[t._v("\n        更多 "),n("a-icon",{attrs:{type:"right"}})],1),n("div",{staticClass:"todoOrDoneList",on:{mouseover:t.showTooltip}},[t.todoList&&t.todoList.length>0||t.todoLoading?t._l(t.todoList,(function(e,a){return n("a-card",{key:a,staticClass:"checkItem",scopedSlots:t._u([{key:"title",fn:function(){return[n("img",{staticStyle:{"margin-right":"8px"},attrs:{alt:"",src:r("bebc")}}),[1==t.activeTabKey?n("span",[t._v(t._s(e.variables.panel?e.variables.panel:e.name))]):n("span",[t._v(t._s(e.name?e.name:""))])]]},proxy:!0},{key:"extra",fn:function(){return[e.variables&&"项目申报"!==e.variables.panel?n("span",{staticStyle:{color:"#fd8a2f"}},[1==t.activeTabKey?[t._v(" 待审核 ")]:[t._v(" 已审核 ")]],2):t._e()]},proxy:!0}],null,!0)},[n("div",{staticClass:"main_content"},[n("div",{staticClass:"borders"},[n("div",{staticClass:"line"})]),n("a-tooltip",{attrs:{getPopupContainer:t.getPopupContainer},scopedSlots:t._u([{key:"title",fn:function(){return["维修审核"==e.title||"项目预审"==e.name?n("span",[t._v(t._s(JSON.parse(e.variables.summary).title))]):n("span",[t._v(t._s(e.variables.address?e.variables.address:e.title))])]},proxy:!0}],null,!0)},["维修审核"==e.title||"项目预审"==e.name?n("h3",{staticClass:"todoListCardTitle"},[t._v(t._s(JSON.parse(e.variables.summary).title))]):n("h3",{staticClass:"todoListCardTitle"},[t._v(t._s(e.variables.address?e.variables.address:e.title))])]),n("a-row",t._l(e.variables.showHomeInfo,(function(e,r){return n("a-col",{key:r,staticClass:"todoInfo",attrs:{span:8}},[n("p",{staticClass:"todoInfoLabel"},[t._v(t._s(r||""))]),n("a-tooltip",{attrs:{getPopupContainer:t.getPopupContainer},scopedSlots:t._u([{key:"title",fn:function(){return[n("span","退款金额"==r?[t._v(t._s(e?t.formatterAmount(e.toFixed(2)):"")+"元")]:[t._v(t._s(e||""))])]},proxy:!0}],null,!0)},["退款金额"==r?n("h4",[t._v(t._s(e?t.formatterAmount(e.toFixed(2)):"")+"元")]):n("h4",{staticClass:"FontHide"},[t._v(t._s(e||""))])])],1)})),1),n("div",{staticClass:"borders"},[n("div",{staticClass:"line"})])],1),n("div",{staticClass:"bottom_wrap"},[n("span",[t._v(t._s(e.createTime))]),n("a-button",{attrs:{type:"primary",size:"careMode"===t.layout?void 0:"small",shape:"round"},on:{click:function(r){return t.check(e,t.activeTabKey)}}},[1==t.activeTabKey?["项目申报"!==e.variables.panel?n("span",[t._v("审核")]):n("span",[t._v("办理")])]:n("span",[t._v("查看")])],2)],1)])})):[n("a-empty")]],2)]),n("shortcut-menu-modal",{ref:"shorMenu",attrs:{commonMenusList:t.commonMenusList,menus:t.menus},on:{"update:commonMenusList":function(e){t.commonMenusList=e},"update:common-menus-list":function(e){t.commonMenusList=e},"update:menus":function(e){t.menus=e}}}),n("task-deal-modal",{ref:"taskDealModal",attrs:{"flow-id":t.businessKey,"task-primary-key":t.taskId,"page-name":t.pageUrl,"edit-url":t.editUrl,flow:t.flow,"show-type":"page",innerpage:t.innerpage,"internal-url":t.internalUrl,customform:t.customform},on:{ok:function(e){return t.tabChange("1")},revoke:t.revokeFunction}})],1)},a=[],o=r("aa6c"),i=r("0fea"),s=r("0c8a"),c=r("2f62"),l=r("211e"),u=r("e351"),f=r("f142"),d=r("3ed7");function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};l(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=f(t[a],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==h(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=d;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(h(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),l(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function m(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){m(o,n,a,i,s,"next",t)}function s(t){m(o,n,a,i,s,"throw",t)}i(void 0)}))}}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=w(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){var e=x(t,"string");return"symbol"==h(e)?e:e+""}function x(t,e){if("object"!=h(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var _={name:"TopLeftMenuAnalysis",components:{TaskDealModal:l["default"]},mixins:[o["default"],u["HomeRevokeMethodUtils"],f["a"]],computed:g({},Object(c["d"])({layout:function(t){return t.app.layout}})),mounted:function(){var t=this;this.tabChange("1"),this.$bus.$on("AnalysisGetList",(function(){t.tabChange("1")}))},deactivated:function(){this.$bus.$off("AnalysisGetList",(function(){}))},data:function(){return{tabList:[{key:"1",scopedSlots:{tab:"todoTabSlot"},count:0},{key:"2",tab:"已办"}],todoTotal:0,activeTabKey:"1",todoList:[],todoLoading:!1,useProcessKey:{process_key:"",process_key_insure:""},businessKey:"",taskId:"",pageUrl:"",innerpage:"",editUrl:"",internalUrl:"",customform:"",flow:1,url:{doneList:"/act/taskinst/done",list:"/act/task/todo",queryRegionVerifyList:"/deposit/firstDeposit/queryRegionVerifyList"}}},methods:{formatterAmount:d["g"],showTooltip:function(t){t.target.classList.contains("todoListCardTitle")&&t.target.clientHeight===t.target.scrollHeight&&(t.target.style.pointerEvents="none")},tabChange:function(t){var e=this;this.todoList=[],this.todoLoading=!0,this.activeTabKey=t,Object(i["e"])(this.url[1==t?"list":2==t?"doneList":"queryRegionVerifyList"],{pageSize:30}).then((function(r){e.todoList=r.result.records,1==t&&(e.todoTotal=r.result.total),e.todoLoading=!1}))},check:function(){var t=y(p().mark((function t(e,r){var n,a,o=this;return p().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(3!=r){t.next=6;break}e.name=e.regionName,this.$router.push({path:"/deposit/FirstDeposit",query:e}),this.$nextTick((function(){o.$refs.firstDeposit.getRegionInfo(e)})),t.next=11;break;case 6:return n=!1,t.next=9,this.getUseProcessKey(e).then((function(t){n=t}));case 9:this.businessKey=e.businessKey,n?Object(s["goBusiPage"])(this.businessKey,e.tableId,"",e.tenantId):this.filingProcessKey&&-1!==this.businessKey.indexOf(this.filingProcessKey)?Object(s["goBusiPage"])(e.variables&&e.variables.mainBusinessKey?e.variables.mainBusinessKey:e.businessKey,e.variables.projId,"e",e.tenantId):(this.taskId=e.id,this.internalUrl=e.internalUrl,this.flow=e.flow,this.pageUrl=e.url,this.innerpage=e.editUrl,e.revokeMethod&&(this.$refs.taskDealModal.revokeMethod=e.revokeMethod),a=2==r,this.$refs.taskDealModal.width="90%",this.$refs.taskDealModal.initData(e.busiId,(e.startUserId?e.startUserId+"·":"")+e.title,e,a?"done":"do"),this.$refs.taskDealModal.onlyView=a);case 11:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),revokeFunction:function(t){var e=this,r=this.$options.methods;r[t.functionName](this.businessKey,e,t.message,t.taskId)},getUseProcessKey:function(t){var e=this;return new Promise(function(){var r=y(p().mark((function r(n,a){var o,s,c,l;return p().wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=p().mark((function r(){var a,o;return p().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=l[c],o=a,e.useProcessKey[o]&&""!==e.useProcessKey[o]){r.next=5;break}return r.next=5,Object(i["e"])("/sys/dDict/getParamByCode/".concat(o,"/").concat(t.tenantId)).then((function(t){e.useProcessKey[o]=t.result}));case 5:if(-1===t.businessKey.indexOf(e.useProcessKey[o]+"")){r.next=8;break}return n(!0),r.abrupt("return",{v:void 0});case 8:case"end":return r.stop()}}),r)})),c=0,l=Object.keys(e.useProcessKey);case 2:if(!(c<l.length)){r.next=10;break}return r.delegateYield(o(),"t0",4);case 4:if(s=r.t0,!s){r.next=7;break}return r.abrupt("return",s.v);case 7:c++,r.next=2;break;case 10:n(!1);case 11:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}())},getPopupContainer:function(){return this.$refs.todoListCard.$el.querySelector(".ant-card-body")},shortcutMenuEdit:function(){this.$refs.shorMenu.visible=!0},getAll:function(){2==this.activeTabKey?this.$router.push({path:"/activiti/DoneList"}):this.$router.push({path:"/activiti/TodoList"})}}},C=_,k=(r("2b7b"),r("2877")),S=Object(k["a"])(C,n,a,!1,null,"527ea612",null);e["default"]=S.exports},aeb9:function(t,e,r){"use strict";r("13a6")},aef2:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"DevelopHome"},[r("home-card",{attrs:{"header-title":"数据统计","header-extra":"统计时间："+t.currentTime}},[r("div",{staticClass:"dataStatistics_content"},t._l(t.dataCount,(function(e,n){return r("div",{key:"dataCount"+n,staticClass:"dataStatistics_content_item"},[e.icon?r("em",{staticClass:"dataStatistics_content_icon",class:e.icon}):t._e(),r("div",{staticClass:"dataStatistics_content_item_info"},[r("span",{staticClass:"dataStatistics_content_item_info_value"},[t._v("\n            "+t._s(e.formatter?e.formatter(e.value):e.value)+"\n          ")]),r("span",{staticClass:"dataStatistics_content_item_info_label"},[t._v(" "+t._s(e.label))])])])})),0)]),r("div",{staticClass:"home_content"},[r("div",{staticClass:"home_content_flex"},[r("div",{staticClass:"home_content_flex_row"},[r("home-card",{attrs:{"header-title":"管辖小区"},scopedSlots:t._u([t.communityList&&t.communityList.length>0?{key:"headerExtra",fn:function(){return[r("a",{staticClass:"headerExtra",on:{click:t.toRegion}},[t._v("更多")])]},proxy:!0}:null],null,!0)},[t.communityList&&t.communityList.length>0?r("el-carousel",{staticClass:"height100",attrs:{"indicator-position":"outside",height:"calc(100% - 32px)"}},t._l(t.communityList,(function(e){return r("el-carousel-item",{key:e.id},[r("div",{staticClass:"communityCard height100"},[r("div",{staticClass:"communityCard_header"},[r("a",{staticClass:"communityCard_header_name",on:{click:function(r){return t.goitem(e)}}},[t._v("\n                    "+t._s(e.regionname)+"\n                  ")]),r("div",{staticClass:"communityCard_header_info"},[r("div",[r("span",[r("em",{staticClass:"el-icon-office-building"}),t._v(" 自然幢备案数："+t._s(e.bldnums||0))])]),r("div",[r("span",[r("em",{staticClass:"el-icon-user"}),t._v(" 总备案户数："+t._s(e.housenums||0))])])])]),r("div",{staticClass:"communityCard_body"},[r("div",{staticClass:"communityCard_body_info"},[r("p",{staticClass:"communityCard_body_info_value"},[t._v(t._s(e.paidhousenums||0))]),r("p",{staticClass:"communityCard_body_info_label"},[t._v("已交户数")])]),r("div",{staticClass:"communityCard_body_info"},[r("p",{staticClass:"communityCard_body_info_value"},[t._v(t._s(e.unpaidhousenums||0))]),r("p",{staticClass:"communityCard_body_info_label"},[t._v("未交户数")])]),r("div",{staticClass:"communityCard_body_info"},[r("p",{staticClass:"communityCard_body_info_value"},[t._v(t._s(e.paidnoenoughhousenums||0))]),r("p",{staticClass:"communityCard_body_info_label"},[t._v("已交不足额户数")])]),r("div",{staticClass:"communityCard_body_info"},[r("p",{staticClass:"communityCard_body_info_value"},[t._v(t._s(e.notthreenums||0))]),r("p",{staticClass:"communityCard_body_info_label"},[t._v("不足30%户数")])]),r("div",{staticClass:"communityCard_body_info"},[r("p",{staticClass:"communityCard_body_info_value"},[t._v(t._s(e.paidmoneyStr||"0.00"))]),r("p",{staticClass:"communityCard_body_info_label"},[t._v("已交金额(元)")])]),r("div",{staticClass:"communityCard_body_info"},[r("p",{staticClass:"communityCard_body_info_value"},[t._v(t._s(e.paidmoneyStr||"0.00"))]),r("p",{staticClass:"communityCard_body_info_label"},[t._v("未交金额(元)")])])])])])})),1):r("a-empty",{attrs:{description:"暂无小区信息"}})],1),r("home-card",{attrs:{"header-title":"常见问题"},scopedSlots:t._u([t.commonProblemList&&t.commonProblemList.length>0?{key:"headerExtra",fn:function(){return[r("a",{staticClass:"headerExtra",on:{click:t.seeMore}},[t._v("更多")])]},proxy:!0}:null],null,!0)},[t.commonProblemList&&t.commonProblemList.length>0?r("div",{staticClass:"commonProblemList"},t._l(t.commonProblemList,(function(e){return r("div",{key:e.id,staticClass:"list-item"},[r("div",{staticClass:"list-item-title",on:{click:function(r){return t.expandInfo(e)}}},[r("div",[r("div",{staticClass:"list-item-title-icon"},[t._v("Q")]),r("span",{staticClass:"list-item-title-text"},[t._v(t._s(e.title))])]),r("a-icon",{staticClass:"list-item-expand",class:{expand:e.expand},attrs:{type:"down-circle",theme:"filled"}})],1),r("div",{staticClass:"list-item-content"},[e.expand?r("div",{domProps:{innerHTML:t._s(e.content)}}):t._e()])])})),0):r("a-empty",{attrs:{description:"暂无常见问题"}})],1)],1),r("div",{staticClass:"home_content_flex_row"},[r("home-card",{attrs:{"header-title":"智能预警"},scopedSlots:t._u([t.warningList&&t.warningList.length>0?{key:"headerExtra",fn:function(){return[r("a",{staticClass:"headerExtra",on:{click:function(e){return t.toWaringList()}}},[t._v("更多")])]},proxy:!0}:null],null,!0)},[t.warningList&&t.warningList.length>0?r("div",{staticClass:"warn_body"},[r("div",{staticClass:"warn_grid"},t._l(t.warningList,(function(e){return r("div",{key:"warnInfo"+e.resultId,staticClass:"warn_item",style:"error"==e.warningLevel?"--cardColor: 255,0,0":"serious"==e.warningLevel?"--cardColor: 255,165,0":"--cardColor: 255,153,0",on:{click:function(r){return t.toDetail(e)}}},[r("div",{staticClass:"warn_item_line"}),r("p",{staticClass:"warn_item_title"},[t._v("\n                  "+t._s(e.detailName)+"\n                ")]),r("p",{staticClass:"warn_item_desc"},[t._v("\n                  "+t._s(e.summary)+"\n                ")])])})),0)]):r("a-empty",{attrs:{description:"暂无预警信息"}})],1),t.hasEnablePageConfigByKey("hidePolicyLegalRegulation")?t._e():r("policie-regula")],1)])]),r("vxe-modal",{attrs:{width:"1300",height:"600",title:"管辖小区"},model:{value:t.communityModalVisible,callback:function(e){t.communityModalVisible=e},expression:"communityModalVisible"}},[r("vxe-grid",{attrs:{"footer-align":"right","show-footer":"","footer-span-method":t.footerSpanMethod,"footer-method":t.footerMethod,"auto-resize":"",height:"auto",border:"",data:t.communityList,columns:t.communityColumn}})],1)],1)},a=[],o=r("0a5e"),i=r("3ed7"),s=r("f337"),c=r("bc7a"),l=r("0fea"),u=r("c1df"),f=r.n(u),d=r("2271"),h=r("c695"),p=r.n(h),m=r("d9a4");function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function b(){}function w(){}function x(){}var _={};l(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=f(t[a],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==y(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?m:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=m,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(y(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),l(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function g(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){g(o,n,a,i,s,"next",t)}function s(t){g(o,n,a,i,s,"throw",t)}i(void 0)}))}}function w(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=x(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function x(t,e){if(t){if("string"==typeof t)return _(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var C={name:"DevelopHome",components:{PolicieRegula:d["default"],HomeCard:c["default"],SvgIcon:s["default"]},created:function(){this.getCommonProblemList(),this.getStatistics(),this.getAlert(),this.$nextTick((function(){})),this.getRegionCarouselInfo()},data:function(){return{communityModalVisible:!1,communityColumn:[{title:"序号",type:"seq",width:60},{title:"小区名称",field:"regionname",minWidth:200},{title:"自然幢备案数",field:"bldnums",width:120,formatter:function(t){var e=t.cellValue;return e||0},align:"right"},{title:"总备案户数",field:"housenums",width:100,formatter:function(t){var e=t.cellValue;return e||0},align:"right"},{title:"已交户数",field:"paidhousenums",width:80,formatter:function(t){var e=t.cellValue;return e||0},align:"right"},{title:"未交户数",field:"unpaidhousenums",width:80,formatter:function(t){var e=t.cellValue;return e||0},align:"right"},{title:"已交不足额户数",field:"paidnoenoughhousenums",width:140,formatter:function(t){var e=t.cellValue;return e||0},align:"right"},{title:"不足30%户数",field:"notthreenums",width:120,formatter:function(t){var e=t.cellValue;return e||0},align:"right"},{title:"已交金额",field:"paidmoney",width:140,formatter:function(t){var e=t.cellValue;return Object(i["g"])(e)},align:"right"},{title:"未交金额",field:"unpaidmoney",width:140,formatter:function(t){var e=t.cellValue;return Object(i["g"])(e)},align:"right"}],dataCount:[],commonProblemList:[],policyList:[],warningList:[],communityList:[],url:{getCommonProblemList:"/loginpage/pageListByPageNo",getRegionList:"/base/rRegionInfo/list",getBldInfo:"/home/getBldInfo",getHouseInfo:"/home/getHouseInfo",getRegionDepositInfo:"/home/getRegionDepositInfo",getAlertInfo:"/home/getAlertInfo",queryFormByCode:"/onl/queryByCode",getRegionInfo:"/home/getRegionInfo"},currentTime:f()(new Date).format("YYYY年MM月DD日 HH:mm:ss")}},methods:{hasEnablePageConfigByKey:m["a"],footerMethod:function(t){return Object(o["b"])({scope:t,spanCol:["regionname"],isSpanSeq:!0,computedCol:["unpaidmoney","paidmoney","paidnoenoughhousenums","notthreenums","unpaidhousenums","paidhousenums","housenums","bldnums"],inPageComputer:function(t,e){return["paidmoney","unpaidmoney"].includes(e.property)?Object(i["g"])(p.a.sum(t,e.property)):p.a.sum(t,e.property)}})},footerSpanMethod:function(t){return Object(o["c"])({scope:t,spanCol:["regionname"],isSpanSeq:!0})},goitem:function(t){var e={regionId:t.id,regionName:t.regionname};this.$router.push({path:"/communityPortrait",query:e})},getAlert:function(){var t=this;this.warningList=[],Object(l["e"])(this.url.getAlertInfo).then((function(e){e.success&&(t.warningList=e.result)}))},toDetail:function(t){var e=this,r=JSON.parse(t.resultContent);t.onlCode&&Object(l["e"])(this.url.queryFormByCode,{code:t.onlCode}).then((function(t){if(t.success){var n=t.result.info,a=t.result.param,o="/online/cgreport/"+n.id;if(a){o+="?";var i,s=w(a);try{for(s.s();!(i=s.n()).done;){var c=i.value;o=o+c.param_name+"="+r[c.param_name]+"&"}}catch(l){s.e(l)}finally{s.f()}o=o.substring(0,o.length-1)}e.$router.push({path:o})}}))},toWaringList:function(){this.$router.push("/WarningInfoList/deposit_warning")},getCommonProblemList:function(){var t=this;this.commonProblemList=[],Object(l["e"])(this.url.getCommonProblemList,{current:1,pageSize:10,busiType:"L1"}).then((function(e){e.success&&(t.commonProblemList=e.result.records)}))},expandInfo:function(t){this.$set(t,"expand",!t.expand)},seeMore:function(){this.$router.push({path:"/PolicyAnnouncement",query:{busiType:"L1"}})},getStatistics:function(){var t=b(v().mark((function t(){var e,r=this;return v().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={},this.dataCount=[],t.next=4,Object(l["e"])(this.url.getRegionList,{state:"0"}).then((function(t){var e={label:"小区备案数量",value:0,icon:"el-icon-office-building"};t.success&&(e.value=t.result.total),r.dataCount.push(e)}));case 4:return t.next=6,Object(l["e"])(this.url.getBldInfo).then((function(t){e={label:"楼栋备案数量",value:0,icon:"el-icon-school"},t.success&&(e.value=t.result.length),r.dataCount.push(e)}));case 6:return t.next=8,Object(l["e"])(this.url.getHouseInfo).then((function(t){e={label:"房屋备案数量",value:0,icon:"el-icon-s-home"},t.success&&(e.value=t.result.length),r.dataCount.push(e)}));case 8:return t.next=10,Object(l["e"])(this.url.getRegionDepositInfo).then((function(t){var e,n=[{label:"交存户数",value:0,icon:"el-icon-s-order"},{label:"应交未交户数",value:0,icon:"el-icon-s-release\n"},{label:"已交不足额户数",value:0,icon:"el-icon-money"},{label:"不足30%户数",value:0,icon:"el-icon-discount"},{label:"已交金额(元)",value:0,formatter:function(t){return Object(i["g"])(t)},icon:"el-icon-s-finance"},{label:"未交金额(元)",value:0,formatter:function(t){return Object(i["g"])(t)},icon:"el-icon-wallet"}];t.success&&(n[0].value=t.result.paidHouseNums,n[1].value=t.result.unPaidHouseNums,n[2].value=t.result.paidNoEnoughHouseNums,n[3].value=t.result.notThreeNums,n[4].value=t.result.paidMoney,n[5].value=t.result.unPaidMoney),(e=r.dataCount).push.apply(e,n)}));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getRegionCarouselInfo:function(){var t=this;Object(l["e"])(this.url.getRegionInfo).then((function(e){e.success&&(e.result.forEach((function(t){t.paidmoneyStr=Object(i["g"])(t.paidmoney),t.unpaidmoneyStr=Object(i["g"])(t.unpaidmoney)})),t.communityList=e.result)}))},toRegion:function(){this.communityModalVisible=!0}}},k=C,S=(r("b180"),r("2877")),L=Object(S["a"])(k,n,a,!1,null,"5dcc8727",null);e["default"]=L.exports},af79:function(t,e,r){"use strict";r("b8da")},b180:function(t,e,r){"use strict";r("b677")},b2f3:function(t,e,r){},b467:function(t,e,r){"use strict";r("b2f3")},b677:function(t,e,r){},b728:function(t,e,r){},b74c:function(t,e,r){},b7dc:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("home-card",{staticClass:"full",attrs:{"header-title":"维修项目"},scopedSlots:t._u([t.serviceProjList&&t.serviceProjList.length>0&&t.hasExtra?{key:"headerExtra",fn:function(){return[r("a",{staticClass:"headerExtra",on:{click:t.toServiceProj}},[t._v("更多")])]},proxy:!0}:null],null,!0)},[r("div",{staticClass:"serviceProj"},[r("a-tabs",{attrs:{size:"small"},on:{change:t.serviceTabChange},model:{value:t.serviceProTabActiveKey,callback:function(e){t.serviceProTabActiveKey=e},expression:"serviceProTabActiveKey"}},t._l(t.serviceProjTabs,(function(t){return r("a-tab-pane",{key:t.value,attrs:{tab:t.title}})})),1),r("div",{staticClass:"serviceProjTableBox"},[r("vxe-grid",{ref:"serviceProjTable",attrs:{size:"small","show-overflow":"tooltip",height:"auto",columns:t.serviceColumns,data:t.serviceProjList},scopedSlots:t._u([{key:"state",fn:function(t){var e=t.row;t.rowIndex;return[r("ser-pro-model-state-comp",{attrs:{state:e.state}})]}},{key:"action",fn:function(e){var n=e.row;e.rowIndex;return[r("a",{on:{click:function(e){return t.goBusiReqPage(n)}}},[r("a-icon",{attrs:{type:"eye"}}),t._v(" 查看")],1)]}}])})],1)],1)])},a=[],o=r("cf9e"),i=r("bc7a"),s=r("c1df"),c=r.n(s),l=r("0fea"),u=(r("0c8a"),r("a18c")),f={name:"ServiceProject",components:{HomeCard:i["default"],SerProModelStateComp:o["default"]},props:{hasExtra:{type:Boolean,default:!0}},created:function(){var t=this;this.$nextTick((function(){t.serviceTabChange("0")}))},data:function(){return{serviceProTabActiveKey:"0",serviceProjTabs:[{title:"待参与",value:"0"},{title:"已中标",value:"1"},{title:"已完成",value:"2"}],serviceProjList:[],serviceColumns:[{type:"seq",width:60,title:"序号",align:"center"},{field:"name",title:"项目名称",minWidth:160},{field:"address",title:"项目位置",minWidth:160},{field:"comSelStartDate",title:"比选开始日期",width:130,align:"center",formatter:function(t){var e=t.cellValue;if(e)return c()(e).format("YYYY-MM-DD")}},{field:"comSelEndDate",title:"比选结束日期",width:130,align:"center",formatter:function(t){var e=t.cellValue;if(e)return c()(e).format("YYYY-MM-DD")}},{field:"comSelState",title:"报价状态",width:120,align:"center",formatter:function(t){var e=t.cellValue;return"0"===e?"未提交":"1"===e?"已提交":void 0}},{field:"state",title:"项目状态",width:100,align:"center",slots:{default:"state"}},{field:"biddingTime",title:"中标日期",width:120,align:"center",formatter:function(t){var e=t.cellValue;if(e)return c()(e).format("YYYY-MM-DD")}},{field:"planOnEndDate",title:"竣工日期",width:120,align:"center",formatter:function(t){var e=t.cellValue;if(e)return c()(e).format("YYYY-MM-DD")}},{title:"操作",width:100,align:"center",slots:{default:"action"},fixed:"right"}],url:{projectList:"/home/projectList",getCorpMaintainInfoOne:"/compare/bComparPart/getCorpMaintainInfoOne"}}},methods:{serviceTabChange:function(t){var e=this.$refs.serviceProjTable;e.resetColumn({visible:!0}),"0"===t?["biddingTime","planOnEndDate"].forEach((function(t){var r=e.getColumnByField(t);r&&e.hideColumn(r)})):"1"===t?["comSelState","comSelStartDate","comSelEndDate","planOnEndDate"].forEach((function(t){var r=e.getColumnByField(t);r&&e.hideColumn(r)})):"2"===t&&["comSelState","comSelStartDate","comSelEndDate","biddingTime"].forEach((function(t){var r=e.getColumnByField(t);r&&e.hideColumn(r)})),this.getProjectList(t)},getProjectList:function(t){var e=this;Object(l["e"])(this.url.projectList,{state:t}).then((function(t){t.success&&(e.serviceProjList=t.result.records)}))},goBusiReqPage:function(t){var e=this;Object(l["e"])(this.url.getCorpMaintainInfoOne,{projId:t.id,corpCode:t.corpCode}).then((function(t){t.success&&e.$router.push({path:"/compare/corporation/modules/TakePartModel",query:{record:t.result,disabled:t.result.comparState&&"1"!=t.result.comparState}})}))},toServiceProj:function(){u["a"].push({path:"/use/servicebusiNew"})}}},d=f,h=(r("576a"),r("2877")),p=Object(h["a"])(d,n,a,!1,null,"498e6582",null);e["default"]=p.exports},b8da:function(t,e,r){},bbeb:function(t,e,r){},bc07:function(t,e,r){"use strict";r("f894")},bc7a:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"homeCard"},[r("div",{staticClass:"homeCard_header",style:t.headerStyle},[r("div",{staticClass:"homeCard_header_title"},[t._t("headerTitle",(function(){return[t._v("\n        "+t._s(t.headerTitle)+"\n      ")]}))],2),r("div",{staticClass:"homeCard_header_extra"},[t._t("headerExtra",(function(){return[t._v("\n        "+t._s(t.headerExtra)+"\n      ")]}))],2)]),r("div",{staticClass:"homeCard_body",style:t.bodyStyle},[t._t("default")],2)])},a=[],o={name:"HomeCard",props:{headerStyle:{type:[String,Object],default:""},headerTitle:{type:String,default:""},headerExtra:{type:String,default:""},bodyStyle:{type:[String,Object],default:""}}},i=o,s=(r("3cbe"),r("2877")),c=Object(s["a"])(i,n,a,!1,null,"7f339852",null);e["default"]=c.exports},bd15c:function(t,e,r){"use strict";r("e866")},c144:function(t,e,r){},c422:function(t,e,r){},c6b7:function(t,e,r){"use strict";r("0e87")},c7e0:function(t,e,r){},c7f2:function(t,e,r){"use strict";r("03c9")},c91a:function(t,e,r){"use strict";r("c7e0")},c99e:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],ref:"customAnalysisRef",style:{background:t.getCustomHomeEditFlag?"#f3e5e5":""},attrs:{id:"analysisContent"}},[t.addModalForm.compList&&0!==t.addModalForm.compList.length?n("grid-layout",{ref:"gridlayout",attrs:{colNum:36,"is-draggable":t.getCustomHomeEditFlag,"is-resizable":t.getCustomHomeEditFlag,layout:t.addModalForm.compList,margin:[4,4],"prevent-collision":!1,responsive:!1,"row-height":2,"use-css-transforms":!1,"vertical-compact":!0},on:{"update:layout":function(e){return t.$set(t.addModalForm,"compList",e)}}},t._l(t.addModalForm.compList,(function(e,a){return n("grid-item",{key:e.i,staticClass:"gridItemContrain",attrs:{h:e.h,i:e.i,minH:e.minH,minW:e.minW,w:e.w,x:e.x,y:e.y},on:{resized:function(r,n,o,i,s){return t.resizeEvent(r,n,o,i,s,e,a)}}},[e.comPath&&""!==e.comPath?n("div",{staticStyle:{width:"100%",height:"100%"}},[n(r("a8c4")("./views"+e.comPath).default,{ref:a,refInFor:!0,tag:"component",style:{pointerEvents:t.getCustomHomeEditFlag?"none":"all"},attrs:{cardSize:t.cardSize[a],compKey:t.compKey,sysOrgCode:t.sysOrgCode,zoneCode:t.zoneCode},on:{mount:function(r){return t.onMount(e,r)}}},[t.getCustomHomeEditFlag?n("a-popconfirm",{attrs:{"cancel-text":"取消","ok-text":"确定",title:"确定要删除吗?"},on:{confirm:function(r){return t.deleteCard(e,a)}}},[n("a-icon",{staticStyle:{color:"red","pointer-events":"all","z-index":"9999"},attrs:{type:"close"}})],1):t._e(),t.getCustomHomeEditFlag?t._e():n("a-dropdown",{attrs:{trigger:["click"]}},[n("a",[n("a-icon",{attrs:{type:"menu"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"0"},[n("a",{on:{click:function(r){return t.refreshCard(e,a)}}},[t._v("刷新卡片")])])],1)],1)],1)],1):t._e()])})),1):n("div",[n("div",{staticStyle:{height:"70vh",display:"flex","align-items":"center","justify-content":"space-around"}},[n("a-empty",[n("div",{staticStyle:{"text-align":"center","font-size":"16px"},attrs:{slot:"description"},slot:"description"},[t._v("\n          请点击右上角\n          "),n("a-icon",{attrs:{type:"appstore"}}),t._v("\n          按钮，添加需要的首页卡片哦\n        ")],1)])],1)]),n("a-modal",{attrs:{width:800,title:"卡片管理"},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("a-table",{ref:"table",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.ipagination,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},bordered:"",rowKey:"id",size:"small"},on:{change:t.handleTableChange}})],1),n("sys-zone-select",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],on:{change:t.sysZoneSelectChange}}),n("a-modal",{attrs:{confirmLoading:t.modalBtnLoading,title:"新增首页",width:"600px"},on:{ok:t.addModalOk},model:{value:t.addModalVisible,callback:function(e){t.addModalVisible=e},expression:"addModalVisible"}},[n("a-form-model",{ref:"addModalFormRef",attrs:{model:t.addModalForm,rules:t.addModalFormRules,labelCol:{span:0},wrapperCol:{span:24}}},[n("a-row",{staticClass:"houseInfo",attrs:{type:"flex"}},[n("a-col",{attrs:{span:8}},[n("span",{staticClass:"required"},[t._v("首页名称")])]),n("a-col",{attrs:{span:16}},[n("a-form-model-item",{staticClass:"width100",attrs:{prop:"title"}},[n("a-input",{staticClass:"width100",attrs:{placeholder:"请输入首页名称"},model:{value:t.addModalForm.title,callback:function(e){t.$set(t.addModalForm,"title",e)},expression:"addModalForm.title"}})],1)],1),n("a-col",{attrs:{span:8}},[n("span",{staticClass:"required"},[t._v("绑定方式")])]),n("a-col",{attrs:{span:16}},[n("a-form-model-item",{staticClass:"width100",attrs:{prop:"bindType"}},[n("a-radio-group",{model:{value:t.addModalForm.bindType,callback:function(e){t.$set(t.addModalForm,"bindType",e)},expression:"addModalForm.bindType"}},[n("a-radio-button",{attrs:{value:"0"}},[t._v("用户")]),n("a-radio-button",{attrs:{value:"1"}},[t._v("角色")])],1)],1)],1),"1"===t.addModalForm.bindType?[n("a-col",{attrs:{span:8}},[t._v("绑定角色")]),n("a-col",{attrs:{span:16}},[n("a-form-model-item",{staticClass:"width100",attrs:{prop:"role"}},[n("j-select-role",{staticClass:"width100",on:{change:t.onRoleChange,select:t.onRoleSelect},model:{value:t.addModalForm.roles,callback:function(e){t.$set(t.addModalForm,"roles",e)},expression:"addModalForm.roles"}})],1)],1)]:[n("a-col",{attrs:{span:8}},[t._v("绑定用户")]),n("a-col",{attrs:{span:16}},[n("a-form-model-item",{staticClass:"width100",attrs:{prop:"userNames"}},[n("a-textarea",{staticClass:"width100",attrs:{autosize:!0,placeholder:"请选择用户",readOnly:""},on:{click:t.openChooseUser},model:{value:t.addModalForm.userNames,callback:function(e){t.$set(t.addModalForm,"userNames",e)},expression:"addModalForm.userNames"}})],1)],1)],n("a-col",{attrs:{span:8}},[t._v("备注")]),n("a-col",{attrs:{span:16}},[n("a-form-model-item",{staticClass:"width100",attrs:{prop:"remark"}},[n("a-textarea",{staticClass:"width100",attrs:{placeholder:"请输入备注信息"},model:{value:t.addModalForm.remark,callback:function(e){t.$set(t.addModalForm,"remark",e)},expression:"addModalForm.remark"}})],1)],1)],2)],1)],1),n("select-user-modal",{ref:"selectUserModal",on:{selectFinished:t.selectUserFinished}})],1)},a=[],o=r("7be8"),i=r.n(o),s=r("0fea"),c=r("ca00"),l=r("2f62"),u=r("cafb"),f=r("b3c4");r("9fb0");function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=v(t,"string");return"symbol"==d(e)?e:e+""}function v(t,e){if("object"!=d(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var g={name:"CustomAnalysis",components:{SelectUserModal:f["default"],SysZoneSelect:u["default"],GridLayout:i.a.GridLayout,GridItem:i.a.GridItem},provide:function(){var t=this;return{getCustomAnalysisFun:function(){return t}}},inject:{closeCurrent:{default:null}},props:{isComp:{type:Boolean,default:!1}},data:function(){return{cardSize:{},dragData:{},layout:[],isFinish:0,timer:"",visible:!1,comps:[],dataSource:[],selectedRowKeys:[],selectionRows:"",ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(t,e){return e[0]+"-"+e[1]+" 共"+t+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},columns:[{title:"序号",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(t,e,r){return parseInt(r)+1}},{title:"卡片名称",align:"center",dataIndex:"comName"}],sysOrgCode:"",zoneCode:"",compKey:0,routeQuery:{},addModalVisible:!1,addModalForm:{title:"",userList:[],roleList:[],userNames:"",remark:"",compList:[],bindType:"0"},addModalFormRules:{title:[{required:!0,message:"请输入首页名称！"}]},chooseUserModalVisible:!1,modalBtnLoading:!1,pageLoading:!1,url:{saveData:"/workBench/workBench/saveData",list:"/components/comLibrary/listByRoles",getUserLayoutById:"/workBench/workBench/queryById",addHomeLayout:"/workBench/workBench/add",editHomeLayout:"/workBench/workBench/edit",getUserLayoutByUser:"/workBench/workBench/queryByUser"}}},created:function(){this.isKeepAlive&&!this.isComp||this.initData()},activated:function(){this.isKeepAlive&&!this.isComp&&(this.$set(this,"addModalForm",{title:"",userList:[],roleList:[],userNames:"",remark:"",compList:[],bindType:"0"}),this.initData())},mounted:function(){this.$bus.$on("setCustomHomeEditFlag",this.onEdit),this.$bus.$on("openHomeCompManagerModal",this.onManager)},computed:p({},Object(l["c"])(["getCustomHomeEditFlag","isKeepAlive"])),methods:{initData:function(){this.isComp?this.getUserLayoutByUser():(this.routeQuery=this.$route_query,this.routeQuery.homeLayoutId&&(this.addModalForm.id=this.routeQuery.homeLayoutId,this.getUserLayoutById(this.addModalForm.id)))},sysZoneSelectChange:function(t){var e=t.sysOrgValue,r=t.zoneValue;this.sysOrgCode=e,this.zoneCode=r},onMount:function(t,e){t.minW=e.minWidth||1,t.minH=e.minHeight||1,t.w=t.w||e.width||18,t.h=t.h||e.height||12},addModalOk:function(){var t=this;this.$refs.addModalFormRef.validate((function(e){e&&t.saveHomeLayoutFetch()}))},onRoleChange:function(t){},onRoleSelect:function(t){this.$set(this.addModalForm,"roleList",t.map((function(t){return t.id})))},openChooseUser:function(){this.$refs.selectUserModal.add()},selectUserFinished:function(t,e){this.addModalForm.userList=t,this.addModalForm.userNames=e.map((function(t){return t.realname})).join(",")},onEdit:function(){var t=this;this.getCustomHomeEditFlag?this.$notification["info"]({key:"notificationKey",placement:"topLeft",message:"编辑模式",description:"可通过拖动，调整下方组件的大小和位置",duration:null}):(this.$notification.close("notificationKey"),this.$confirm({title:"是否确认保存",content:0===this.addModalForm.compList.length?"请注意，当前首页并未配置组件！":"",onOk:function(){t.routeQuery.homeLayoutId?t.saveHomeLayoutFetch():t.addModalVisible=!0}}))},saveHomeLayoutFetch:function(){var t,e,r=this;this.addModalForm.id?(t=this.url.editHomeLayout,e=s["l"]):(t=this.url.addHomeLayout,e=s["j"]),this.modalBtnLoading=!0,this.pageLoading=!0,e(t,this.addModalForm).then((function(t){t.success?(r.$message.success(t.message),r.addModalVisible=!1,r.closeCurrent&&r.closeCurrent()):r.$message.warning(t.message),r.modalBtnLoading=!1,r.pageLoading=!1})).catch((function(t){r.modalBtnLoading=!1,r.pageLoading=!1}))},onManager:function(){this.openLib()},computedCardSize:function(){var t={};if(this.$refs.gridlayout)for(var e=0;this.addModalForm.compList&&this.addModalForm.compList.length>0&&e<this.addModalForm.compList.length;e++){var r={};r.width=this.addModalForm.compList[e].w*(this.$refs.gridlayout.$el.clientWidth/20)-5,r.height=30*this.addModalForm.compList[e].h+24,t[e]=r}this.cardSize=t},resizeEvent:function(t,e,r,n,a,o,i){this.computedCardSize()},deleteCard:function(t,e){this.addModalForm.compList&&1===this.addModalForm.compList.length?this.$message.info("请至少保留一张卡片"):this.addModalForm.compList.splice(e,1)},manageCard:function(t,e){this.openLib()},refreshCard:function(t,e){var r=this,n=t.comPath;this.$set(t,"comPath",""),setTimeout((function(){r.$set(t,"comPath",n)}),100)},openLib:function(){for(var t=0;this.addModalForm.compList&&this.addModalForm.compList.length>0&&t<this.addModalForm.compList.length;t++)this.addModalForm.compList[t].id=this.addModalForm.compList[t].comId;this.selectionRows=this.addModalForm.compList,this.selectedRowKeys=this.addModalForm.compList.map((function(t){return t.comId})),this.visible=!0,this.loadData(1)},getUserLayoutById:function(t){var e=this;this.pageLoading=!0,Object(s["e"])(this.url.getUserLayoutById,{id:t}).then((function(t){t&&t.success&&(e.addModalForm=t.result),e.$forceUpdate()})).catch((function(){e.pageLoading=!1})).finally((function(){e.pageLoading=!1}))},getUserLayoutByUser:function(){var t=this;this.pageLoading=!0,Object(s["e"])(this.url.getUserLayoutByUser,{}).then((function(e){e&&e.success&&e.result?t.addModalForm=e.result:t.$emit("not_has_custom_home"),t.$forceUpdate()})).catch((function(){t.pageLoading=!1})).finally((function(){t.pageLoading=!1}))},getQueryField:function(){var t="id,";return this.columns.forEach((function(e){t+=","+e.dataIndex})),t},getQueryParams:function(){var t={};this.superQueryParams&&(t["superQueryParams"]=encodeURI(this.superQueryParams),t["superQueryMatchType"]=this.superQueryMatchType);var e=Object.assign(t,this.queryParam,this.isorter,this.filters);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,Object(c["f"])(e)},loadData:function(t){var e=this;1===t&&(this.ipagination.current=1);var r=this.getQueryParams();r.comType="01",this.loading=!0,Object(s["e"])(this.url.list,r).then((function(t){t.success?(e.dataSource=t.result.records||t.result,t.result.total?e.ipagination.total=t.result.total:e.ipagination.total=0):e.$message.warning(t.message)}))},handleTableChange:function(t,e,r){this.ipagination=t,this.loadData()},onSelectChange:function(t,e){var r=this;this.selectedRowKeys=t,this.selectionRows=this.selectionRows.filter((function(t){return r.selectedRowKeys.includes(t.id)}));for(var n=function(n){if(t[n]&&""!==t[n])for(var a=0;e&&e.length>0&&a<e.length;a++){var o=r.selectionRows.find((function(e){return e.id===t[n]}));t[n]!==e[a].id||o||r.selectionRows.push(e[a])}},a=0;t&&t.length>0&&a<t.length;a++)n(a)},handleOk:function(){var t=this,e=[],r=0,n=JSON.parse(JSON.stringify(this.addModalForm.compList));if(this.selectionRows&&this.selectionRows.length>0)for(var a=0;n&&n.length>0&&a<n.length;a++)n[a].y>r&&(r=n[a].y);for(var o=0;this.selectionRows&&this.selectionRows.length>0&&o<this.selectionRows.length;o++){for(var i=!0,s=0;n&&n.length>0&&s<n.length;s++)if(n[s].comId&&this.selectionRows[o].id===n[s].comId){i=!1;break}i&&e.push({x:0,y:r+1,w:20,h:7,i:this.uuid(),comId:this.selectionRows[o].id,comPath:this.selectionRows[o].comPath})}for(var c=[],l=0;n&&n.length>0&&l<n.length;l++){for(var u=!1,f=0;this.selectionRows&&this.selectionRows.length>0&&f<this.selectionRows.length;f++)if(n[l].comId===this.selectionRows[f].id){u=!0;break}u&&n[l].comId&&""!==n[l].comId||(c.push(n[l]),n.splice(l,1),l--)}this.addModalForm.compList=n.concat(e),this.visible=!1,this.$store.commit("SET_CUSTOM_HOME_EDIT_FLAG",!0),this.$nextTick((function(){t.computedCardSize()}))},uuid:function(){for(var t=[],e="0123456789abcdef",r=0;r<36;r++)t[r]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-";var n=t.join("");return n}},beforeDestroy:function(){this.$bus.$off("setCustomHomeEditFlag",this.onEdit),this.$bus.$off("openHomeCompManagerModal",this.onManager)}},b=g,w=(r("a1d5"),r("b467"),r("2877")),x=Object(w["a"])(b,n,a,!1,null,"bb06f604",null);e["default"]=x.exports},ce9a9:function(t,e,r){"use strict";r("7354")},cfbb:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"RealEstateHome",staticStyle:{height:"100%"}},[r("div",{staticClass:"homeBody flex-column flex-grow-1"},[r("div",{staticClass:"flex-row"},[r("deposit-total",{staticClass:"flex-column flex-grow-4"}),r("project-total-real-estate",{staticClass:"flex-column flex-grow-3"})],1),r("div",{staticClass:"flex-grow-3"},[r("service-project",{staticStyle:{height:"100%"}})],1),r("div",{staticClass:"flex-row flex-grow-2"},[r("plot-balance",{staticClass:"flex-column flex-grow-2"}),t.hasEnablePageConfigByKey("hidePolicyLegalRegulation")?t._e():r("policie-regula",{staticClass:"flex-column flex-grow-1"})],1)]),r("div",{staticClass:"flex-column"},[r("shortcut-menu")],1)])},a=[],o=r("d9a4"),i=r("bc7a"),s=r("0fea"),c=r("2c3d"),l=r("85c0"),u=r("b7dc"),f=r("2271"),d=r("3d56"),h=r("1c67"),p=r("f2e4"),m=r("3ed7");function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function b(){}function w(){}function x(){}var _={};l(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=f(t[a],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==y(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?m:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=m,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(y(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),l(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function g(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){g(o,n,a,i,s,"next",t)}function s(t){g(o,n,a,i,s,"throw",t)}i(void 0)}))}}var w={name:"RealEstateHome",components:{PlotBalance:c["default"],ProjectTotalRealEstate:l["default"],ProjectTotal:p["default"],DepositTotal:h["default"],ShortcutMenu:d["default"],PolicieRegula:f["default"],ServiceProject:u["default"],HomeCard:i["default"]},created:function(){},data:function(){return{formatterAmount:m["g"],regions:[],cellBalanceColumns:[{title:"序号",type:"seq"},{field:"name",title:"小区名称"},{field:"ableBalance",title:"可用余额",slots:{default:"ableBalance"}}],projectTotal:[{label:"项目总数",value:0,icon:"el-icon-data-analysis"},{label:"在途项目",value:0,icon:"el-icon-tickets"},{label:"完成项目",value:0,icon:"el-icon-notebook-2"}],url:{getProjInfo:"/home/getProjInfo",getRegionAbleBalance:"/home/getRegionAbleBalance"}}},methods:{hasEnablePageConfigByKey:o["a"],getRegions:function(){var t=this;Object(s["e"])(this.url.getRegionAbleBalance).then((function(e){e.success&&(t.regions=e.result)}))},getProjects:function(){var t=b(v().mark((function t(){var e=this;return v().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["e"])(this.url.getProjInfo).then((function(t){t.success&&(e.projectTotal[0].value=t.result.serviceNum||0,e.projectTotal[1].value=t.result.proIngNum||0,e.projectTotal[2].value=t.result.proCompletedNum||0)}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},x=w,_=(r("0c7d"),r("2877")),C=Object(_["a"])(x,n,a,!1,null,"1981b682",null);e["default"]=C.exports},d09c:function(t,e,r){},d3d5:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"winningBidderAffirm"},[r("a-row",{staticClass:"houseInfo",attrs:{type:"flex"}},[r("a-col",{attrs:{xxl:3,span:4}},[t._v("项目编号")]),r("a-col",{attrs:{xxl:3,span:4}},[t._v(t._s(t.proInfo.code))]),r("a-col",{attrs:{xxl:3,span:4}},[t._v("项目描述")]),r("a-col",{attrs:{xxl:9,span:12}},[t._v(t._s(t.proInfo.describe))]),r("a-col",{attrs:{xxl:3,span:4}},[t._v("申报小区")]),r("a-col",{attrs:{xxl:3,span:4}},[t._v(t._s(t.proInfo.communityName))]),r("a-col",{attrs:{xxl:3,span:4}},[t._v("联系人")]),r("a-col",{attrs:{xxl:3,span:4}},[t._v(t._s(t.proInfo.reqMan))]),r("a-col",{attrs:{xxl:3,span:4}},[t._v("项目维修范围")]),r("a-col",{attrs:{xxl:3,span:4}},[t._l(t.repairRange,(function(e,n){return[e.value===t.proInfo.projScope?r("span",{key:n},[t._v(t._s(e.text))]):t._e()]}))],2),r("a-col",{attrs:{xxl:3,span:4}},[t._v("比选方式")]),r("a-col",{attrs:{xxl:3,span:4}},[t._v("\n      "+t._s(t.proInfo.comparModeName)+"\n      ")])],1),r("div",{staticClass:"tableDiv"},[t.tableData&&t.tableData.length>0?[r("vxe-grid",{attrs:{border:"default",height:"auto",stripe:"",columns:t.columns,data:t.tableData},scopedSlots:t._u([{key:"creditLevel",fn:function(e){var n=e.row;e.column;return["A"===n.creditLevel?r("a-tag",{attrs:{color:"green"}},[t._v(t._s(n.creditLevel))]):"B"===n.creditLevel?r("a-tag",{attrs:{color:"blue"}},[t._v(t._s(n.creditLevel))]):"C"===n.creditLevel?r("a-tag",{attrs:{color:"orange"}},[t._v(t._s(n.creditLevel))]):"D"===n.creditLevel?r("a-tag",{attrs:{color:"red"}},[t._v(t._s(n.creditLevel))]):r("span",[t._v(t._s("未评级"))])]}},{key:"action",fn:function(e){var n=e.row,a=(e.column,e.rowIndex);return[r("a-space",[r("a",{on:{click:function(e){return t.handleOk({row:n,rowIndex:a})}}},[r("a-icon",{attrs:{type:"check-circle"}}),t._v(" 中标确认")],1),n.fileList&&n.fileList.length>0?r("div",{staticStyle:{display:"flex","flex-direction":"column"},on:{click:function(e){return t.showFile(n)}}},[r("a",[r("a-icon",{attrs:{type:"eye"}}),t._v(" 查看方案（"+t._s(n.fileList?n.fileList.length:0)+"）")],1),void 0!==n.progress?r("div",{staticClass:"tableActionProgressBox"},[r("a-progress",{staticClass:"tableActionProgress",attrs:{percent:n.progress,size:"small"},scopedSlots:t._u([{key:"format",fn:function(){return["progressing"===n.downloadState?r("span",[t._v(t._s(n.speedStr||"0kb/s"))]):t._e()]},proxy:!0}],null,!0)})],1):t._e()]):t._e()])]}}],null,!1,674203615)})]:r("a-empty",{staticClass:"tableEmpty",attrs:{description:"暂无可中标单位"}})],2),t.previewVisible?r("div",{staticClass:"outer_box"},[r("preview-picture",{ref:"previewPicture",attrs:{fileNum:t.previewNum,fileList:t.previewFileList},on:{cancel:function(e){t.previewVisible=!1}}})],1):t._e(),r("a-modal",{attrs:{width:"600px",title:t.reasonModalTitle,closable:!1,keyboard:!1,maskClosable:!1},scopedSlots:t._u([{key:"footer",fn:function(){return[r("a-button",{attrs:{size:"large"},on:{click:t.close}},[t._v("关闭")]),r("a-button",{attrs:{size:"large",type:"primary"},on:{click:t.reasonModalOk}},[t._v("确认")])]},proxy:!0}]),model:{value:t.reasonVisible,callback:function(e){t.reasonVisible=e},expression:"reasonVisible"}},[r("div",{staticClass:"reasonBody"},[t.isTop3?[r("a-checkbox-group",{staticClass:"width100",model:{value:t.top3CurrentReason,callback:function(e){t.top3CurrentReason=e},expression:"top3CurrentReason"}},[r("a-row",{staticClass:"width100",attrs:{gutter:16}},t._l(t.top3Reasons,(function(e){return r("a-col",{key:e.id,attrs:{span:8}},[r("a-checkbox",{attrs:{value:e.id}},[t._v(t._s(e.reasonName))])],1)})),1)],1)]:[r("a-textarea",{attrs:{placeholder:"请输入选择该企业的原因"},on:{focus:t.otherReasonFocus,blur:t.otherReasonBlur,input:t.otherReasonInput},model:{value:t.otherReason,callback:function(e){t.otherReason=e},expression:"otherReason"}})]],2)])],1)},a=[],o=r("0fea"),i=r("d8a5"),s=r("b7a8"),c=r("7745"),l=r("3ed7"),u=r("2b0e");function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var p="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};l(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var c=h(t[a],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==f(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=h(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=h(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(f(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),l(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),l(S,c,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function h(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){h(o,n,a,i,s,"next",t)}function s(t){h(o,n,a,i,s,"throw",t)}i(void 0)}))}}var m={name:"WinningBidderAffirm",components:{PreviewPicture:s["default"]},mixins:[c["UploadFile"]],inject:["loadSetting"],data:function(){return{proInfo:{},columns:[{type:"seq",title:"序号",align:"center",width:60},{title:"单位名称",headerAlign:"left",align:"left",field:"corpName",minWidth:180},{headerAlign:"left",title:"统一社会信用代码",align:"left",minWidth:140,field:"license"},{headerAlign:"left",title:"联系人",align:"left",field:"contacts",width:100},{headerAlign:"left",title:"联系电话",align:"left",field:"contactNumber",width:130},{headerAlign:"center",title:"信用等级",align:"center",field:"creditLevel",width:100,slots:{default:"creditLevel"}},{headerAlign:"right",title:"维修报价（元）",align:"right",field:"corpPrice",formatter:function(t){var e=t.cellValue;return Object(l["g"])(e)},width:120},{headerAlign:"right",title:"质保期（月）",align:"right",field:"period",width:120},{headerAlign:"right",title:"工期（天）",align:"right",field:"days",width:100},{headerAlign:"right",title:"比选得分",align:"right",field:"scoreTotal",formatter:function(t){var e=t.cellValue;return Number(e||"0").toFixed(2)},width:80},{title:"操作",align:"center",fixed:"right",width:220,slots:{default:"action"}}],tableData:[],comparTypes:[],repairRange:[],reasonVisible:!1,reasonModalTitle:"",isTop3:!1,top3Reasons:[{id:"价格合理",reasonName:"价格合理"},{id:"经验丰富",reasonName:"经验丰富"},{id:"保修期限优势",reasonName:"保修期限优势"}],top3CurrentReason:[],otherReason:"",currentRecord:"",url:{queryComparResultList:"/compare/bComparPart/queryComparResultList",getComparTypes:"/use/serviceProj/getComparTypes"}}},created:function(){var t=this;Object(i["g"])("repair_range").then((function(e){e.success&&(t.repairRange=e.result)}))},methods:{showFile:function(){var t=p(d().mark((function t(e){var r,n,a,o;return d().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.myAPI){t.next=5;break}return this.fileList=e.fileList,this.buildShowList(),this.handlePreview(e.fileList[0]),t.abrupt("return");case 5:if(this.fileList=e.fileList,r=this.tableData.find((function(t){return"progressing"===t.downloadState})),!r){t.next=10;break}return this.$message.warning("当前存在正在下载的附件，请稍候！"),t.abrupt("return");case 10:if(n=this,this.fileList=e.fileList,!window.myAPI){t.next=20;break}return a=new c["ElectronMainDownload"](e.fileList[0]),n.$set(e,"downloadState","progressing"),n.$set(e,"progress",0),t.next=18,a.onDownloadFile(e,(function(t){var r=t.remainderTime,a=t.progress,o=t.speedStr;n.$set(e,"progress",a),n.$set(e,"remainderTime",r),n.$set(e,"speedStr",o)}),(function(t,r){return n.$set(e,t,r),e[t]}));case 18:o=t.sent,o?this.$message.success("下载成功！"):this.$message.error("下载失败！");case 20:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),init:function(t){var e=this,r=t.proInfo;this.proInfo=r,this.loadSetting().loading=!0,this.loadSetting().loadingText="正在为您查询比选单位",Object(o["e"])(this.url.getComparTypes,{projectIds:r.id}).then((function(t){e.comparTypes=t.result})),Object(o["e"])(this.url.queryComparResultList,{comparId:r.comparId,scope:r.projScope,current:1,size:999}).then((function(t){t&&t.success&&t.result?e.tableData=t.result.records||[]:e.tableData=[],e.loadSetting().loading=!1})).catch((function(){e.loadSetting().loading=!1}))},handleOk:function(t){var e=t.row,r=t.rowIndex;this.isTop3=r<=2,this.reasonModalTitle=r<=2?"请选择中标原因":"请填写中标原因",this.currentRecord=e,this.reasonVisible=!0},otherReasonFocus:function(){window.myAPI&&window.myAPI.ipcRendererMethod.send("openOsk")},otherReasonBlur:function(){window.myAPI&&window.myAPI.ipcRendererMethod.send("closeOsk")},otherReasonInput:function(t){u["default"].ls.set("lastTime",(new Date).getTime())},close:function(){this.top3CurrentReason=[],this.otherReason="",this.reasonVisible=!1},reasonModalOk:function(){var t="";if(this.isTop3){if(0===this.top3CurrentReason.length)return void this.$message.warning("请至少选择一项中标原因!");t=this.top3CurrentReason.join(",")}else{if(!this.otherReason)return void this.$message.warning("请输入中标原因!");t=this.otherReason}this.$emit("affirm",{row:this.currentRecord,reason:t})}}},y=m,v=(r("e434"),r("dd19"),r("2877")),g=Object(v["a"])(y,n,a,!1,null,"002b3dc9",null);e["default"]=g.exports},d835:function(t,e,r){"use strict";r("bbeb")},da5a:function(t,e,r){"use strict";r("ed6d")},dd19:function(t,e,r){"use strict";r("4c09")},dd91:function(t,e,r){"use strict";r("f468")},dfc7:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("sys-zone-select",t._g(t._b({model:{value:t.modelValue,callback:function(e){t.modelValue=e},expression:"modelValue"}},"sys-zone-select",t.$attrs,!1),t._listeners))},a=[],o=r("cafb"),i={name:"CustomHomeZoneSelect",components:{SysZoneSelect:o["default"]},props:{value:{type:Object,default:function(){}}},inject:{getCustomAnalysisFun:{default:null}},model:{prop:"value",event:"change.value"},computed:{_listeners:function(){return Object.assign(this.$listeners,{change:this.onChange})}},created:function(){this.$emit("mount",{width:10,height:8})},data:function(){return{modelValue:{}}},methods:{onChange:function(t){if(this.getCustomAnalysisFun){var e=this.getCustomAnalysisFun();e.sysOrgCode=t.sysOrgValue,e.zoneCode=t.zoneValue,e.compKey++}}}},s=i,c=r("2877"),l=Object(c["a"])(s,n,a,!1,null,"78179ced",null);e["default"]=l.exports},e176:function(t,e,r){"use strict";r("9d5c")},e197:function(t,e,r){},e351:function(t,e,r){"use strict";r.r(e),r.d(e,"HomeRevokeMethodUtils",(function(){return a}));var n=r("0fea"),a={data:function(){return{finMarDisagr:"/use/fundProgress/finMarDisagr/",revokeRefundMsg:"/deposit/firstDeposit/revokeRefundMsg",revokeBatchRefundUrl:"/deposit/firstDeposit/revokeBatchRefund",revokeTrans:"/base/rHouseInfo/revokeTransfer",fundPayAppRevOverUrl:"/use/fundProgress/fundPayAppRevOver/",fundReturnOverUrl:"/use/fundProgress/fundReturnOver/",payAppDisagrUrl:"/use/fundProgress/payAppDisagr/"}},methods:{finishMarginDisagree:function(t,e,r){var a=this.finMarDisagr+t+"/3?flowOpinion="+r;Object(n["j"])(a).then((function(t){t.success?(e.$message.success(t),e.$refs.checkModal.cancelFn()):(e.$message.error(t.message),e.confirmLoading=!1)})).catch((function(t){e.$message.error(t),e.confirmLoading=!1}))},revokeRefund:function(t,e,r,a){Object(n["e"])(e.revokeRefundMsg,{businessKey:t,comment:r,taskId:a}).then((function(t){e.$message.success("操作成功"),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))})).catch((function(t){e.$message.error(t),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))}))},revokeBatchRefund:function(t,e,r,a){Object(n["e"])(e.revokeBatchRefundUrl,{businessKey:t,comment:r,taskId:a}).then((function(t){t.success?(e.$message.success(t.message),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))):(e.$message.error(t.message),e.confirmLoading=!1)})).catch((function(t){e.$message.error(t),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))}))},revokeTransfer:function(t,e,r,a){Object(n["e"])(e.revokeTrans,{businessKey:t,comment:r,taskId:a}).then((function(t){t.success?(e.$message.success(t.message),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))):(e.$message.error(t.message),e.confirmLoading=!1)})).catch((function(t){e.$message.error(t),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))}))},revokeTransferList:function(t){var e=this;Object(n["e"])(this.revokeTrans,{businessKey:t}).then((function(t){t.success?(e.$message.success(t.message),e.$nextTick((function(){e.queryPage()}))):e.$message.error(t.message)})).catch((function(t){e.$message.error(t),e.$nextTick((function(){e.queryPage()}))}))},fundPayAppRevOver:function(t,e,r){var a=e.fundPayAppRevOverUrl+t+"/3?flowOpinion="+r;Object(n["j"])(a).then((function(t){t.success?(e.$message.success(t.message),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))):(e.$message.error(t.message),e.confirmLoading=!1)})).catch((function(t){e.$message.error(t),e.confirmLoading=!1}))},projFundReturnDisagree:function(t,e,r){var a=e.fundReturnOverUrl+t;Object(n["j"])(a).then((function(t){t.success?(e.$message.success(t.message),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))):(e.$message.error(t.message),e.confirmLoading=!1)})).catch((function(t){e.$message.error(t),e.confirmLoading=!1}))},payAppDisagree:function(t,e,r,a){var o=e.payAppDisagrUrl+a+"/3?flowOpinion="+r;Object(n["j"])(o).then((function(t){t.success?(e.$message.success(t.message),e.$nextTick((function(){e.$refs.checkModal.confirmLoading=!1,e.$refs.checkModal.cancelFn()}))):(e.$message.error(t.message),e.confirmLoading=!1)})).catch((function(t){e.$message.error(t),e.confirmLoading=!1}))}}}},e52c:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dataOverview",class:[t.layout]},[r("div",{staticClass:"title"},[r("h3",{staticClass:"headline"},[t._v("数据总览")])]),r("div",{staticClass:"data_list"},[r("DataItem",{attrs:{tendency:t.dataOverview.thisCorpNum,total:t.dataOverview.corpNum,title:"备案单位总数"}}),r("DataItem",{attrs:{tendency:t.dataOverview.thisRegionNum,total:t.dataOverview.regionNum,title:"备案小区总数"}}),r("DataItem",{attrs:{tendency:t.dataOverview.thisBldNum,total:t.dataOverview.bldNum,title:"备案自然幢总数"}}),r("DataItem",{attrs:{tendency:t.dataOverview.thisHouseNum,total:t.dataOverview.houseNum,title:"备案总户数"}}),r("DataItem",{attrs:{tendency:t.dataOverview.thisDueHouseNum,total:t.dataOverview.dueHouseAmount,title:"余额低于30%",unit:"户"}})],1)])},a=[],o=r("11d9"),i=r("0fea"),s=r("2f62");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t){var e=h(t,"string");return"symbol"==c(e)?e:e+""}function h(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var p={name:"DataOverview",props:{sysOrgCode:{type:String,default:""},zoneCode:{type:String,default:""},compKey:{type:Number,default:0},isCustomHome:{type:Boolean,default:!1},isInit:{type:Boolean,default:!0}},components:{DataItem:o["default"]},computed:u({},Object(s["d"])({layout:function(t){return t.app.layout}})),watch:{compKey:function(t){this.initData()}},created:function(){this.$emit("mount",{width:36,height:32}),this.isInit&&this.initData()},mounted:function(){this.$bus.$on("refreshDataFiling",this.initData)},beforeDestroy:function(){this.$bus.$off("refreshDataFiling",this.initData)},data:function(){return{dataOverview:{},loading:!1,url:{getScreening:"/statistics/analysis/queryDataScreening"}}},methods:{initData:function(){var t=this;this.loading=!0,Object(i["e"])(this.url.getScreening,{sysOrgCode:this.sysOrgCode,zoneCode:this.zoneCode}).then((function(e){t.dataOverview=e.result})).finally((function(){t.loading=!1}))}}},m=p,y=(r("79d4"),r("2877")),v=Object(y["a"])(m,n,a,!1,null,"2e72d3fa",null);e["default"]=v.exports},e866:function(t,e,r){},ed6d:function(t,e,r){},ef92:function(t,e,r){},efa5:function(t,e,r){"use strict";r("5ab0")},f2b7:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",{directives:[{name:"loading",rawName:"v-loading",value:t.typeLoading||t.areaLoading,expression:"typeLoading || areaLoading"}],ref:"useChart",staticClass:"useChart",class:["useChart_"+t.layout],attrs:{"body-style":{padding:"0"}}},[r("div",{staticClass:"cardBody"},[r("div",{staticClass:"bottom_header"},[r("h3",{staticClass:"headline"},[t._v("使用")])]),r("div",{staticClass:"useBaseInfoUl"},[r("div",[r("div",[r("a-row",{staticStyle:{"text-align":"right"}},[r("p",[t._v("当月审批项目")])]),r("a-row",{staticStyle:{"text-align":"right"}},[r("span",{staticClass:"number"},[t._v(t._s(t.projectAmountData.thisMonthProjectNum?t.projectAmountData.thisMonthProjectNum:0))]),r("span",{staticStyle:{"margin-right":"4px"}},[t._v("笔")])])],1),r("div",[r("a-row",[r("p",[t._v("/")])]),r("a-row",[r("div",{staticClass:"cross_line"})])],1),r("div",{staticStyle:{"text-align":"left"}},[r("a-row",[r("p",[t._v("当月拨付")])]),r("a-row",[r("span",{staticClass:"number",domProps:{innerHTML:t._s(t.formatterAmountToMany(t.projectAmountData.thisMonthProjectAmount,"html"))}})])],1)]),r("div",[r("div",{staticStyle:{"text-align":"right"}},[r("a-row",[r("p",[t._v("当年审批项目")])]),r("a-row",[r("span",{staticClass:"number"},[t._v(t._s(t.projectAmountData.thisYearProjectNum?t.projectAmountData.thisYearProjectNum:0))]),r("span",{staticStyle:{"margin-right":"4px"}},[t._v("笔")])])],1),r("div",[r("a-row",[r("p",[t._v("/")])]),r("a-row",[r("div",{staticClass:"cross_line"})])],1),r("div",{staticStyle:{"text-align":"left"}},[r("a-row",[r("p",[t._v("当年拨付")])]),r("a-row",[r("span",{staticClass:"number",domProps:{innerHTML:t._s(t.formatterAmountToMany(t.projectAmountData.thisYearProjectAmount?t.projectAmountData.thisYearProjectAmount:0,"html"))}})])],1)]),r("div",[r("div",{staticStyle:{"text-align":"right"}},[r("a-row",[r("p",[t._v("累计审批项目")])]),r("a-row",[r("span",{staticClass:"number"},[t._v(t._s(t.projectAmountData.projectNum?t.projectAmountData.projectNum:0))]),r("span",{staticStyle:{"margin-right":"4px"}},[t._v("笔")])])],1),r("div",[r("a-row",[r("p",[t._v("/")])]),r("a-row",[r("div",{staticClass:"cross_line"})])],1),r("div",{staticStyle:{"text-align":"left"}},[r("a-row",[r("p",[t._v("累计拨付")])]),r("a-row",[r("span",{staticClass:"number",domProps:{innerHTML:t._s(t.formatterAmountToMany(t.projectAmountData.projectAmount,"html"))}})])],1)])]),r("div",{staticClass:"borders"},[r("div",{staticClass:"line"})]),r("div",{staticClass:"bottom_box"},[r("article",{staticClass:"left_article"},[r("div",{staticClass:"chart_title"},[r("div",{staticClass:"count_title headline"},[t._v("行政区统计")]),r("div",{staticClass:"time"},[r("a-radio-group",{staticStyle:{"margin-right":"10px"},attrs:{"button-style":"solid","default-value":"year"},on:{change:function(e){t.areaType=e.target.value,t.areaTypeTime=""}}},t._l(t.timeData,(function(e,n){return r("a-radio-button",{key:n,attrs:{value:e.value}},[t._v("\n                "+t._s(e.name)+"\n              ")])})),1),r("el-date-picker",{key:"alDate"+t.areaType,staticStyle:{width:"120px"},attrs:{format:"year"===t.areaType?"yyyy":"yyyy-MM",placeholder:"year"===t.areaType?"选择年":"选择月",type:t.areaType,valueFormat:"year"===t.areaType?"yyyy":"yyyy-MM"},on:{change:t.getProjectNumForArea},model:{value:t.areaTypeTime,callback:function(e){t.areaTypeTime=e},expression:"areaTypeTime"}})],1)]),r("div",{staticClass:"chartContainer"},[r("div",{staticClass:"lineChart",attrs:{id:"districtStatistics"}})])]),r("article",{staticClass:"right_article"},[r("div",{staticClass:"chart_title"},[r("div",{staticClass:"count_title headline"},[t._v("维修类型统计")]),r("div",{staticClass:"time"},[r("a-radio-group",{staticStyle:{"margin-right":"10px"},attrs:{"button-style":"solid","default-value":"year"},on:{change:function(e){t.projectType=e.target.value,t.projectValue=""}}},t._l(t.timeData,(function(e,n){return r("a-radio-button",{key:n,attrs:{value:e.value}},[t._v("\n                "+t._s(e.name)+"\n              ")])})),1),r("el-date-picker",{key:"blDate"+t.projectType,staticStyle:{width:"120px"},attrs:{format:"year"===t.projectType?"yyyy":"yyyy-MM",placeholder:"year"===t.projectType?"选择年":"选择月",type:t.projectType,valueFormat:"year"===t.projectType?"yyyy":"yyyy-MM"},on:{change:t.getProjectNumForType},model:{value:t.projectValue,callback:function(e){t.projectValue=e},expression:"projectValue"}})],1)]),r("div",{staticClass:"lineChart",attrs:{id:"maintenanceStatistics"}})])])])])},a=[],o=r("2f62"),i=r("0fea"),s=r("3ed7");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t){return d(t)||f(t)||m(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function d(t){if(Array.isArray(t))return y(t)}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};u(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var l=d(t[a],t,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==c(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=d(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=d(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=u(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),u(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(f(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function p(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=m(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function m(t,e){if(t){if("string"==typeof t)return y(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function g(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){v(o,n,a,i,s,"next",t)}function s(t){v(o,n,a,i,s,"throw",t)}i(void 0)}))}}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t,e,r){return(e=_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){var e=C(t,"string");return"symbol"==c(e)?e:e+""}function C(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var k={name:"UseChart",props:{sysOrgCode:{type:String,default:""},zoneCode:{type:String,default:""},compKey:{type:Number,default:0},isInit:{type:Boolean,default:!0}},computed:w({},Object(o["d"])({layout:function(t){return t.app.layout}})),watch:{compKey:function(t){this.initData()}},created:function(){this.isInit&&this.initData(),this.$emit("mount",{width:20,height:80})},mounted:function(){this.$bus.$on("refreshDataFiling",this.getProjectAmountData),this.resizeChart()},data:function(){return{typeLoading:!1,areaLoading:!1,resizeObserver:null,projectAmountData:{},timeData:[{value:"month",name:"月"},{value:"year",name:"年"}],areaType:"year",areaTypeTime:(new Date).getFullYear()+"",areaChart:null,areaTypeX:[],areaTypeData:[],areaAmount:[],areaUseData:[],projectType:"year",projectValue:(new Date).getFullYear()+"",projectNumForTypeData:[],projectChart:null,url:{ProjectAmount:"/statistics/analysis/queryProjectAmountData",projectNumForArea:"/statistics/analysis/queryProjectNumForArea",projectNumForType:"/statistics/analysis/queryProjectNumForType"}}},methods:{formatterAmountToMany:s["h"],initData:function(){this.getProjectAmountData(),this.getProjectNumForArea((new Date).getFullYear()+""),this.getProjectNumForType((new Date).getFullYear()+"")},getProjectAmountData:function(){var t=this,e={sysOrgCode:this.sysOrgCode,zoneCode:this.zoneCode};Object(i["e"])(this.url.ProjectAmount,e).then((function(e){e.success&&e.result&&(t.projectAmountData=e.result)}))},getProjectNumForArea:function(){var t=g(h().mark((function t(e){var r,n=this;return h().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={sysOrgCode:this.sysOrgCode,zoneCode:this.zoneCode,type:this.areaType,time:e},this.areaLoading=!0,t.next=4,Object(i["e"])(this.url.projectNumForArea,r).then((function(t){if(n.areaTypeX=[],n.areaUseData=[],n.areaAmount=[],t.success&&t.result){n.areaTypeData=t.result;var e,r=p(n.areaTypeData);try{for(r.s();!(e=r.n()).done;){var a=e.value;n.areaTypeX.push(a.name),n.areaUseData.push(a.projectnum),n.areaAmount.push(Object(s["i"])(a.useamount))}}catch(o){r.e(o)}finally{r.f()}}n.getDistrictStatistics()})).catch((function(){n.areaLoading=!1})).finally((function(){n.areaLoading=!1}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getProjectNumForType:function(){var t=g(h().mark((function t(e){var r,n=this;return h().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={sysOrgCode:this.sysOrgCode,zoneCode:this.zoneCode,type:this.projectType,time:e},t.prev=1,this.typeLoading=!0,t.next=5,Object(i["e"])(this.url.projectNumForType,r).then((function(t){n.projectNumForTypeData=t.result}));case 5:this.typeLoading=!1,this.getMaintenanceStatistics(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.typeLoading=!1;case 12:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}(),getMaintenanceStatistics:function(){this.projectChart&&this.projectChart.dispose();var t=document.getElementById("maintenanceStatistics");this.projectChart=echarts.init(t);var e={xAxis:{type:"category",axisTick:{show:!1},axisLabel:{margin:10,fontFamily:"myTextFont",fontSize:"careMode"===this.layout?14:12,interval:0,formatter:this.xLabelFormatter}},dataset:{source:this.projectNumForTypeData},yAxis:{axisLabel:{fontSize:"careMode"===this.layout?14:12}},grid:{left:"6%",right:"1%"},color:["rgba(115, 91, 249, 0.85)"],textStyle:{fontFamily:"myConttFont",color:"#2c3541"},series:[{type:"bar",barWidth:"30",label:{show:!0,position:"top",fontFamily:"myConttFont",fontSize:"careMode"===this.layout?14:12},encode:{x:1,y:0},itemStyle:{borderRadius:[4,4,0,0]}}],dataZoom:[{type:"inside",xAxisIndex:[0],start:1,end:"careMode"===this.layout?60:80}]};e&&this.projectChart.setOption(e)},getDistrictStatistics:function(){var t=Math.max.apply(Math,l(this.areaUseData))||60;isNaN(t%10)||t%10===0||(t+=10-t%10);var e=Math.max.apply(Math,l(this.areaAmount))||300;isNaN(e%10)||e%100===0||(e+=100-e%100),this.areaChart&&this.areaChart.dispose();var r=document.getElementById("districtStatistics");this.areaChart=echarts.init(r);var n={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontSize:"careMode"===this.layout?14:12}},xAxis:{type:"category",data:this.areaTypeX,axisTick:{show:!1},axisLabel:{margin:10,fontFamily:"myTextFont",fontSize:"careMode"===this.layout?14:12}},yAxis:[{name:"拨付金额 (万元)",type:"value",min:0,max:Math.ceil(e),nameTextStyle:{fontSize:"careMode"===this.layout?14:12},axisLabel:{formatter:"{value}",fontSize:"careMode"===this.layout?14:12},splitLine:{lineStyle:{color:["rgba(115,222,179,0.4)"]}}},{name:"项目笔数 (笔)",nameTextStyle:{fontSize:"careMode"===this.layout?14:12},type:"value",min:0,max:t,axisLabel:{formatter:"{value}",fontSize:"careMode"===this.layout?14:12},splitLine:{lineStyle:{color:["#789dee"]}}}],legend:{type:"plain",show:!0,left:"0",textStyle:{fontSize:"careMode"===this.layout?14:12}},color:["rgba(97, 140, 236, 0.85)","rgba(90, 216, 166, 0.85)"],textStyle:{fontFamily:"myConttFont",color:"#2c3541"},series:[{name:"项目笔数 (笔)",data:this.areaUseData,type:"line",smooth:!0,yAxisIndex:1,label:{show:!0,position:"top",fontFamily:"myConttFont",fontSize:"careMode"===this.layout?14:12},itemStyle:{borderRadius:[4,4,0,0]}},{name:"拨付金额 (万元)",data:this.areaAmount,type:"bar",label:{show:!0,position:"top",fontFamily:"myConttFont",fontSize:"careMode"===this.layout?14:12},itemStyle:{borderRadius:[4,4,0,0]}}],grid:{left:"10%",right:"10%"}};n&&this.areaChart.setOption(n)},xLabelFormatter:function(t){var e="",r=t.length,n=4,a=Math.ceil(r/n);if(r>n)for(var o=0;o<a;o++){var i="",s=o*n,c=s+n;i=o==a-1?t.substring(s,r):t.substring(s,c)+"\n",e+=i}else e=t;return e},resizeChart:function(){var t=this;this.resizeObserver=new ResizeObserver((function(e){var r,n=p(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;a.contentBoxSize&&(t.projectChart&&t.projectChart.resize(),t.areaChart&&t.areaChart.resize())}}catch(o){n.e(o)}finally{n.f()}})),this.resizeObserver.observe(this.$refs.useChart.$el)}},beforeDestroy:function(){this.$bus.$off("refreshDataFiling",this.getProjectAmountData),this.resizeObserver&&this.resizeObserver.disconnect()}},S=k,L=(r("2f96"),r("2877")),j=Object(L["a"])(S,n,a,!1,null,"0651cff6",null);e["default"]=j.exports},f2e4:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("home-card",{attrs:{"header-title":"项目统计"}},[r("div",{staticClass:"projectTotal"},t._l(t.projectTotal,(function(e,n){return r("div",{key:"projTotal"+n,staticClass:"data-item"},[r("em",{staticClass:"data-item-icon",class:e.icon}),r("div",[r("p",{staticClass:"data-item-value"},[t._v(t._s(e.value))]),r("p",{staticClass:"data-item-label"},[t._v(t._s(e.label))])])])})),0)])},a=[],o=r("bc7a"),i=r("0fea"),s=r("3ed7");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new E(n||[]);return a(i,"_invoke",{value:O(t,r,s)}),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var p="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var _={};f(_,i,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==r&&n.call(k,i)&&(_=k);var S=x.prototype=b.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(a,o,i,s){var l=h(t[a],t,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==c(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function O(e,r,n){var a=p;return function(o,i){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=T(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var l=h(e,r,n);if("normal"===l.type){if(a=n.done?v:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=v,n.method="throw",n.arg=l.arg)}}}function T(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=h(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=x,a(S,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},L(j.prototype),f(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new j(d(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(S),f(S,u,"Generator"),f(S,i,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;D(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function u(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){u(o,n,a,i,s,"next",t)}function s(t){u(o,n,a,i,s,"throw",t)}i(void 0)}))}}var d={name:"ProjectTotal",components:{HomeCard:o["default"]},created:function(){this.getProjects()},data:function(){return{projectTotal:[{label:"项目总数",value:0,icon:"el-icon-data-analysis"},{label:"在途项目",value:0,icon:"el-icon-tickets"},{label:"完成项目",value:0,icon:"el-icon-notebook-2"},{label:"预计总收入（元）",value:0,icon:"el-icon-s-finance\n"},{label:"已收金额（元）",value:0,icon:"el-icon-money"},{label:"未收金额（元）",value:0,icon:"el-icon-wallet"}],url:{getProjInfo:"/home/getProjInfo",getCorpMoney:"/home/getCorpMoney"}}},methods:{getProjects:function(){var t=f(l().mark((function t(){var e=this;return l().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["e"])(this.url.getProjInfo).then((function(t){t.success&&(e.projectTotal[0].value=t.result.serviceNum||0,e.projectTotal[1].value=t.result.proIngNum||0,e.projectTotal[2].value=t.result.proCompletedNum||0)}));case 2:return t.next=4,Object(i["e"])(this.url.getCorpMoney).then((function(t){t.success&&(e.projectTotal[3].value=Object(s["g"])(t.result.estimateMoney||"0.00"),e.projectTotal[4].value=Object(s["g"])(t.result.receivedMoney||"0.00"),e.projectTotal[5].value=Object(s["g"])(t.result.unReceivedMoney||"0.00"))}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},h=d,p=(r("c7f2"),r("2877")),m=Object(p["a"])(h,n,a,!1,null,"a68b5f64",null);e["default"]=m.exports},f372:function(t,e,r){},f468:function(t,e,r){},f69c:function(t,e,r){"use strict";r("b74c")},f894:function(t,e,r){},f909:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"topLeftMenu"!==t.layout?n("div",{staticClass:"main",class:"analysis-"+t.layout,staticStyle:{padding:"6px"}},[n("a-carousel",{attrs:{adaptiveHeight:!0,dots:!1,autoplay:!0,"dot-position":"right"}},t._l(t.noticeList,(function(e,r){return n("a-alert",{key:e.id,staticStyle:{"margin-top":"0 !important"},attrs:{type:"info","show-icon":!0,closable:!1}},[n("div",{staticClass:"message",attrs:{slot:"message"},slot:"message"},[n("p",{staticClass:"maxP"},[n("span",{staticClass:"Space"},[t._v(t._s(e.titile))]),n("span",{staticClass:"minSpan",staticStyle:{color:"#c72e2e"}},[t._v(" 创建时间："+t._s(e.createTime))])]),n("div",{staticClass:"analysis_alert_right"},[n("a",{on:{click:function(r){return t.showAnnouncement(e)}}},[t._v("查看详情")]),n("a-icon",{attrs:{type:"close"},on:{click:function(n){return t.closeNotice(e,r)}}})],1)])])})),1),n("div",{ref:"analysis",staticClass:"content",staticStyle:{position:"relative",height:"0",flex:"1"}},[n("div",{staticClass:"left"},[n("a-card",{ref:"todoListCard",staticClass:"left_bottom height100",attrs:{bodyStyle:{height:"calc(100% - 59px)",overflowY:"scroll",position:"relative"}},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{staticClass:"check_title"},t._l(t.todoTitleList,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:3!=e.value||t.isShowVerify,expression:"item.value != 3 || (isShowVerify)"}],key:"todoTitle"+e.value,staticClass:"title_item",class:{disabled:t.todoLoading},on:{click:function(r){return t.changeTodoTab(e.value)}}},[n("p",{staticClass:"headline",class:t.selectedTab===e.value?"selected":""},[t._v(t._s(e.title))]),n("img",{directives:[{name:"show",rawName:"v-show",value:t.selectedTab===e.value,expression:"selectedTab === item.value"}],attrs:{alt:"",src:r("4bf9c")}}),1===e.value?n("a-badge",{staticClass:"badge",attrs:{count:t.todoTotal,"overflow-count":99}}):t._e(),3===e.value?n("a-badge",{staticClass:"badge",attrs:{count:t.verifyTotal,"overflow-count":99}}):t._e()],1)})),0)]},proxy:!0},{key:"extra",fn:function(){return[n("div",{staticClass:"extra",on:{click:t.getAll}},[n("span",[t._v("更多")]),n("img",{attrs:{src:r("2d31"),alt:""}})])]},proxy:!0}],null,!1,59619138)},[[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.todoLoading,expression:"todoLoading"}],staticClass:"todoList"},[t.todoList&&t.todoList.length>0||t.todoLoading?t._l(t.todoList,(function(e,a){return n("a-card",{key:a,staticClass:"checkItem",scopedSlots:t._u([{key:"title",fn:function(){return[n("img",{staticStyle:{"margin-right":"8px"},attrs:{alt:"",src:r("bebc")}}),[1===t.selectedTab?n("span",[t._v(t._s(e.variables.panel?e.variables.panel:e.name))]):n("span",[t._v(t._s(e.name?e.name:""))])]]},proxy:!0},{key:"extra",fn:function(){return[e.variables&&"项目申报"!==e.variables.panel?n("span",{staticStyle:{color:"#fd8a2f"}},[1===t.selectedTab?[t._v(" 待审核 ")]:[t._v(" 已审核 ")]],2):t._e()]},proxy:!0}],null,!0)},[n("div",{staticClass:"main_content"},[n("div",{staticClass:"borders"},[n("div",{staticClass:"line"})]),n("h3",[t._v(t._s(e.variables?JSON.parse(e.variables.summary).title:""))]),n("div",{staticClass:"borders"},[n("div",{staticClass:"line"})])]),n("div",{staticClass:"bottom_wrap"},[n("span",[t._v(t._s(e.createTime))]),n("a-button",{attrs:{type:"primary",size:"careMode"===t.layout?void 0:"small",shape:"round"},on:{click:function(r){return t.check(e,t.selectedTab)}}},[1===t.selectedTab?["项目申报"!==e.variables.panel?n("span",[t._v("审核")]):n("span",[t._v("办理")])]:n("span",[t._v("查看")])],2)],1)])})):[n("a-empty")]],2)]],2)],1),n("div",{staticClass:"right"},[n("sys-zone-select",{staticStyle:{"margin-bottom":"6px"},attrs:{"auto-width":"","show-sys-org-all":""},on:{change:t.selectZone},model:{value:t.zoneInfo,callback:function(e){t.zoneInfo=e},expression:"zoneInfo"}}),n("a-card",{staticClass:"right_top"},[n("div",{staticClass:"title"},[n("h3",{staticClass:"headline"},[t._v("数据总览")])]),n("div",{staticClass:"data_list"},[n("Trendency",{attrs:{title:"备案单位总数",total:t.dataOverview.corpNum,tendency:t.dataOverview.thisCorpNum}}),n("Trendency",{attrs:{title:"备案小区总数",total:t.dataOverview.regionNum,tendency:t.dataOverview.thisRegionNum}}),n("Trendency",{attrs:{title:"备案自然幢总数",total:t.dataOverview.bldNum,tendency:t.dataOverview.thisBldNum}}),n("Trendency",{attrs:{title:"备案总户数",total:t.dataOverview.houseNum,tendency:t.dataOverview.thisHouseNum}}),n("Trendency",{attrs:{title:"余额低于30%",total:t.dataOverview.dueHouseAmount,unit:"户",tendency:t.dataOverview.thisDueHouseNum}})],1)]),n("div",{staticClass:"right_content"},[n("div",{staticClass:"right_center"},[n("a-card",{staticClass:"collection",attrs:{"body-style":{padding:"14px"}}},[n("div",{staticClass:"title"},[n("h3",{staticClass:"headline"},[t._v("归集")])]),n("ul",[n("li",[n("p",[t._v("总归集")]),n("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(void 0==t.depositData.depositAmount?0:t.depositData.depositAmount,"html"))}}),n("div",[n("trend",{key:"sumYearOnYear"+t.trendKey,attrs:{term:"同比",target:t.depositData.depositAmount,value:t.depositData.lastYearDepositAmount}})],1)]),n("li",[n("p",[t._v("当月("+t._s(this.currentYear)+"年"+t._s(this.currentMonth)+"月)")]),n("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(void 0==t.depositData.thisMonthDepositAmount?0:t.depositData.thisMonthDepositAmount,"html"))}}),n("div",[n("trend",{key:"yearOnYear"+t.trendKey,attrs:{term:"同比",target:t.depositData.thisMonthDepositAmount,value:t.depositData.lastYearMonthDepositAmount}}),n("trend",{key:"trend"+t.trendKey,attrs:{term:"环比",target:t.depositData.thisMonthDepositAmount,value:t.depositData.lastMonthDepositAmount}})],1)]),n("li",[n("p",[t._v("当年("+t._s(this.currentYear)+"年)")]),n("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(void 0==t.depositData.thisYearDepositAmount?0:t.depositData.thisYearDepositAmount,"html"))}}),n("div",[n("trend",{key:"nowYearOnYear"+t.trendKey,attrs:{term:"同比",target:t.depositData.thisYearDepositAmount,value:t.depositData.lastYearDepositAmount}})],1)])]),n("div",{staticClass:"chart_title"},[n("div",{staticClass:"count_title headline"},[t._v("当月归集统计")])]),n("div",{staticClass:"chartContainer"},[n("div",{staticClass:"lineChart",attrs:{id:"lineChart"}})])]),n("a-card",{staticClass:"stock",attrs:{"body-style":{padding:"14px"}}},[n("div",{staticClass:"title"},[n("h3",{staticClass:"headline"},[t._v("存量")])]),n("ul",[n("li",[n("p",[t._v("当年("+t._s(this.currentYear)+"年"+t._s(this.currentMonth)+"月)")]),n("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(void 0==t.stockData.balanceAmount?0:t.stockData.balanceAmount,"html"))}}),n("div",[n("trend",{key:"stock"+t.trendKey,attrs:{term:"同比",target:t.stockData.balanceAmount,value:t.stockData.lastYearMonthBalance}}),n("trend",{key:"stockYearOnYear"+t.trendKey,attrs:{term:"环比",target:t.stockData.balanceAmount,value:t.stockData.lastMonthBalance}})],1)]),n("li",[n("p",[t._v("上年末("+t._s(this.currentYear-1)+"年12月)")]),n("h4",{domProps:{innerHTML:t._s(t.formatterAmountToMany(void 0==t.stockData.lastYearBalance?0:t.stockData.lastYearBalance,"html"))}}),n("div",[n("trend",{key:"lastYearOnYear"+t.trendKey,attrs:{term:"同比",target:t.stockData.lastYearBalance,value:t.stockData.beforeLastYearBalance}})],1)])]),n("div",{staticClass:"chart_title"},[n("div",{staticClass:"count_title headline"},[t._v("各银行占比")]),n("div",{staticClass:"time"},[n("a-radio-group",{staticStyle:{"margin-right":"10px"},attrs:{"default-value":"year","button-style":"solid"},on:{change:function(e){t.type=e.target.value,t.bankValue=""}}},t._l(t.timeData,(function(e,r){return n("a-radio-button",{key:r,attrs:{value:e.value}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])})),1),n("el-date-picker",{key:"elDate"+t.type,staticStyle:{width:"120px"},attrs:{type:t.type,placeholder:"year"===t.type?"选择年":"选择月",format:"year"==t.type?"yyyy":"yyyy-MM",valueFormat:"year"==t.type?"yyyy":"yyyy-MM"},on:{change:t.getBalanceDataForBank},model:{value:t.bankValue,callback:function(e){t.bankValue=e},expression:"bankValue"}})],1)]),n("div",{staticClass:"chartContainer"},[n("div",{staticClass:"lineChart",attrs:{id:"mainChart"}}),n("ul",{staticClass:"des"},t._l(t.bankList,(function(e,r){return n("li",{key:r},[n("div",{staticClass:"bank"},[n("span",{staticClass:"img"},[n("svg-icon",{attrs:{url:e.file_path}})],1),n("h3",{staticClass:"content"},[t._v(t._s(e.name))])]),n("h3",{staticClass:"moneny"},[n("h5",{staticStyle:{"font-weight":"500"},domProps:{innerHTML:t._s(t.formatterAmountToMany(e.balance,"html"))}})]),n("div",{staticClass:"counts"},[t._v(t._s((e.balance/t.sumAmount*100).toFixed(2)+"%"))])])})),0)])])],1),n("a-card",{staticClass:"right_bottom",attrs:{"body-style":{padding:"14px"}}},[n("div",{staticClass:"bottom_header"},[n("h3",{staticClass:"headline"},[t._v("使用")])]),n("ul",[n("li",[n("a-col",{attrs:{span:11}},[n("a-row",{staticStyle:{"text-align":"right"}},[n("p",[t._v("当月审批项目")])]),n("a-row",{staticStyle:{"text-align":"right"}},[n("span",{staticClass:"number"},[t._v(t._s(t.projectAmountData.thisMonthProjectNum?t.projectAmountData.thisMonthProjectNum:0))]),n("span",{staticStyle:{"line-height":"14px","margin-right":"10px"}},[t._v("笔")])])],1),n("a-col",{attrs:{span:1}},[n("a-row",[n("p",[t._v("/")])]),n("a-row",[n("div",{staticClass:"cross_line"})])],1),n("a-col",{staticStyle:{"text-align":"left"},attrs:{span:11}},[n("a-row",[n("p",[t._v("当月拨付")])]),n("a-row",[n("span",{staticClass:"number",domProps:{innerHTML:t._s(t.formatterAmountToMany(t.projectAmountData.thisMonthProjectAmount,"html"))}})])],1)],1),n("li",[n("a-col",{staticStyle:{"text-align":"right"},attrs:{span:11}},[n("a-row",[n("p",[t._v("当年审批项目")])]),n("a-row",[n("span",{staticClass:"number"},[t._v(t._s(t.projectAmountData.thisYearProjectNum?t.projectAmountData.thisYearProjectNum:0))]),n("span",{staticStyle:{"line-height":"14px","margin-right":"10px"}},[t._v("笔")])])],1),n("a-col",{attrs:{span:1}},[n("a-row",[n("p",[t._v("/")])]),n("a-row",[n("div",{staticClass:"cross_line"})])],1),n("a-col",{staticStyle:{"text-align":"left"},attrs:{span:11}},[n("a-row",[n("p",[t._v("当年拨付")])]),n("a-row",[n("span",{staticClass:"number",domProps:{innerHTML:t._s(t.formatterAmountToMany(t.projectAmountData.thisYearProjectAmount?t.projectAmountData.thisYearProjectAmount:0,"html"))}})])],1)],1),n("li",[n("a-col",{staticStyle:{"text-align":"right"},attrs:{span:11}},[n("a-row",[n("p",[t._v("累计审批项目")])]),n("a-row",[n("span",{staticClass:"number"},[t._v(t._s(t.projectAmountData.projectNum?t.projectAmountData.projectNum:0))]),n("span",{staticStyle:{"line-height":"14px","margin-right":"10px"}},[t._v("笔")])])],1),n("a-col",{attrs:{span:1}},[n("a-row",[n("p",[t._v("/")])]),n("a-row",[n("div",{staticClass:"cross_line"})])],1),n("a-col",{staticStyle:{"text-align":"left"},attrs:{span:11}},[n("a-row",[n("p",[t._v("累计拨付")])]),n("a-row",[n("span",{staticClass:"number",domProps:{innerHTML:t._s(t.formatterAmountToMany(t.projectAmountData.projectAmount,"html"))}})])],1)],1)]),n("div",{staticClass:"borders"},[n("div",{staticClass:"line"})]),n("div",{staticClass:"bottom_box"},[n("article",{staticClass:"left_article"},[n("div",{staticClass:"chart_title"},[n("div",{staticClass:"count_title headline"},[t._v("行政区统计")]),n("div",{staticClass:"time"},[n("a-radio-group",{staticStyle:{"margin-right":"10px"},attrs:{"default-value":"year","button-style":"solid"},on:{change:function(e){t.areaType=e.target.value,t.areaTypeTime=""}}},t._l(t.timeData,(function(e,r){return n("a-radio-button",{key:r,attrs:{value:e.value}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])})),1),n("el-date-picker",{key:"alDate"+t.areaType,staticStyle:{width:"120px"},attrs:{type:t.areaType,placeholder:"year"===t.areaType?"选择年":"选择月",format:"year"===t.areaType?"yyyy":"yyyy-MM",valueFormat:"year"===t.areaType?"yyyy":"yyyy-MM"},on:{change:t.getProjectNumForArea},model:{value:t.areaTypeTime,callback:function(e){t.areaTypeTime=e},expression:"areaTypeTime"}})],1)]),n("div",{staticClass:"chartContainer"},[n("div",{staticClass:"lineChart",attrs:{id:"districtStatistics"}})])]),n("article",{staticClass:"right_article"},[n("div",{staticClass:"chart_title"},[n("div",{staticClass:"count_title headline"},[t._v("维修类型统计")]),n("div",{staticClass:"time"},[n("a-radio-group",{staticStyle:{"margin-right":"10px"},attrs:{"default-value":"year","button-style":"solid"},on:{change:function(e){t.projectType=e.target.value,t.projectValue=""}}},t._l(t.timeData,(function(e,r){return n("a-radio-button",{key:r,attrs:{value:e.value}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])})),1),n("el-date-picker",{key:"blDate"+t.projectType,staticStyle:{width:"120px"},attrs:{type:t.projectType,placeholder:"year"===t.projectType?"选择年":"选择月",format:"year"===t.projectType?"yyyy":"yyyy-MM",valueFormat:"year"===t.projectType?"yyyy":"yyyy-MM"},on:{change:t.getProjectNumForType},model:{value:t.projectValue,callback:function(e){t.projectValue=e},expression:"projectValue"}})],1)]),n("div",{staticClass:"lineChart",attrs:{id:"maintenanceStatistics"}})])])])],1)],1),n("div",{staticClass:"icon"},[n("shortcut-menu")],1)]),n("show-announcement",{ref:"ShowAnnouncement"}),n("dynamic-notice",{ref:"showDynamNotice",attrs:{path:t.openPath,formData:t.formData}}),n("task-deal-modal",{ref:"taskDealModal",attrs:{"flow-id":t.businessKey,"task-primary-key":t.taskId,"page-name":t.pageUrl,"edit-url":t.editUrl,flow:t.flow,"show-type":"page",innerpage:t.innerpage,"internal-url":t.internalUrl,customform:t.customform},on:{ok:function(e){return t.changeTodoTab(1)},revoke:t.revokeFunction}})],1):n("top-left-menu-analysis")},a=[],o=r("527e"),i=r("164e"),s=r("3ed7"),c=r("0fea"),l=r("11d9"),u=r("1dff"),f=r("f337"),d=r("e351"),h=r("f624"),p=r("2f62"),m=r("0c8a"),y=r("2bd9"),v=r("4eaf"),g=r("211e"),b=r("f142"),w=r("3d56"),x=r("cafb"),_=r("ca00"),C=r("d8a5"),k=r("adcf");function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function L(t){return T(t)||O(t)||D(t)||j()}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function T(t){if(Array.isArray(t))return E(t)}function P(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=D(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function D(t,e){if(t){if("string"==typeof t)return E(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(t,e):void 0}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function I(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */I=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),s=new D(n||[]);return a(i,"_invoke",{value:j(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,i,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(E([])));_&&_!==r&&n.call(_,i)&&(w=_);var C=b.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(a,o,i,s){var c=f(t[a],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==S(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,i,s)}),(function(t){r("throw",t,i,s)})):e.resolve(u).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function j(e,r,n){var a=d;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?m:h,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=m,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function E(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(S(e)+" is not iterable")}return g.prototype=b,a(C,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},k(L.prototype),l(L.prototype,s,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new L(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(C),l(C,c,"Generator"),l(C,i,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=E,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:E(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function M(t,e,r,n,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,a)}function A(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){M(o,n,a,i,s,"next",t)}function s(t){M(o,n,a,i,s,"throw",t)}i(void 0)}))}}function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){B(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t,e,r){return(e=$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $(t){var e=R(t,"string");return"symbol"==S(e)?e:e+""}function R(t,e){if("object"!=S(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var z={name:"Analysis",components:{TopLeftMenuAnalysis:k["default"],ShortcutMenu:w["default"],TaskDealModal:g["default"],DynamicNotice:v["default"],SvgIcon:f["default"],Trend:o["default"],Trendency:l["default"],CheckModal:u["default"],ShowAnnouncement:y["default"],SysZoneSelect:x["default"]},mixins:[d["HomeRevokeMethodUtils"],b["a"]],data:function(){return{formatterAmount:s["g"],formatterCNAmount:s["j"],formatterAmountToMany:s["h"],todoTitleList:[{title:"待办",value:1},{title:"已办",value:2},{title:"复核",value:3}],isShowVerify:!1,verifyTotal:0,numberUnitChange:h["b"],pageUrl:"",showApprove:!0,innerpage:"",editUrl:"",taskId:"",businessKey:"",internalUrl:"",customform:"",flow:1,currentYear:"",currentMonth:"",todoList:[],todoTotal:0,todoLoading:!1,doneList:[],bankValue:(new Date).getFullYear()+"",value:"",projectValue:(new Date).getFullYear()+"",selectedTab:1,dataOverview:{},depositData:{},deposiBankList:[],rateChart:null,projectAmountData:{},stockData:{},bankList:[],sumAmount:0,bankChart:null,areaType:"year",areaTypeTime:(new Date).getFullYear()+"",areaTypeData:[],areaChart:null,areaTypeX:[],areaAmount:[],areaUseData:[],projectType:"year",projectNumForTypeData:[],projectChart:null,time:"",type:"year",timeData:[{value:"month",name:"月"},{value:"year",name:"年"}],checkModalVisible:!1,trendKey:0,filingProcessKey:"b_busi_req.project_filing",useProcessKey:{process_key:"",process_key_insure:""},noticeList:[],openPath:"",formData:{},url:{doneList:"/act/taskinst/done",list:"/act/task/todo",getScreening:"/statistics/analysis/queryDataScreening",depositData:"/statistics/analysis/queryDepositData",depositDataForBank:"/statistics/analysis/queryDepositDataForBank",balanceDataForBank:"/statistics/analysis/queryBalanceDataForBank",ProjectAmount:"/statistics/analysis/queryProjectAmountData",balanceData:"/statistics/analysis/queryBalanceData",projectNumForArea:"/statistics/analysis/queryProjectNumForArea",projectNumForType:"/statistics/analysis/queryProjectNumForType",queryById:"/act/model/queryById",listCementByUser:"/sys/annountCement/listByUser",editCementSend:"/sys/sysAnnouncementSend/editByAnntIdAndUserId",queryRegionVerifyList:"/deposit/firstDeposit/queryRegionVerifyList"},zoneInfo:{},queryParam:{}}},computed:N({},Object(p["d"])({layout:function(t){return t.app.layout}})),mounted:function(){var t=this;this.bankValue=(new Date).getFullYear()+"",this.projectValue=(new Date).getFullYear()+"",this.areaTypeTime=(new Date).getFullYear()+"",this.getNoticeList(),this.changeTodoTab(1),this.getDate(),this.$bus.$on("AnalysisGetList",(function(){t.changeTodoTab(1),t.getNoticeList()})),this.$bus.$on("refreshDataFiling",(function(){t.getDataOverview(),t.getProjectAmountData()})),Object(C["e"])("home_is_show_verify").then((function(e){t.isShowVerify=e&&"1"===e,t.isShowVerify&&t.getVerifyList()}))},deactivated:function(){this.$bus.$off("AnalysisGetList",(function(){})),this.$bus.$off("refreshAnalyData",(function(){}))},methods:{getVerifyList:function(){var t=this;Object(c["e"])(this.url.queryRegionVerifyList).then((function(e){e&&e.result&&(t.verifyTotal=e.result.total)}))},selectZone:function(t){var e=this;this.queryParam.sysOrgCode=t.sysOrgValue,this.queryParam.zoneCode=t.zoneValue,setTimeout((function(){e.getDataOverview(),e.getDepositData(),e.getLineChart(),e.getStockData(),e.getBalanceDataForBank(),e.getProjectAmountData(),e.getProjectNumForArea(),e.getProjectNumForType()}),600)},getUseProcessKey:function(t){var e=this;return new Promise(function(){var r=A(I().mark((function r(n,a){var o,i,s,l;return I().wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=I().mark((function r(){var a,o;return I().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=l[s],o=a,e.useProcessKey[o]&&""!==e.useProcessKey[o]){r.next=5;break}return r.next=5,Object(c["e"])("/sys/dDict/getParamByCode/".concat(o,"/").concat(t.tenantId)).then((function(t){e.useProcessKey[o]=t.result}));case 5:if(-1===t.businessKey.indexOf(e.useProcessKey[o]+"")){r.next=8;break}return n(!0),r.abrupt("return",{v:void 0});case 8:case"end":return r.stop()}}),r)})),s=0,l=Object.keys(e.useProcessKey);case 2:if(!(s<l.length)){r.next=10;break}return r.delegateYield(o(),"t0",4);case 4:if(i=r.t0,!i){r.next=7;break}return r.abrupt("return",i.v);case 7:s++,r.next=2;break;case 10:n(!1);case 11:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}())},closeNotice:function(t,e){var r=this;Object(c["l"])(this.url.editCementSend,{anntId:t.id}).then((function(t){t.success?(r.getNoticeList(),r.$store.dispatch("setTodoNum")):r.$message.error("通知关闭失败！")}))},showAnnouncement:function(t){var e=this;Object(c["l"])(this.url.editCementSend,{anntId:t.id}).then((function(t){t.success&&e.getNoticeList()})),"component"===t.openType?(this.openPath=t.openPage,this.formData={id:t.busId},this.$refs.showDynamNotice.detail(t.openPage)):this.$refs.ShowAnnouncement.detail(t)},getNoticeList:function(){var t=this;this.$bus.$emit("updateHeaderNotice"),Object(c["e"])(this.url.listCementByUser).then((function(e){e.success&&(t.noticeList=e.result.anntMsgList)}))},changeTodoTab:function(t){var e=this;this.todoList=[],this.todoLoading=!0,this.selectedTab=t,Object(c["e"])(this.url[1===t?"list":2===t?"doneList":"queryRegionVerifyList"],{pageSize:30}).then((function(r){e.todoList=r.result.records,1===t&&(e.todoTotal=r.result.total),e.todoLoading=!1}))},getDoneList:function(){var t=this;this.selectedTab=2,Object(c["e"])(this.url.doneList).then((function(e){t.todoList=e.result.records}))},getAll:function(){2==this.selectedTab?this.$router.push({path:"/activiti/DoneList"}):this.$router.push({path:"/activiti/TodoList"})},check:function(){var t=A(I().mark((function t(e,r){var n,a,o=this;return I().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(3!==r){t.next=6;break}e.name=e.regionName,this.$router.push({path:"/deposit/FirstDeposit",query:e}),this.$nextTick((function(){o.$refs.firstDeposit.getRegionInfo(e)})),t.next=11;break;case 6:return n=!1,t.next=9,this.getUseProcessKey(e).then((function(t){n=t}));case 9:this.businessKey=e.businessKey,n?Object(m["goBusiPage"])(this.businessKey,e.tableId,"",e.tenantId):this.filingProcessKey&&-1!==this.businessKey.indexOf(this.filingProcessKey)?Object(m["goBusiPage"])(e.variables&&e.variables.mainBusinessKey?e.variables.mainBusinessKey:e.businessKey,e.variables.projId,"e",e.tenantId):(this.taskId=e.id,this.internalUrl=e.internalUrl,this.flow=e.flow,this.pageUrl=e.url,this.innerpage=e.editUrl,e.revokeMethod&&(this.$refs.taskDealModal.revokeMethod=e.revokeMethod),a=2===r,this.$refs.taskDealModal.width="90%",this.$refs.taskDealModal.initData(e.busiId,(e.startUserId?e.startUserId+"·":"")+e.title,e,a?"done":"do"),this.$refs.taskDealModal.onlyView=a);case 11:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),modalFormOk:function(){this.changeTodoTab(1)},revokeCallback:function(){this.changeTodoTab(1)},revokeFunction:function(t){var e=this,r=this.$options.methods;r[t.functionName](this.businessKey,e,t.message,t.taskId)},numberChange:function(t){return t?t<1e4&&t>-1e4?t+"元":Object(h["b"])(t,1e4)+"万元":0},getDate:function(){var t=new Date;this.currentYear=t.getFullYear(),this.currentMonth=t.getMonth()+1},getList:function(){var t=this;this.selectedTab=1,Object(c["e"])(this.url.list,{pageSize:30}).then((function(e){t.todoList=e.result.records,t.todoTotal=e.result.total}))},getDataOverview:function(){var t=this;Object(c["e"])(this.url.getScreening,this.queryParam).then((function(e){t.dataOverview=e.result}))},getDepositData:function(){var t=this;Object(c["e"])(this.url.depositData,this.queryParam).then((function(e){e.success&&e.result&&(t.depositData=e.result,t.trendKey++)}))},getStockData:function(){var t=this;Object(c["e"])(this.url.balanceData,this.queryParam).then((function(e){e.success&&e.result&&(t.stockData=e.result,t.trendKey++)}))},getBalanceDataForBank:function(){var t=A(I().mark((function t(){var e,r=this;return I().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=_["c"](this.queryParam),e.type=this.type,e.time=this.bankValue,t.next=5,Object(c["e"])(this.url.balanceDataForBank,e).then((function(t){r.bankList=t.result.bankBalanceList,r.sumAmount=0,r.bankList.forEach((function(t){r.sumAmount+=t.balance}))}));case 5:this.getPieChart();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getProjectAmountData:function(){var t=this;Object(c["e"])(this.url.ProjectAmount,this.queryParam).then((function(e){e.success&&e.result&&(t.projectAmountData=e.result)}))},getProjectNumForArea:function(){var t=A(I().mark((function t(){var e,r=this;return I().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=_["c"](this.queryParam),e.type=this.areaType,e.time=this.areaTypeTime,t.next=5,Object(c["e"])(this.url.projectNumForArea,e).then((function(t){if(r.areaTypeX=[],r.areaUseData=[],r.areaAmount=[],t.success&&t.result){r.areaTypeData=t.result;var e,n=P(r.areaTypeData);try{for(n.s();!(e=n.n()).done;){var a=e.value;r.areaTypeX.push(a.name),r.areaUseData.push(a.projectnum),r.areaAmount.push(Object(s["i"])(a.useamount))}}catch(o){n.e(o)}finally{n.f()}}r.getDistrictStatistics()}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getProjectNumForType:function(){var t=A(I().mark((function t(){var e,r=this;return I().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=_["c"](this.queryParam),e.type=this.projectType,e.time=this.projectValue,t.next=5,Object(c["e"])(this.url.projectNumForType,e).then((function(t){r.projectNumForTypeData=t.result}));case 5:this.getMaintenanceStatistics();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleList:function(t,e){var r,n=this,a=P(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.children&&o.children.length>0?n.handleList(t,o.children):t.push(o)}}catch(i){a.e(i)}finally{a.f()}},getLineChart:function(){var t=A(I().mark((function t(){var e,r,n=this;return I().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.rateChart&&this.rateChart.dispose(),e=document.getElementById("lineChart"),this.rateChart=i["init"](e),t.next=5,Object(c["e"])(this.url.depositDataForBank,this.queryParam).then((function(t){t.success&&t.result&&(n.deposiBankList=t.result)}));case 5:r={title:{x:"left",subtext:"单位：万元",subtextStyle:{color:"#333",fontSize:"14",fontFamily:"myTextFont"}},dataset:{source:this.deposiBankList},xAxis:[{type:"category",axisTick:{show:!1},axisLabel:{margin:10,fontFamily:"myTextFont",color:"#2c3541",interval:0,formatter:this.xLabelFormatter,fontSize:"careMode"===this.layout?14:12}}],yAxis:{axisLabel:{formatter:function(t){return Object(s["i"])(t)},fontSize:"careMode"===this.layout?14:12}},color:["rgba(91, 143, 249, 0.85)"],grid:{left:"10%",right:"1%"},textStyle:{fontFamily:"myConttFont",color:"#2c3541"},series:[{type:"bar",barWidth:"30",label:{show:!0,position:"top",fontFamily:"myConttFont",fontSize:"careMode"===this.layout?14:12,formatter:function(t){var e=t.data;return(e.depositamount/1e4).toFixed(2)}},encode:{x:2,y:1},itemStyle:{borderRadius:[4,4,0,0]}}]},r&&this.rateChart.setOption(r),window.addEventListener("resize",(function(){n.rateChart.resize()}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),xLabelFormatter:function(t){var e="",r=t.length,n=4,a=Math.ceil(r/n);if(r>n)for(var o=0;o<a;o++){var i="",s=o*n,c=s+n;i=o==a-1?t.substring(s,r):t.substring(s,c)+"\n",e+=i}else e=t;return e},getPieChart:function(){var t=this;this.bankChart&&this.bankChart.dispose();var e=document.getElementById("mainChart");if(e){this.bankChart=i["init"](e);var r,n={title:[{text:Object(s["h"])(this.sumAmount),subtext:"各银行总额\n(元)",textStyle:{fontSize:this.transformFontSize(18),color:"black",fontFamily:"myConttFont"},subtextStyle:{fontSize:this.transformFontSize(14),color:"#404040",fontWeight:500,fontFamily:"myTitleFont"},textAlign:"center",x:"38%",y:"40%"}],tooltip:{trigger:"item"},color:["#0099F3","#0073EF","rgba(98, 209, 154)","rgba(243, 243, 127)","rgba(255, 206, 83)","#B63FF0"],series:[{name:"银行总额",type:"pie",radius:["30%","75%"],center:["40%","50%"],roseType:"radius",label:{show:!1},data:[]}]},a=P(this.bankList);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.series[0].data.push({value:Math.abs(o.balance),name:o.name})}}catch(c){a.e(c)}finally{a.f()}n&&this.bankChart.setOption(n),window.addEventListener("resize",(function(){t.bankChart.resize()}))}},getDistrictStatistics:function(){var t=this,e=Math.max.apply(Math,L(this.areaUseData))||60,r=Math.max.apply(Math,L(this.areaAmount))||300;this.areaChart&&this.areaChart.dispose();var n=document.getElementById("districtStatistics");this.areaChart=i["init"](n);var a={xAxis:{type:"category",data:this.areaTypeX,axisTick:{show:!1},axisLabel:{margin:10,fontFamily:"myTextFont",fontSize:"careMode"===this.layout?14:12}},yAxis:[{name:"拨付金额 (万元)",type:"value",min:0,max:Math.ceil(r),nameTextStyle:{fontSize:"careMode"===this.layout?14:12},axisLabel:{formatter:"{value}",fontSize:"careMode"===this.layout?14:12},splitLine:{lineStyle:{color:["#73deb3"]}}},{name:"项目笔数 (笔)",nameTextStyle:{fontSize:"careMode"===this.layout?14:12},type:"value",min:0,max:e,axisLabel:{formatter:"{value}",fontSize:"careMode"===this.layout?14:12},splitLine:{lineStyle:{color:["#789dee"]}}}],legend:{type:"plain",show:!0,left:"0",textStyle:{fontSize:"careMode"===this.layout?14:12}},tooltip:{textStyle:{fontSize:"careMode"===this.layout?14:12}},color:["rgba(97, 140, 236, 0.85)","rgba(90, 216, 166, 0.85)"],textStyle:{fontFamily:"myConttFont",color:"#2c3541"},series:[{name:"项目笔数 (笔)",data:this.areaUseData,type:"line",smooth:!0,yAxisIndex:1,label:{show:!0,position:"top",fontFamily:"myConttFont",fontSize:"careMode"===this.layout?14:12},itemStyle:{borderRadius:[4,4,0,0]}},{name:"拨付金额 (万元)",data:this.areaAmount,type:"bar",label:{show:!0,position:"top",fontFamily:"myConttFont",fontSize:"careMode"===this.layout?14:12},itemStyle:{borderRadius:[4,4,0,0]}}],grid:{left:"10%",right:"10%"}};a&&this.areaChart.setOption(a),window.addEventListener("resize",(function(){t.areaChart.resize()}))},getMaintenanceStatistics:function(){var t=this;this.projectChart&&this.projectChart.dispose();var e=document.getElementById("maintenanceStatistics");this.projectChart=i["init"](e);var r={xAxis:{type:"category",axisTick:{show:!1},axisLabel:{margin:10,fontFamily:"myTextFont",fontSize:"careMode"===this.layout?14:12,interval:0,formatter:this.xLabelFormatter}},dataset:{source:this.projectNumForTypeData},yAxis:{axisLabel:{fontSize:"careMode"===this.layout?14:12}},grid:{left:"6%",right:"1%"},color:["rgba(115, 91, 249, 0.85)"],textStyle:{fontFamily:"myConttFont",color:"#2c3541"},series:[{type:"bar",barWidth:"30",label:{show:!0,position:"top",fontFamily:"myConttFont",fontSize:"careMode"===this.layout?14:12},encode:{x:1,y:0},itemStyle:{borderRadius:[4,4,0,0]}}],dataZoom:[{type:"inside",xAxisIndex:[0],start:1,end:"careMode"===this.layout?60:80}]};r&&this.projectChart.setOption(r),window.addEventListener("resize",(function(){t.projectChart.resize()}))},transformFontSize:function(t){var e=window.screen.width,r=e/1920;return parseInt(t*r)},getPopupContainer:function(){return this.$refs.todoListCard.$el.querySelector(".ant-card-body")}}},Y=z,q=(r("dd91"),r("2877")),H=Object(q["a"])(Y,n,a,!1,null,"0016b0b4",null);e["default"]=H.exports}}]);