(window["webpackJsonp_joinsoft-v9"]=window["webpackJsonp_joinsoft-v9"]||[]).push([["app~1beaecf9"],{"2e7c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,footer:!1,maskClosable:!1,cancelText:"关闭"},on:{cancel:e.handleCancel}},[a("div",[a("a-table",{ref:"table",attrs:{size:"small",bordered:"",pagination:e.ipagination,columns:e.columns,dataSource:e.dataSource,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"contentTitle",fn:function(t,i){return a("a",{on:{click:function(t){return e.handleClick(i)}}},[e._v(e._s(t))])}}])})],1),a("content-detail-modal",{ref:"detailForm"})],1)},l=[],r=a("5dc0"),s=r["a"],o=a("2877"),n=Object(o["a"])(s,i,l,!1,null,null,null);t["default"]=n.exports},"532b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[e.parent?a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"上一级"}},[a("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["parentId",{}],expression:"['parentId', {}]"}],staticStyle:{width:"100%"},attrs:{dropdownStyle:{maxHeight:"200px",overflow:"auto"},treeData:e.treeData,disabled:e.disable,showArrow:e.showArrow,placeholder:"无"}})],1):e._e(),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"栏目名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["typeName",e.validatorRules.typeName],expression:"['typeName', validatorRules.typeName]"}],attrs:{placeholder:"请输入栏目名称"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"栏目编码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["typeNum",e.validatorRules.typeNum],expression:"['typeNum',validatorRules.typeNum]"}],attrs:{placeholder:"请输入栏目编码"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否显示"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["isShow",{}],expression:"['isShow', {}]"}],attrs:{placeholder:"请选择是否显示",defaultValue:"Y"}},[a("a-select-option",{attrs:{value:"Y"}},[e._v("显示")]),a("a-select-option",{attrs:{value:"N"}},[e._v("不显示")])],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderNum",{}],expression:"[ 'orderNum', {}]"}],staticStyle:{width:"100%"},attrs:{max:999999999,placeholder:"请输入排序序号"}})],1)],1)],1)],1)},l=[],r=a("0fea"),s=a("88bc"),o=a.n(s),n=(a("c1df"),a("4ec3")),c={name:"AddModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{typeName:{rules:[{required:!0,message:"请输入栏目名称!"}]},typeNum:{rules:[{required:!0,message:"请输入栏目编码!"},{validator:this.validateCode}]}},url:{add:"/content/contentType/add",edit:"/content/contentType/edit"},disable:!0,showArrow:!1,parent:!0}},props:{info:String,treeData:Array},created:function(){},methods:{validateCode:function(e,t,a){var i={tableName:"content_type",fieldName:"type_num",fieldVal:t};Object(n["s"])(i).then((function(e){e.success?a():a("栏目编码已存在!")}))},add:function(e){this.edit(e)},edit:function(e){var t=this;this.parent=!0,""!=e&&null!=e&&void 0!=e||(this.parent=!1),this.form.resetFields(),this.model=Object.assign({},{}),this.model.enumerationType=this.info,this.model.parentId=e,this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(o()(t.model,"parentId","id","typeName","typeNum","isShow","orderNum"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,i){if(!a){t.confirmLoading=!0;var l="",s="";e.model.id?(l+=e.url.edit,s="put"):(l+=e.url.add,s="post");var o=Object.assign(e.model,i);Object(r["i"])(l,o,s).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,l,!1,null,"027c4132",null);t["default"]=p.exports},"5b4f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:300,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-card",{attrs:{bordered:!1}},[a("div",{staticStyle:{background:"#fff","padding-left":"16px",height:"100%","margin-top":"5px"}},[a("a-input-search",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{placeholder:"请输入名称"},on:{search:e.onSearch}}),a("a-col",{attrs:{md:5,sm:24}},[[a("a-tree",{attrs:{checkable:"",selectedKeys:e.selectedKeys,checkedKeys:e.checkedKeys,treeData:e.departTree,checkStrictly:e.checkStrictly,expandedKeys:e.iExpandedKeys,autoExpandParent:e.autoExpandParent},on:{check:e.onCheck,rightClick:e.rightHandle,expand:e.onExpand}})]],2)],1)]),a("a-form",{attrs:{form:e.form}})],1)],1)},l=[],r=a("0fea"),s=(a("88bc"),a("c1df"),{name:"ContentBaseInfoModal",data:function(){return{title:"调整栏目",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/content/contentBaseInfo/add",edit:"/content/contentBaseInfo/edit",queryTreeList:"/content/contentType/queryTreeList",setType:"/content/contentBaseType/setType"},selectedKeys:[],checkedKeys:[],departTree:[],checkStrictly:!0,iExpandedKeys:[],autoExpandParent:!0,currFlowId:"",currFlowName:"",allTreeKeys:[]}},created:function(){this.currFlowId=this.$route.params.id,this.currFlowName=this.$route.params.name},methods:{add:function(){this.edit({})},edit:function(e){this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.loadTree()},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,i){if(!a){t.confirmLoading=!0;var l="",s="";l+=e.url.setType,s="put",i.type=e.checkedKeys,i.id=e.model.id;var o=Object.assign(e.model,i);Object(r["i"])(l,o,s).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},onCheck:function(e,t){this.checkedKeys=[],this.hiding=!1,this.checkStrictly?this.checkedKeys=e.checked:this.checkedKeys=e},loadData:function(){this.refresh()},loadTree:function(){var e=this,t=this;t.treeData=[],t.departTree=[],Object(r["e"])(t.url.queryTreeList).then((function(a){if(a.success){for(var i=0;i<a.result.length;i++){var l=a.result[i];t.treeData.push(l),t.departTree.push(l),t.setThisExpandedKeys(l),t.getAllKeys(l)}e.loading=!1}}))},setThisExpandedKeys:function(e){if(e.children&&e.children.length>0){this.iExpandedKeys.push(e.key);for(var t=0;t<e.children.length;t++)this.setThisExpandedKeys(e.children[t])}},getAllKeys:function(e){if(this.allTreeKeys.push(e.key),e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)this.getAllKeys(e.children[t])},refresh:function(){this.loading=!0,this.loadTree()},rightHandle:function(e){this.dropTrigger="contextmenu",this.rightClickSelectedKey=e.node.eventKey},onExpand:function(e){this.iExpandedKeys=e,this.autoExpandParent=!1},backFlowList:function(){this.$router.back(-1)},dropStatus:function(e){0==e&&(this.dropTrigger="")},closeDrop:function(){this.dropTrigger=""},onSearch:function(e){var t=this;e?Object(r["e"])(t.url.queryTreeList,{name:e}).then((function(e){if(e.success){t.departTree=[];for(var a=0;a<e.result.length;a++){var i=e.result[a];t.departTree.push(i)}}else t.$message.warning(e.message)})):t.loadTree()},nodeModalOk:function(){this.loadTree()},nodeModalClose:function(){},hide:function(){this.visible=!1}}}),o=s,n=a("2877"),c=Object(n["a"])(o,i,l,!1,null,"a2441208",null);t["default"]=c.exports},"5dc0":function(module,__webpack_exports__,__webpack_require__){"use strict";var _api_manage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("0fea"),_mixins_JeecgListMixin__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b65a"),_views_content_modules_ContentDetailModal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("8a64"),lodash_pick__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("88bc"),lodash_pick__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_pick__WEBPACK_IMPORTED_MODULE_3__),moment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("c1df"),moment__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);__webpack_exports__["a"]={name:"ContentListModal",mixins:[_mixins_JeecgListMixin__WEBPACK_IMPORTED_MODULE_1__["a"]],components:{ContentDetailModal:_views_content_modules_ContentDetailModal__WEBPACK_IMPORTED_MODULE_2__["default"]},data:function(){return{columns:[{title:"标题",align:"left",dataIndex:"contentTitle",scopedSlots:{customRender:"contentTitle"}},{title:"发布时间",align:"center",width:200,dataIndex:"createTime"}],title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,url:{list:"/content/contentBaseType/listByType?type=tzgg"},ContentData:[]}},created:function(){},computed:{rowSelection:function(){return{getCheckboxProps:function(e){return{props:{title:e.title}}}}}},methods:{edit:function(e){this.visible=!0,this.title=e.title,-1===this.url.list.indexOf("type=")?this.url.list=this.url.list+"?type="+e.type:this.url.list=this.replaceParamVal("type",e.type),this.loadData()},GetQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=this.url.list.match(t);return null!=a?unescape(a[2]):null},replaceParamVal:function replaceParamVal(paramName,replaceWith){var oUrl=this.url.list,re=eval("/("+paramName+"=)([^&]*)/gi"),nUrl=oUrl.replace(re,paramName+"="+replaceWith);return nUrl},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()},handleClick:function(e){this.$refs.detailForm.edit(e)}}}},6469:function(e,t,a){},"6d96":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:300,visible:e.visible,confirmLoading:e.confirmLoading,maskClosable:!1,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-card",{attrs:{bordered:!1}},[a("div",{staticStyle:{background:"#fff","padding-left":"16px",height:"100%","margin-top":"5px"}},[a("a-input-search",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入名称"},on:{search:e.onSearch}}),a("a-col",{attrs:{md:5,sm:24}},[[a("a-tree",{attrs:{checkable:"",multiple:"false",selectedKeys:e.selectedKeys,checkedKeys:e.checkedKeys,treeData:e.departTree,checkStrictly:e.checkStrictly,expandedKeys:e.iExpandedKeys,autoExpandParent:e.autoExpandParent},on:{check:e.onCheck,rightClick:e.rightHandle,expand:e.onExpand}})]],2)],1)]),a("a-form",{attrs:{form:e.form}})],1)],1)},l=[],r=a("0fea"),s=(a("88bc"),a("c1df"),{name:"ContentBaseInfoModal",data:function(){return{title:"复制到",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/content/contentBaseInfo/add",edit:"/content/contentBaseInfo/edit",queryTreeList:"/content/contentType/queryTreeList",copyType:"/content/contentBaseType/copyType"},selectedKeys:[],checkedKeys:[],departTree:[],checkStrictly:!0,iExpandedKeys:[],autoExpandParent:!0,currFlowId:"",currFlowName:"",allTreeKeys:[]}},created:function(){this.currFlowId=this.$route.params.id,this.currFlowName=this.$route.params.name},methods:{add:function(){this.edit({})},edit:function(e){this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.loadTree()},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,i){if(!a){t.confirmLoading=!0;var l="",s="";l+=e.url.copyType,s="put",i.type=e.checkedKeys,i.id=e.model.id;var o=Object.assign(e.model,i);Object(r["i"])(l,o,s).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()},onCheck:function(e,t){this.hiding=!1,this.checkStrictly?this.checkedKeys=e.checked:this.checkedKeys=e},loadData:function(){this.refresh()},loadTree:function(){var e=this,t=this;t.treeData=[],t.departTree=[],Object(r["e"])(t.url.queryTreeList).then((function(a){if(a.success){for(var i=0;i<a.result.length;i++){var l=a.result[i];t.treeData.push(l),t.departTree.push(l),t.setThisExpandedKeys(l),t.getAllKeys(l)}e.loading=!1}}))},setThisExpandedKeys:function(e){if(e.children&&e.children.length>0){this.iExpandedKeys.push(e.key);for(var t=0;t<e.children.length;t++)this.setThisExpandedKeys(e.children[t])}},getAllKeys:function(e){if(this.allTreeKeys.push(e.key),e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)this.getAllKeys(e.children[t])},refresh:function(){this.loading=!0,this.loadTree()},rightHandle:function(e){this.dropTrigger="contextmenu",this.rightClickSelectedKey=e.node.eventKey},onExpand:function(e){this.iExpandedKeys=e,this.autoExpandParent=!1},backFlowList:function(){this.$router.back(-1)},dropStatus:function(e){0==e&&(this.dropTrigger="")},closeDrop:function(){this.dropTrigger=""},onSearch:function(e){var t=this;e?Object(r["e"])(t.url.queryTreeList,{name:e}).then((function(e){if(e.success){t.departTree=[];for(var a=0;a<e.result.length;a++){var i=e.result[a];t.departTree.push(i)}}else t.$message.warning(e.message)})):t.loadTree()},nodeModalOk:function(){this.loadTree()},nodeModalClose:function(){},hide:function(){this.visible=!1}}}),o=s,n=a("2877"),c=Object(n["a"])(o,i,l,!1,null,"b2cb2462",null);t["default"]=c.exports},"810c":function(e,t,a){"use strict";a("6469")},"8a64":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:"90%",visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,footer:!1,cancelText:"关闭"},on:{cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("h2",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.Detailtitle))]),e._v("\n      创建人："),a("span",[e._v(e._s(e.DetailcreateBy))]),e._v("    \n      创建时间："),a("span",[e._v(e._s(e.DetailcreateTime))]),a("hr"),a("div",{staticStyle:{overflow:"auto"},domProps:{innerHTML:e._s(e.Detailmessage)}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fileList.length>0,expression:"fileList.length>0"}]},[a("universal-enclosure",{ref:"UniversalEnclosure",attrs:{title:e.uploadDescribe,isDetail:!0},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1)])],1)},l=[],r=a("0fea"),s=(a("88bc"),a("c1df"),a("d359")),o={name:"ContentDetailModal",components:{UniversalEnclosure:s["default"]},data:function(){return{Detailtitle:"",DetailcreateBy:"",DetailcreateTime:"",Detailmessage:"",title:"预览",visible:!1,confirmLoading:!1,fileList:[],uploadDescribe:"",url:{content:"/content/contentBaseInfo/queryById"}}},created:function(){},computed:{},methods:{edit:function(e){var t=this;this.visible=!0,Object(r["e"])(this.url.content,{id:e.contentId}).then((function(e){e.success&&(t.Detailtitle=e.result.contentTitle,t.DetailcreateBy=e.result.createBy,t.DetailcreateTime=e.result.createTime,t.Detailmessage=e.result.message,e.result.fileList.length>0&&(t.fileList=e.result.fileList,t.$refs.UniversalEnclosure.initData(e.result.fileList)))}))},close:function(){this.fileList=[],this.$refs.UniversalEnclosure.initData([]),this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()}}},n=o,c=a("2877"),d=Object(c["a"])(n,i,l,!1,null,null,null);t["default"]=d.exports},"8a91":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,maskClosable:!1,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"栏目名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["typeName",{}],expression:"['typeName', {}]"}],attrs:{placeholder:"请输入栏目名称"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"栏目编码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["typeNum",{}],expression:"['typeNum', {}]"}],attrs:{placeholder:"请输入栏目编码"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"父节点"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["parentId",{}],expression:"['parentId', {}]"}],attrs:{placeholder:"请输入父节点"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否显示 Y显示/N不显示"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["isShow",{}],expression:"['isShow', {}]"}],attrs:{placeholder:"请输入是否显示 Y显示/N不显示"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"排序"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["orderNum",{}],expression:"[ 'orderNum', {}]"}],attrs:{max:999999999}})],1)],1)],1)],1)},l=[],r=a("0fea"),s=a("88bc"),o=a.n(s),n=(a("c1df"),{name:"ContentTypeModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/content/contentType/add",edit:"/content/contentType/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(o()(t.model,"typeName","typeNum","parentId","isShow","orderNum","delFlag"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,i){if(!a){t.confirmLoading=!0;var l="",s="";e.model.id?(l+=e.url.edit,s="put"):(l+=e.url.add,s="post");var o=Object.assign(e.model,i);Object(r["i"])(l,o,s).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),c=n,d=a("2877"),u=Object(d["a"])(c,i,l,!1,null,"dca91530",null);t["default"]=u.exports},b33b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"contentTitle",fn:function(t,i){return a("span",{},[e._v("\n          "+e._s(e.contentTitle)+"\n        ")])}}])})],1)],1)],1)},l=[],r=(a("0fea"),a("88bc"),a("c1df")),s=a.n(r),o=(a("4ec3"),a("b65a")),n={name:"ContentPersonList",mixins:[o["a"]],data:function(){return{title:"查看",visible:!1,model:{},contentTitle:"",confirmLoading:!1,columns:[{title:"序号",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,a){return parseInt(a)+1}},{title:"姓名",align:"center",dataIndex:"createBy",width:100},{title:"是否查阅",align:"center",dataIndex:"contentId",width:100,customRender:function(e,t,a){return e?"是":"否"}},{title:"查阅日期",align:"center",dataIndex:"createTime",customRender:function(e,t,a){return e?s()(e).format("YYYY-MM-DD HH:mm"):""}}],url:{list:"/content/contentPerson/list"}}},props:{info:String,treeData:Array},created:function(){},methods:{edit:function(e){this.title=e.contentTitle.length>10?e.contentTitle.substring(0,10)+"...":e.contentTitle,this.visible=!0,this.queryParam.contentId=e.contentId,this.loadData()},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()}}},c=n,d=a("2877"),u=Object(d["a"])(c,i,l,!1,null,"13d08e23",null);t["default"]=u.exports},cc2b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:"90%",visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{staticStyle:{"overflow-y":"scroll",height:"500px"},attrs:{spinning:e.confirmLoading,id:"scroll"}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contentTitle",e.validatorRules.title],expression:"['contentTitle', validatorRules.title]"}],attrs:{placeholder:"请输入标题"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"副标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["secondTitle",{}],expression:"['secondTitle', {}]"}],attrs:{placeholder:"请输入副标题"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"肩标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["shoulderTitle",{}],expression:"['shoulderTitle', {}]"}],attrs:{placeholder:"请输入肩标题"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"辅标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["subTitle",{}],expression:"['subTitle', {}]"}],attrs:{placeholder:"请输入辅标题"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"关键字"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["keyword",{}],expression:"['keyword', {}]"}],attrs:{placeholder:"请输入关键字"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"选择用户"}},[a("content-person",{ref:"ContentPerson",staticStyle:{width:"100%"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否置顶"}},[a("a-radio-group",{attrs:{value:this.isTop},model:{value:e.isTop,callback:function(t){e.isTop=t},expression:"isTop"}},[a("a-radio",{attrs:{value:"Y"}},[e._v("\n              是\n            ")]),a("a-radio",{attrs:{value:"N"}},[e._v("\n              否\n            ")])],1)],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否图片新闻"}},[a("a-radio-group",{attrs:{value:this.isImage},model:{value:e.isImage,callback:function(t){e.isImage=t},expression:"isImage"}},[a("a-radio",{attrs:{value:"Y"}},[e._v("\n              是\n            ")]),a("a-radio",{attrs:{value:"N"}},[e._v("\n              否\n            ")])],1)],1),"Y"===this.isImage?a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"图片"}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadAction,headers:e.headers,showUploadList:!1,"list-type":"picture-card",multiple:!0},on:{change:e.handleChange}},[this.sysFileList.length>0?a("img",{staticStyle:{width:"100%"},attrs:{src:e.buildPath(this.sysFileList[0].filePath)}}):a("div",[a("a-icon",{attrs:{type:e.uploadLoading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("上传")])],1)])],1):e._e(),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否超链接"}},[a("a-radio-group",{attrs:{value:this.isUrl},model:{value:e.isUrl,callback:function(t){e.isUrl=t},expression:"isUrl"}},[a("a-radio",{attrs:{value:"Y"}},[e._v("\n              是\n            ")]),a("a-radio",{attrs:{value:"N"}},[e._v("\n              否\n            ")])],1)],1),"Y"===this.isUrl?a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"链接地址"}},[a("a-input",{attrs:{placeholder:"请输入链接地址"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1):e._e(),"N"===this.isUrl?a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"新闻内容"}},["Y"!==e.isUrl?a("avue-ueditor",{staticStyle:{width:"100%"},attrs:{options:e.options},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}):e._e()],1):e._e(),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"附件上传"}},[a("div",{staticStyle:{"margin-top":"11px"}},[a("universal-enclosure",{ref:"UniversalEnclosure",attrs:{title:e.uploadDescribe,isDetail:!1},on:{change:e.onFileChange},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1)]),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"摘要"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["abstractText",{}],expression:"['abstractText', {}]"}],attrs:{placeholder:"请输入摘要"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"来源"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["source",{}],expression:"['source', {}]"}],attrs:{placeholder:"请输入来源"}})],1)],1)],1)],1)},l=[],r=a("fd65"),s=a("0fea"),o=a("88bc"),n=a.n(o),c=(a("c1df"),a("d359")),d=a("e610"),u=a("9fb0"),p=a("2b0e"),m={name:"ContentBaseTypeModal",components:{ContentPerson:r["default"],JImageUpload:d["default"],UniversalEnclosure:c["default"]},data:function(){return{options:{headers:{"X-Access-Token":p["default"].ls.get("Access-Token"),sourceName:p["default"].ls.get(u["A"]),redisIndex:p["default"].ls.get(u["x"])},action:window._CONFIG["domianURL"]+"/control/file/uploadImg?parenPath=control&uploadType=5",customConfig:{lineHeights:["1","1.15","1.6","2","2.5","3"]},props:{res:"result",url:"urlPath"}},personNames:[],personids:"",headers:{},uploadLoading:!1,loading:!1,title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{title:{rules:[{required:!0,message:"请输入标题!"}]}},url:{edit:"/content/contentBaseInfo/edit",content:"/content/contentBaseInfo/queryById",fileUpload:window._CONFIG["domianURL"]+"/common/file/uploadImg?parenPath=content&uploadType=0",queryFile:"/common/file/list"},isImage:"N",isUrl:"N",isTop:"N",message:"",sysFileList:[],fileList:[],uploadDescribe:"",imageId:"",record:{}}},created:function(){this.initHeaders()},computed:{uploadAction:function(){return this.url.fileUpload}},methods:{initHeaders:function(){this.headers={sourceName:p["default"].ls.get(u["A"]),redisIndex:p["default"].ls.get(u["x"])}},handleChange:function(e){e.fileList;if("uploading"!==e.file.status)if("removed"===e.file.status)this.sysFileList=[],this.imageId=null,this.showList=[];else if(e.file.response){var t={};t.fileId=(new Date).getTime().toString(),t.originalName=e.file.response.result.originalName,t.fileName=e.file.response.result.fileName.split(".")[1],t.filePath=e.file.response.result.filePath,t.fileId=e.file.response.result.id,this.sysFileList=[],this.sysFileList.push(t),this.imageId=t.fileId}},deleteFile:function(e){for(var t=0;t<this.sysFileList.length;t++)this.sysFileList[t].fileId==e&&(this.sysFileList=[],this.imageId=null)},buildFilePath:function(e){return window._CONFIG["staticDomainURL"]+"/"+e},add:function(){this.edit("")},edit:function(e){var t=this;this.visible=!0,this.form.resetFields(),""!=e&&(this.record=e,Object(s["e"])(this.url.content,{id:e.contentId}).then((function(e){if(e.success){t.model=Object.assign({},e.result),t.personids=e.result.checkUserIds;var a=e.result.checkUserNames;t.personNames=a?a.split(","):"";for(var i=[],l=t.personids?t.personids.split(","):"",r=0;r<t.personNames.length;r++){var o={};o.realname=t.personNames[r],o.id=l[r],i.push(o)}t.visible=!0,t.$nextTick((function(){t.$refs.ContentPerson.rows=i,t.$refs.ContentPerson.receptionList0=t.personNames?t.personNames:void 0,t.$refs.ContentPerson.personids=t.personids?t.personids:void 0,t.form.setFieldsValue(n()(t.model,"message","contentTitle","secondTitle","shoulderTitle","subTitle","keyword","isTop","isImage","imageId","isUrl","abstractText","source")),t.message=t.model.message,t.isImage=t.model.isImage,t.isUrl=t.model.isUrl,t.isTop=t.model.isTop,t.imageId=t.model.imageId,t.model.fileList.length>0&&(t.fileList=t.model.fileList,t.$refs.UniversalEnclosure.initData(t.model.fileList)),t.model.imageId&&Object(s["e"])(t.url.queryFile,{id:t.model.imageId}).then((function(e){e.success&&(t.sysFileList=e.result.records)}))}))}})))},buildPath:function(e){return window._CONFIG["staticDomainURL"]+"/"+e},onFileChange:function(e){this.fileList=e},close:function(){this.sysFileList=[],this.fileList=[],this.$refs.UniversalEnclosure.initData([]),this.$emit("close"),this.visible=!1,document.getElementById("scroll").scrollTop=0},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,i){if(!a){e.model.message=e.message,e.model.isImage=e.isImage,e.model.isTop=e.isTop,e.model.isUrl=e.isUrl,e.model.imageId=e.imageId,e.model.sysFileList=e.sysFileList,e.model.fileList=e.fileList,t.confirmLoading=!0;var l="",r="";e.model.id?(l+=e.url.edit,r="put"):(l+=e.url.add,r="post");var o=e.$refs.ContentPerson.receptionList0,n=[];if(o)for(var c=e.$refs.ContentPerson.personids.split(","),d=0;d<o.length;d++)n.push(c[d]);i.userIds=n,i.id=e.record.contentId;var u=Object.assign(e.model,i);Object(s["i"])(l,u,r).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}},f=m,h=(a("810c"),a("2877")),b=Object(h["a"])(f,i,l,!1,null,"2f08fe14",null);t["default"]=b.exports},e291:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:800,maskClosable:!1,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{}],expression:"['title', {}]"}],attrs:{placeholder:"请输入标题"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"副标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["secondTitle",{}],expression:"['secondTitle', {}]"}],attrs:{placeholder:"请输入副标题"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"肩标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["shoulderTitle",{}],expression:"['shoulderTitle', {}]"}],attrs:{placeholder:"请输入肩标题"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"辅标题"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["subTitle",{}],expression:"['subTitle', {}]"}],attrs:{placeholder:"请输入辅标题"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"关键字"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["keyword",{}],expression:"['keyword', {}]"}],attrs:{placeholder:"请输入关键字"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否置顶 Y置顶 N不置顶"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["isTop",{}],expression:"['isTop', {}]"}],attrs:{placeholder:"请输入是否置顶 Y置顶 N不置顶"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是图片新闻 Y是 N不是"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["isImage",{}],expression:"['isImage', {}]"}],attrs:{placeholder:"请输入是图片新闻 Y是 N不是"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"图片地址"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["imageId",{}],expression:"['imageId', {}]"}],attrs:{placeholder:"请输入图片地址"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是超链接 Y是 N不是"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["isUrl",{}],expression:"['isUrl', {}]"}],attrs:{placeholder:"请输入是超链接 Y是 N不是"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"链接地址/新闻内容"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["message",{}],expression:"['message', {}]"}],attrs:{placeholder:"请输入链接地址/新闻内容"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"摘要"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["abstract",{}],expression:"['abstract', {}]"}],attrs:{placeholder:"请输入摘要"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"来源"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["source",{}],expression:"['source', {}]"}],attrs:{placeholder:"请输入来源"}})],1),a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"是否删除 0/1"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["delFlag",{}],expression:"['delFlag', {}]"}],attrs:{placeholder:"请输入是否删除 0/1"}})],1)],1)],1)],1)},l=[],r=a("0fea"),s=a("88bc"),o=a.n(s),n=(a("c1df"),{name:"ContentBaseInfoModal",data:function(){return{title:"操作",visible:!1,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,form:this.$form.createForm(this),validatorRules:{},url:{add:"/content/contentBaseInfo/add",edit:"/content/contentBaseInfo/edit"}}},created:function(){},methods:{add:function(){this.edit({})},edit:function(e){var t=this;this.form.resetFields(),this.model=Object.assign({},e),this.visible=!0,this.$nextTick((function(){t.form.setFieldsValue(o()(t.model,"title","secondTitle","shoulderTitle","subTitle","keyword","isTop","isImage","imageId","isUrl","message","abstract","source","delFlag"))}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.form.validateFields((function(a,i){if(!a){t.confirmLoading=!0;var l="",s="";e.model.id?(l+=e.url.edit,s="put"):(l+=e.url.add,s="post");var o=Object.assign(e.model,i);Object(r["i"])(l,o,s).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}}))},handleCancel:function(){this.close()}}}),c=n,d=a("2877"),u=Object(d["a"])(c,i,l,!1,null,"0d545fc2",null);t["default"]=u.exports}}]);