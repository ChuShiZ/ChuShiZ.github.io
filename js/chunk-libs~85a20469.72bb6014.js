(window["webpackJsonp_joinsoft-v9"]=window["webpackJsonp_joinsoft-v9"]||[]).push([["chunk-libs~85a20469"],{"01b0":function(e,t,i){},"03d97":function(e,t,i){"use strict";i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return d}));var n,s,o,r,a,l,h,c,d,u=i("dff7");(function(e){e.noSelection=u["a"]("noSelection","No selection"),e.singleSelectionRange=u["a"]("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),e.singleSelection=u["a"]("singleSelection","Line {0}, Column {1}"),e.multiSelectionRange=u["a"]("multiSelectionRange","{0} selections ({1} characters selected)"),e.multiSelection=u["a"]("multiSelection","{0} selections"),e.emergencyConfOn=u["a"]("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),e.openingDocs=u["a"]("openingDocs","Now opening the Editor Accessibility documentation page."),e.readonlyDiffEditor=u["a"]("readonlyDiffEditor"," in a read-only pane of a diff editor."),e.editableDiffEditor=u["a"]("editableDiffEditor"," in a pane of a diff editor."),e.readonlyEditor=u["a"]("readonlyEditor"," in a read-only code editor"),e.editableEditor=u["a"]("editableEditor"," in a code editor"),e.changeConfigToOnMac=u["a"]("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),e.changeConfigToOnWinLinux=u["a"]("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),e.auto_on=u["a"]("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),e.auto_off=u["a"]("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),e.tabFocusModeOnMsg=u["a"]("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),e.tabFocusModeOnMsgNoKb=u["a"]("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),e.tabFocusModeOffMsg=u["a"]("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),e.tabFocusModeOffMsgNoKb=u["a"]("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),e.openDocMac=u["a"]("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),e.openDocWinLinux=u["a"]("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),e.outroMsg=u["a"]("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),e.showAccessibilityHelpAction=u["a"]("showAccessibilityHelpAction","Show Accessibility Help")})(n||(n={})),function(e){e.inspectTokensAction=u["a"]("inspectTokens","Developer: Inspect Tokens")}(s||(s={})),function(e){e.gotoLineActionLabel=u["a"]("gotoLineActionLabel","Go to Line/Column...")}(o||(o={})),function(e){e.helpQuickAccessActionLabel=u["a"]("helpQuickAccess","Show all Quick Access Providers")}(r||(r={})),function(e){e.quickCommandActionLabel=u["a"]("quickCommandActionLabel","Command Palette"),e.quickCommandHelp=u["a"]("quickCommandActionHelp","Show And Run Commands")}(a||(a={})),function(e){e.quickOutlineActionLabel=u["a"]("quickOutlineActionLabel","Go to Symbol..."),e.quickOutlineByCategoryActionLabel=u["a"]("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(l||(l={})),function(e){e.editorViewAccessibleLabel=u["a"]("editorViewAccessibleLabel","Editor content"),e.accessibilityHelpMessage=u["a"]("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(h||(h={})),function(e){e.toggleHighContrast=u["a"]("toggleHighContrast","Toggle High Contrast Theme")}(c||(c={})),function(e){e.bulkEditServiceSummary=u["a"]("bulkEditServiceSummary","Made {0} edits in {1} files")}(d||(d={}))},"045b":function(e,t,i){"use strict";function n(e,t){let i=e.getCount(),n=e.findTokenIndexAtOffset(t),o=e.getLanguageId(n),r=n;while(r+1<i&&e.getLanguageId(r+1)===o)r++;let a=n;while(a>0&&e.getLanguageId(a-1)===o)a--;return new s(e,o,a,r+1,e.getStartOffset(a),e.getEndOffset(r))}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));class s{constructor(e,t,i,n,s,o){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=s,this._lastCharOffset=o}getLineContent(){const e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){const t=this._actual.getLineContent();return t.substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function o(e){return 0!==(7&e)}},"0d83":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return a})),i.d(t,"f",(function(){return l})),i.d(t,"g",(function(){return h})),i.d(t,"h",(function(){return c})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"k",(function(){return g})),i.d(t,"l",(function(){return _})),i.d(t,"m",(function(){return f})),i.d(t,"n",(function(){return p})),i.d(t,"o",(function(){return m})),i.d(t,"p",(function(){return C})),i.d(t,"q",(function(){return b})),i.d(t,"r",(function(){return w}));class n{constructor(){this.type=0}}class s{constructor(){this.type=1}}class o{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class r{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class a{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class l{constructor(){this.type=5}}class h{constructor(e){this.type=6,this.isFocused=e}}class c{constructor(){this.type=7}}class d{constructor(){this.type=8}}class u{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class g{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class _{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class f{constructor(e,t,i,n,s,o){this.type=12,this.source=e,this.range=t,this.selections=i,this.verticalType=n,this.revealHorizontal=s,this.scrollType=o}}class p{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class m{constructor(){this.type=14}}class C{constructor(e){this.type=15,this.ranges=e}}class b{constructor(){this.type=16}}class w{constructor(){this.type=17}}},1080:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return b}));var n=i("3742"),s=i("7ab3"),o=i("6a89");class r{constructor(e,t,i,n,s,o){this._richEditBracketBrand=void 0,this.languageIdentifier=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=s,this.reversedRegex=o,this._openSet=r._toSet(this.open),this._closeSet=r._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function a(e){const t=e.length;e=e.map(e=>[e[0].toLowerCase(),e[1].toLowerCase()]);const i=[];for(let r=0;r<t;r++)i[r]=r;const n=(e,t)=>{const[i,n]=e,[s,o]=t;return i===s||i===o||n===s||n===o},s=(e,n)=>{const s=Math.min(e,n),o=Math.max(e,n);for(let r=0;r<t;r++)i[r]===o&&(i[r]=s)};for(let r=0;r<t;r++){const o=e[r];for(let a=r+1;a<t;a++){const t=e[a];n(o,t)&&s(i[r],i[a])}}const o=[];for(let r=0;r<t;r++){let n=[],s=[];for(let o=0;o<t;o++)if(i[o]===r){const[t,i]=e[o];n.push(t),s.push(i)}n.length>0&&o.push({open:n,close:s})}return o}class l{constructor(e,t){this._richEditBracketsBrand=void 0;const i=a(t);this.brackets=i.map((t,n)=>new r(e,n,t.open,t.close,u(t.open,t.close,i,n),g(t.open,t.close,i,n))),this.forwardRegex=_(this.brackets),this.reversedRegex=f(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const n of this.brackets){for(const e of n.open)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of n.close)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function h(e,t,i,n){for(let s=0,o=t.length;s<o;s++){if(s===i)continue;const o=t[s];for(const t of o.open)t.indexOf(e)>=0&&n.push(t);for(const t of o.close)t.indexOf(e)>=0&&n.push(t)}}function c(e,t){return e.length-t.length}function d(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function u(e,t,i,n){let s=[];s=s.concat(e),s=s.concat(t);for(let o=0,r=s.length;o<r;o++)h(s[o],i,n,s);return s=d(s),s.sort(c),s.reverse(),m(s)}function g(e,t,i,n){let s=[];s=s.concat(e),s=s.concat(t);for(let o=0,r=s.length;o<r;o++)h(s[o],i,n,s);return s=d(s),s.sort(c),s.reverse(),m(s.map(C))}function _(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=d(t),m(t)}function f(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=d(t),m(t.map(C))}function p(e){const t=/^[\w ]+$/.test(e);return e=n["u"](e),t?`\\b${e}\\b`:e}function m(e){let t=`(${e.map(p).join(")|(")})`;return n["q"](t,!0)}const C=function(){function e(e){if(s["d"]){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charCodeAt(n);return s["c"]().decode(t)}{let t=[],i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charAt(n);return t.join("")}}let t=null,i=null;return function(n){return t!==n&&(t=n,i=e(t)),i}}();class b{static _findPrevBracketInText(e,t,i,n){let s=i.match(e);if(!s)return null;let r=i.length-(s.index||0),a=s[0].length,l=n+r;return new o["a"](t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,n,s){const o=C(i),r=o.substring(i.length-s,i.length-n);return this._findPrevBracketInText(e,t,r,n)}static findNextBracketInText(e,t,i,n){let s=i.match(e);if(!s)return null;let r=s.index||0,a=s[0].length;if(0===a)return null;let l=n+r;return new o["a"](t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,n,s){const o=i.substring(n,s);return this.findNextBracketInText(e,t,o,n)}}},"130b":function(e,t,i){"use strict";i.d(t,"f",(function(){return o})),i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"e",(function(){return h})),i.d(t,"g",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"d",(function(){return u}));var n=i("308f"),s=i("a666");class o extends s["a"]{constructor(){super(),this._onEvent=this._register(new n["b"]),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOugoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOugoingEvents(){while(this._outgoingEvents.length>0){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t];this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new r),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOugoingEvents()}emitSingleViewEvent(e){try{const t=this.beginEmitViewEvents();t.emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){while(this._viewEventQueue){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class r{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class a{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new a(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class l{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new l(this.oldHasFocus,e.hasFocus)}}class h{constructor(e,t,i,n,s,o,r,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=s,this.scrollLeft=o,this.scrollHeight=r,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return 2!==e.kind?this:new h(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class c{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class d{constructor(e,t,i,n,s,o,r){this.kind=5,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=s,this.reason=o,this.reachedMaxCursorCount=r}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,n=t.length;if(i!==n)return!1;for(let s=0;s<i;s++)if(!e[s].equalsSelection(t[s]))return!1;return!0}isNoOp(){return d._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 5!==e.kind?this:new d(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class u{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}},"1b69":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return o}));var n=i("0a0f");const s=Object(n["c"])("modelService");function o(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},2837:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return o})),function(e){e[e["None"]=0]="None",e[e["Indent"]=1]="Indent",e[e["IndentOutdent"]=2]="IndentOutdent",e[e["Outdent"]=3]="Outdent"}(n||(n={}));class s{constructor(e){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++){const i=e.notIn[t];switch(i){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}}isOK(e){return 0===(this._standardTokenMask&e)}}class o{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)r(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),r(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),r(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),r(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&r(this.autoClosingPairsCloseSingleChar,t.close,t)}}function r(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}},"2de5":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return o}));var n=i("099d");class s{constructor(e,t){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class o{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Object(n["a"])(e);const i=this.values,s=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=Object(n["a"])(e),t=Object(n["a"])(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Object(n["a"])(e),t=Object(n["a"])(t);const i=this.values,s=this.prefixSum;if(e>=i.length)return!1;let o=i.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Object(n["a"])(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,o=0,r=0;while(t<=i)if(n=t+(i-t)/2|0,o=this.prefixSum[n],r=o-this.values[n],e<r)i=n-1;else{if(!(e>=o))break;t=n+1}return new s(n,e-r)}}},"32a4":function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return _}));var n=i("dff7"),s=i("308f"),o=i("b707"),r=i("70cb"),a=i("89cd"),l=i("b9b4");const h={ModesRegistry:"editor.modesRegistry"};class c{constructor(){this._onDidChangeLanguages=new s["b"],this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}const d=new c;a["a"].add(h.ModesRegistry,d);const u="plaintext",g=".txt",_=new o["s"](u,1);d.registerLanguage({id:u,extensions:[g],aliases:[n["a"]("plainText.alias","Plain Text"),"text"],mimetypes:[l["a"].text]}),r["a"].register(_,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)},"32f2":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return o}));class n{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class s{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class o{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(s.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),s=Math.floor(this._outerHeight),o=i/s,r=Math.floor(4*this._pixelRatio/2);let a=[];for(let l=0,h=this._zones.length;l<h;l++){const s=this._zones[l];if(!e){const e=s.getColorZones();if(e){a.push(e);continue}}const h=Math.floor(o*this._getVerticalOffsetForLine(s.startLineNumber)),c=Math.floor(o*(this._getVerticalOffsetForLine(s.endLineNumber)+t));let d=Math.floor((h+c)/2),u=c-d;u<r&&(u=r),d-u<0&&(d=u),d+u>i&&(d=i-u);const g=s.color;let _=this._color2Id[g];_||(_=++this._lastAssignedId,this._color2Id[g]=_,this._id2Color[_]=g);const f=new n(d-u,d+u,_);s.setColorZone(f),a.push(f)}return this._colorZonesInvalid=!1,a.sort(n.compare),a}}},5380:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));class n{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class s{constructor(e,t,i){this.configuration=e,this.theme=new n(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}},"567d":function(e,t,i){"use strict";var n=i("5fe7"),s=i("a666"),o=i("1b1f"),r=i("c531"),a=i("6a89"),l=i("b707"),h=i("70cb"),c=i("1b0e"),d=i("30db"),u=i("6d8e"),g=i("7061"),_=i("22e9"),f=i("a411"),p=i("d093"),m=i("3170");class C{constructor(e,t,i){const n=new Uint8Array(e*t);for(let s=0,o=e*t;s<o;s++)n[s]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class b{constructor(e){let t=0,i=0;for(let s=0,o=e.length;s<o;s++){let[n,o,r]=e[s];o>t&&(t=o),n>i&&(i=n),r>i&&(i=r)}t++,i++;let n=new C(i,t,0);for(let s=0,o=e.length;s<o;s++){let[t,i,o]=e[s];n.set(t,i,o)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let w=null;function S(){return null===w&&(w=new b([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),w}let v=null;function L(){if(null===v){v=new m["a"](0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let i=0;i<e.length;i++)v.set(e.charCodeAt(i),1);const t=".,;";for(let i=0;i<t.length;i++)v.set(t.charCodeAt(i),2)}return v}class I{static _createLink(e,t,i,n,s){let o=s-1;do{const i=t.charCodeAt(o),n=e.get(i);if(2!==n)break;o--}while(o>n);if(n>0){const e=t.charCodeAt(n-1),i=t.charCodeAt(o);(40===e&&41===i||91===e&&93===i||123===e&&125===i)&&o--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:o+2},url:t.substring(n,o+1)}}static computeLinks(e,t=S()){const i=L();let n=[];for(let s=1,o=e.getLineCount();s<=o;s++){const o=e.getLineContent(s),r=o.length;let a=0,l=0,h=0,c=1,d=!1,u=!1,g=!1,_=!1;while(a<r){let e=!1;const r=o.charCodeAt(a);if(13===c){let t;switch(r){case 40:d=!0,t=0;break;case 41:t=d?0:1;break;case 91:g=!0,u=!0,t=0;break;case 93:g=!1,t=u?0:1;break;case 123:_=!0,t=0;break;case 125:t=_?0:1;break;case 39:t=34===h||96===h?0:1;break;case 34:t=39===h||96===h?0:1;break;case 96:t=39===h||34===h?0:1;break;case 42:t=42===h?1:0;break;case 124:t=124===h?1:0;break;case 32:t=g?0:1;break;default:t=i.get(r)}1===t&&(n.push(I._createLink(i,o,s,l,a)),e=!0)}else if(12===c){let t;91===r?(u=!0,t=0):t=i.get(r),1===t?e=!0:c=13}else c=t.nextState(c,r),0===c&&(e=!0);e&&(c=1,d=!1,u=!1,_=!1,l=a+1,h=r),a++}13===c&&n.push(I._createLink(i,o,s,l,r))}return n}}function O(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?I.computeLinks(e):[]}class y{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,s){if(e&&t){let i=this.doNavigateValueSet(t,s);if(i)return{range:e,value:i}}if(i&&n){let e=this.doNavigateValueSet(n,s);if(e)return{range:i,value:e}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),s=parseFloat(e);return isNaN(n)||isNaN(s)||n!==s?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let s=0,o=e.length;null===n&&s<o;s++)n=this.valueSetReplace(e[s],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}y.INSTANCE=new y;var M=i("6eab"),x=i("ef8e"),N=i("e58e"),k=function(e,t,i,n){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?i(e.value):s(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class R extends f["a"]{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=Object(p["d"])(e.column,Object(p["c"])(t),this._lines[e.lineNumber-1],0);return i?new a["a"](e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,s="",o=0,r=[];return{*[Symbol.iterator](){while(1)if(o<r.length){const e=s.substring(r[o].start,r[o].end);o+=1,yield e}else{if(!(n<t.length))break;s=t[n],r=i(s,e),o=0,n+=1}}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),s=[];for(const o of n)s.push({word:i.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return s}_wordenize(e,t){const i=[];let n;t.lastIndex=0;while(n=t.exec(e)){if(0===n[0].length)break;i.push({start:n.index,end:n.index+n[0].length})}return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,s=[];s.push(this._lines[i].substring(e.startColumn-1));for(let o=i+1;o<n;o++)s.push(this._lines[o]);return s.push(this._lines[n].substring(0,e.endColumn-1)),s.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!g["a"].isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class E{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new R(u["a"].parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;let i=this._models[e];i.onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,i,n){return k(this,void 0,void 0,(function*(){const s=this._getModel(e),o=this._getModel(t);if(!s||!o)return null;const r=s.getLinesContent(),a=o.getLinesContent(),l=new _["a"](r,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}),h=l.computeDiff(),c=!(h.changes.length>0)&&this._modelsAreIdentical(s,o);return{quitEarly:h.quitEarly,identical:c,changes:h.changes}}))}_modelsAreIdentical(e,t){const i=e.getLineCount(),n=t.getLineCount();if(i!==n)return!1;for(let s=1;s<=i;s++){const i=e.getLineContent(s),n=t.getLineContent(s);if(i!==n)return!1}return!0}computeMoreMinimalEdits(e,t){return k(this,void 0,void 0,(function*(){const i=this._getModel(e);if(!i)return t;const n=[];let s=void 0;t=t.slice(0).sort((e,t)=>{if(e.range&&t.range)return a["a"].compareRangesUsingStarts(e.range,t.range);let i=e.range?0:1,n=t.range?0:1;return i-n});for(let{range:e,text:o,eol:r}of t){if("number"===typeof r&&(s=r),a["a"].isEmpty(e)&&!o)continue;const t=i.getValueInRange(e);if(o=o.replace(/\r\n|\n|\r/g,i.eol),t===o)continue;if(Math.max(o.length,t.length)>E._diffLimit){n.push({range:e,text:o});continue}const l=Object(c["b"])(t,o,!1),h=i.offsetAt(a["a"].lift(e).getStartPosition());for(const e of l){const t=i.positionAt(h+e.originalStart),s=i.positionAt(h+e.originalStart+e.originalLength),r={text:o.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:s.lineNumber,endColumn:s.column}};i.getValueInRange(r.range)!==r.text&&n.push(r)}}return"number"===typeof s&&n.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n}))}computeLinks(e){return k(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?O(t):null}))}textualSuggest(e,t,i,n){return k(this,void 0,void 0,(function*(){const s=new N["a"](!0),o=new RegExp(i,n),r=new Set;e:for(let i of e){const e=this._getModel(i);if(e)for(let i of e.words(o))if(i!==t&&isNaN(Number(i))&&(r.add(i),r.size>E._suggestionsLimit))break e}return{words:Array.from(r),duration:s.elapsed()}}))}computeWordRanges(e,t,i,n){return k(this,void 0,void 0,(function*(){let s=this._getModel(e);if(!s)return Object.create(null);const o=new RegExp(i,n),r=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=s.getLineWords(e,o);for(const i of t){if(!isNaN(Number(i.word)))continue;let t=r[i.word];t||(t=[],r[i.word]=t),t.push({startLineNumber:e,startColumn:i.startColumn,endLineNumber:e,endColumn:i.endColumn})}}return r}))}navigateValueSet(e,t,i,n,s){return k(this,void 0,void 0,(function*(){let o=this._getModel(e);if(!o)return null;let r=new RegExp(n,s);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=o.getValueInRange(t),l=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},r);if(!l)return null;let h=o.getValueInRange(l),c=y.INSTANCE.navigateValueSet(t,a,l,h,i);return c}))}loadForeignModule(e,t,i){const n=(e,t)=>this._host.fhr(e,t),s=x["c"](i,n);let o={host:s,getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve(x["d"](this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!==typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}E._diffLimit=1e5,E._suggestionsLimit=1e4,"function"===typeof importScripts&&(d["b"].monaco=Object(M["a"])());var T=i("1b69"),D=i("7b4a"),V=i("3742"),A=i("e8e3"),P=i("d3d7"),F=i("fdcc");i.d(t,"b",(function(){return K})),i.d(t,"a",(function(){return Q}));var W=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},B=function(e,t){return function(i,n){t(i,n,e)}},H=function(e,t,i,n){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?i(e.value):s(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const j=6e4,U=3e5;function z(e,t){let i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let K=class extends s["a"]{constructor(e,t,i){super(),this._modelService=e,this._workerManager=this._register(new Y(this._modelService)),this._logService=i,this._register(l["t"].register("*",{provideLinks:(e,t)=>z(this._modelService,e.uri)?this._workerManager.withWorker().then(t=>t.computeLinks(e.uri)).then(e=>e&&{links:e}):Promise.resolve({links:[]})})),this._register(l["d"].register("*",new q(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeDiff(e,t){return z(this._modelService,e)&&z(this._modelService,t)}computeDiff(e,t,i,n){return this._workerManager.withWorker().then(s=>s.computeDiff(e,t,i,n))}computeMoreMinimalEdits(e,t){if(Object(A["l"])(t)){if(!z(this._modelService,e))return Promise.resolve(t);const i=N["a"].create(!0),s=this._workerManager.withWorker().then(i=>i.computeMoreMinimalEdits(e,t));return s.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([s,Object(n["k"])(1e3).then(()=>t)])}return Promise.resolve(void 0)}canNavigateValueSet(e){return z(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return z(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};K=W([B(0,T["a"]),B(1,D["a"]),B(2,P["b"])],K);class q{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return H(this,void 0,void 0,(function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const n=[];if("currentDocument"===i.wordBasedSuggestionsMode)z(this._modelService,e.uri)&&n.push(e.uri);else for(const t of this._modelService.getModels())z(this._modelService,t.uri)&&(t===e?n.unshift(t.uri):"allDocuments"!==i.wordBasedSuggestionsMode&&t.getLanguageIdentifier().id!==e.getLanguageIdentifier().id||n.push(t.uri));if(0===n.length)return;const s=h["a"].getWordDefinition(e.getLanguageIdentifier().id),o=e.getWordAtPosition(t),r=o?new a["a"](t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):a["a"].fromPositions(t),l=r.setEndPosition(t.lineNumber,t.column),c=yield this._workerManager.withWorker(),d=yield c.textualSuggest(n,null===o||void 0===o?void 0:o.word,s);return d?{duration:d.duration,suggestions:d.words.map(e=>({kind:18,label:e,insertText:e,range:{insert:l,replace:r}}))}:void 0}))}}class Y extends s["a"]{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime();let t=this._register(new n["c"]);t.cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(U/2)),this._register(this._modelService.onModelRemoved(e=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;let e=this._modelService.getModels();0===e.length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;let e=(new Date).getTime()-this._lastWorkerUsedTime;e>U&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Q(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class G extends s["a"]{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let e=new n["c"];e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(j/2)),this._register(e)}}dispose(){for(let e in this._syncedModels)Object(s["f"])(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e){for(const t of e){let e=t.toString();this._syncedModels[e]||this._beginModelSync(t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let i in this._syncedModelsLastUsedTime){let n=e-this._syncedModelsLastUsedTime[i];n>j&&t.push(i)}for(const i of t)this._stopModelSync(i)}_beginModelSync(e){let t=this._modelService.getModel(e);if(!t)return;if(t.isTooLargeForSyncing())return;let i=e.toString();this._proxy.acceptNewModel({url:t.uri.toString(),lines:t.getLinesContent(),EOL:t.getEOL(),versionId:t.getVersionId()});const n=new s["b"];n.add(t.onDidChangeContent(e=>{this._proxy.acceptModelChanged(i.toString(),e)})),n.add(t.onWillDispose(()=>{this._stopModelSync(i)})),n.add(Object(s["i"])(()=>{this._proxy.acceptRemovedModel(i)})),this._syncedModels[i]=n}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Object(s["f"])(t)}}class Z{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class ${constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class Q extends s["a"]{constructor(e,t,i){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new r["a"](i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new o["a"](this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new $(this)))}catch(e){Object(o["b"])(e),this._worker=new Z(new E(new $(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(Object(o["b"])(e),this._worker=new Z(new E(new $(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new G(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e){return this._disposed?Promise.reject(Object(F["a"])()):this._getProxy().then(t=>(this._getOrCreateModelManager(t).ensureSyncedResources(e),t))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t]).then(s=>s.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return H(this,void 0,void 0,(function*(){const n=yield this._withSyncedResources(e),s=i.source,o=Object(V["N"])(i);return n.textualSuggest(e.map(e=>e.toString()),t,s,o)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let s=h["a"].getWordDefinition(n.getLanguageIdentifier().id),o=s.source,r=Object(V["N"])(s);return i.computeWordRanges(e.toString(),t,o,r)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{let s=this._modelService.getModel(e);if(!s)return null;let o=h["a"].getWordDefinition(s.getLanguageIdentifier().id),r=o.source,a=Object(V["N"])(o);return n.navigateValueSet(e.toString(),t,i,r,a)})}dispose(){super.dispose(),this._disposed=!0}}},5818:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("0a0f");const s=Object(n["c"])("modeService")},"5adc":function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return f}));var n=i("ceb8");class s{constructor(e,t,i,n,s){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=s}}function o(e){if(!e||!Array.isArray(e))return[];let t=[],i=0;for(let n=0,o=e.length;n<o;n++){let o=e[n],r=-1;if("string"===typeof o.fontStyle){r=0;let e=o.fontStyle.split(" ");for(let t=0,i=e.length;t<i;t++){let i=e[t];switch(i){case"italic":r|=1;break;case"bold":r|=2;break;case"underline":r|=4;break}}}let a=null;"string"===typeof o.foreground&&(a=o.foreground);let l=null;"string"===typeof o.background&&(l=o.background),t[i++]=new s(o.token||"",n,r,a,l)}return t}function r(e,t){e.sort((e,t)=>{let i=u(e.token,t.token);return 0!==i?i:e.index-t.index});let i=0,n="000000",s="ffffff";while(e.length>=1&&""===e[0].token){let t=e.shift();-1!==t.fontStyle&&(i=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(s=t.background)}let o=new l;for(let l of t)o.getId(l);let r=o.getId(n),a=o.getId(s),c=new g(i,r,a),d=new _(c);for(let l=0,h=e.length;l<h;l++){let t=e[l];d.insert(t.token,t.fontStyle,o.getId(t.foreground),o.getId(t.background))}return new h(o,d)}const a=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class l{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(a);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=n["a"].fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class h{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(o(e),t)}static createFromParsedTokenTheme(e,t){return r(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if("undefined"===typeof i){let e=this._match(t),n=d(t);i=(e.metadata|n<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const c=/\b(comment|string|regex|regexp)\b/;function d(e){let t=e.match(c);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function u(e,t){return e<t?-1:e>t?1:0}class g{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new g(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class _{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,i,n=e.indexOf(".");-1===n?(t=e,i=""):(t=e.substring(0,n),i=e.substring(n+1));let s=this._children.get(t);return"undefined"!==typeof s?s.match(i):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);let s,o,r=e.indexOf(".");-1===r?(s=e,o=""):(s=e.substring(0,r),o=e.substring(r+1));let a=this._children.get(s);"undefined"===typeof a&&(a=new _(this._mainRule.clone()),this._children.set(s,a)),a.insert(o,t,i,n)}}function f(e){let t=[];for(let i=1,n=e.length;i<n;i++){let n=e[i];t[i]=`.mtk${i} { color: ${n}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}},6881:function(e,t,i){"use strict";var n,s,o,r,a,l,h,c,d,u,g,_,f,p,m,C,b,w,S,v,L,I,O,y,M,x,N,k,R,E,T,D,V,A,P;i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return a})),i.d(t,"f",(function(){return l})),i.d(t,"g",(function(){return h})),i.d(t,"h",(function(){return c})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"k",(function(){return g})),i.d(t,"l",(function(){return _})),i.d(t,"m",(function(){return f})),i.d(t,"n",(function(){return p})),i.d(t,"o",(function(){return m})),i.d(t,"p",(function(){return C})),i.d(t,"q",(function(){return b})),i.d(t,"r",(function(){return w})),i.d(t,"s",(function(){return S})),i.d(t,"t",(function(){return v})),i.d(t,"u",(function(){return L})),i.d(t,"v",(function(){return I})),i.d(t,"w",(function(){return O})),i.d(t,"x",(function(){return y})),i.d(t,"y",(function(){return M})),i.d(t,"z",(function(){return x})),i.d(t,"A",(function(){return N})),i.d(t,"B",(function(){return k})),i.d(t,"C",(function(){return R})),i.d(t,"D",(function(){return E})),i.d(t,"E",(function(){return T})),i.d(t,"F",(function(){return D})),i.d(t,"G",(function(){return V})),i.d(t,"H",(function(){return A})),i.d(t,"I",(function(){return P})),function(e){e[e["Unknown"]=0]="Unknown",e[e["Disabled"]=1]="Disabled",e[e["Enabled"]=2]="Enabled"}(n||(n={})),function(e){e[e["KeepWhitespace"]=1]="KeepWhitespace",e[e["InsertAsSnippet"]=4]="InsertAsSnippet"}(s||(s={})),function(e){e[e["Method"]=0]="Method",e[e["Function"]=1]="Function",e[e["Constructor"]=2]="Constructor",e[e["Field"]=3]="Field",e[e["Variable"]=4]="Variable",e[e["Class"]=5]="Class",e[e["Struct"]=6]="Struct",e[e["Interface"]=7]="Interface",e[e["Module"]=8]="Module",e[e["Property"]=9]="Property",e[e["Event"]=10]="Event",e[e["Operator"]=11]="Operator",e[e["Unit"]=12]="Unit",e[e["Value"]=13]="Value",e[e["Constant"]=14]="Constant",e[e["Enum"]=15]="Enum",e[e["EnumMember"]=16]="EnumMember",e[e["Keyword"]=17]="Keyword",e[e["Text"]=18]="Text",e[e["Color"]=19]="Color",e[e["File"]=20]="File",e[e["Reference"]=21]="Reference",e[e["Customcolor"]=22]="Customcolor",e[e["Folder"]=23]="Folder",e[e["TypeParameter"]=24]="TypeParameter",e[e["User"]=25]="User",e[e["Issue"]=26]="Issue",e[e["Snippet"]=27]="Snippet"}(o||(o={})),function(e){e[e["Deprecated"]=1]="Deprecated"}(r||(r={})),function(e){e[e["Invoke"]=0]="Invoke",e[e["TriggerCharacter"]=1]="TriggerCharacter",e[e["TriggerForIncompleteCompletions"]=2]="TriggerForIncompleteCompletions"}(a||(a={})),function(e){e[e["EXACT"]=0]="EXACT",e[e["ABOVE"]=1]="ABOVE",e[e["BELOW"]=2]="BELOW"}(l||(l={})),function(e){e[e["NotSet"]=0]="NotSet",e[e["ContentFlush"]=1]="ContentFlush",e[e["RecoverFromMarkers"]=2]="RecoverFromMarkers",e[e["Explicit"]=3]="Explicit",e[e["Paste"]=4]="Paste",e[e["Undo"]=5]="Undo",e[e["Redo"]=6]="Redo"}(h||(h={})),function(e){e[e["LF"]=1]="LF",e[e["CRLF"]=2]="CRLF"}(c||(c={})),function(e){e[e["Text"]=0]="Text",e[e["Read"]=1]="Read",e[e["Write"]=2]="Write"}(d||(d={})),function(e){e[e["None"]=0]="None",e[e["Keep"]=1]="Keep",e[e["Brackets"]=2]="Brackets",e[e["Advanced"]=3]="Advanced",e[e["Full"]=4]="Full"}(u||(u={})),function(e){e[e["acceptSuggestionOnCommitCharacter"]=0]="acceptSuggestionOnCommitCharacter",e[e["acceptSuggestionOnEnter"]=1]="acceptSuggestionOnEnter",e[e["accessibilitySupport"]=2]="accessibilitySupport",e[e["accessibilityPageSize"]=3]="accessibilityPageSize",e[e["ariaLabel"]=4]="ariaLabel",e[e["autoClosingBrackets"]=5]="autoClosingBrackets",e[e["autoClosingDelete"]=6]="autoClosingDelete",e[e["autoClosingOvertype"]=7]="autoClosingOvertype",e[e["autoClosingQuotes"]=8]="autoClosingQuotes",e[e["autoIndent"]=9]="autoIndent",e[e["automaticLayout"]=10]="automaticLayout",e[e["autoSurround"]=11]="autoSurround",e[e["codeLens"]=12]="codeLens",e[e["codeLensFontFamily"]=13]="codeLensFontFamily",e[e["codeLensFontSize"]=14]="codeLensFontSize",e[e["colorDecorators"]=15]="colorDecorators",e[e["columnSelection"]=16]="columnSelection",e[e["comments"]=17]="comments",e[e["contextmenu"]=18]="contextmenu",e[e["copyWithSyntaxHighlighting"]=19]="copyWithSyntaxHighlighting",e[e["cursorBlinking"]=20]="cursorBlinking",e[e["cursorSmoothCaretAnimation"]=21]="cursorSmoothCaretAnimation",e[e["cursorStyle"]=22]="cursorStyle",e[e["cursorSurroundingLines"]=23]="cursorSurroundingLines",e[e["cursorSurroundingLinesStyle"]=24]="cursorSurroundingLinesStyle",e[e["cursorWidth"]=25]="cursorWidth",e[e["disableLayerHinting"]=26]="disableLayerHinting",e[e["disableMonospaceOptimizations"]=27]="disableMonospaceOptimizations",e[e["domReadOnly"]=28]="domReadOnly",e[e["dragAndDrop"]=29]="dragAndDrop",e[e["emptySelectionClipboard"]=30]="emptySelectionClipboard",e[e["extraEditorClassName"]=31]="extraEditorClassName",e[e["fastScrollSensitivity"]=32]="fastScrollSensitivity",e[e["find"]=33]="find",e[e["fixedOverflowWidgets"]=34]="fixedOverflowWidgets",e[e["folding"]=35]="folding",e[e["foldingStrategy"]=36]="foldingStrategy",e[e["foldingHighlight"]=37]="foldingHighlight",e[e["foldingImportsByDefault"]=38]="foldingImportsByDefault",e[e["unfoldOnClickAfterEndOfLine"]=39]="unfoldOnClickAfterEndOfLine",e[e["fontFamily"]=40]="fontFamily",e[e["fontInfo"]=41]="fontInfo",e[e["fontLigatures"]=42]="fontLigatures",e[e["fontSize"]=43]="fontSize",e[e["fontWeight"]=44]="fontWeight",e[e["formatOnPaste"]=45]="formatOnPaste",e[e["formatOnType"]=46]="formatOnType",e[e["glyphMargin"]=47]="glyphMargin",e[e["gotoLocation"]=48]="gotoLocation",e[e["hideCursorInOverviewRuler"]=49]="hideCursorInOverviewRuler",e[e["highlightActiveIndentGuide"]=50]="highlightActiveIndentGuide",e[e["hover"]=51]="hover",e[e["inDiffEditor"]=52]="inDiffEditor",e[e["inlineSuggest"]=53]="inlineSuggest",e[e["letterSpacing"]=54]="letterSpacing",e[e["lightbulb"]=55]="lightbulb",e[e["lineDecorationsWidth"]=56]="lineDecorationsWidth",e[e["lineHeight"]=57]="lineHeight",e[e["lineNumbers"]=58]="lineNumbers",e[e["lineNumbersMinChars"]=59]="lineNumbersMinChars",e[e["linkedEditing"]=60]="linkedEditing",e[e["links"]=61]="links",e[e["matchBrackets"]=62]="matchBrackets",e[e["minimap"]=63]="minimap",e[e["mouseStyle"]=64]="mouseStyle",e[e["mouseWheelScrollSensitivity"]=65]="mouseWheelScrollSensitivity",e[e["mouseWheelZoom"]=66]="mouseWheelZoom",e[e["multiCursorMergeOverlapping"]=67]="multiCursorMergeOverlapping",e[e["multiCursorModifier"]=68]="multiCursorModifier",e[e["multiCursorPaste"]=69]="multiCursorPaste",e[e["occurrencesHighlight"]=70]="occurrencesHighlight",e[e["overviewRulerBorder"]=71]="overviewRulerBorder",e[e["overviewRulerLanes"]=72]="overviewRulerLanes",e[e["padding"]=73]="padding",e[e["parameterHints"]=74]="parameterHints",e[e["peekWidgetDefaultFocus"]=75]="peekWidgetDefaultFocus",e[e["definitionLinkOpensInPeek"]=76]="definitionLinkOpensInPeek",e[e["quickSuggestions"]=77]="quickSuggestions",e[e["quickSuggestionsDelay"]=78]="quickSuggestionsDelay",e[e["readOnly"]=79]="readOnly",e[e["renameOnType"]=80]="renameOnType",e[e["renderControlCharacters"]=81]="renderControlCharacters",e[e["renderIndentGuides"]=82]="renderIndentGuides",e[e["renderFinalNewline"]=83]="renderFinalNewline",e[e["renderLineHighlight"]=84]="renderLineHighlight",e[e["renderLineHighlightOnlyWhenFocus"]=85]="renderLineHighlightOnlyWhenFocus",e[e["renderValidationDecorations"]=86]="renderValidationDecorations",e[e["renderWhitespace"]=87]="renderWhitespace",e[e["revealHorizontalRightPadding"]=88]="revealHorizontalRightPadding",e[e["roundedSelection"]=89]="roundedSelection",e[e["rulers"]=90]="rulers",e[e["scrollbar"]=91]="scrollbar",e[e["scrollBeyondLastColumn"]=92]="scrollBeyondLastColumn",e[e["scrollBeyondLastLine"]=93]="scrollBeyondLastLine",e[e["scrollPredominantAxis"]=94]="scrollPredominantAxis",e[e["selectionClipboard"]=95]="selectionClipboard",e[e["selectionHighlight"]=96]="selectionHighlight",e[e["selectOnLineNumbers"]=97]="selectOnLineNumbers",e[e["showFoldingControls"]=98]="showFoldingControls",e[e["showUnused"]=99]="showUnused",e[e["snippetSuggestions"]=100]="snippetSuggestions",e[e["smartSelect"]=101]="smartSelect",e[e["smoothScrolling"]=102]="smoothScrolling",e[e["stickyTabStops"]=103]="stickyTabStops",e[e["stopRenderingLineAfter"]=104]="stopRenderingLineAfter",e[e["suggest"]=105]="suggest",e[e["suggestFontSize"]=106]="suggestFontSize",e[e["suggestLineHeight"]=107]="suggestLineHeight",e[e["suggestOnTriggerCharacters"]=108]="suggestOnTriggerCharacters",e[e["suggestSelection"]=109]="suggestSelection",e[e["tabCompletion"]=110]="tabCompletion",e[e["tabIndex"]=111]="tabIndex",e[e["unusualLineTerminators"]=112]="unusualLineTerminators",e[e["useShadowDOM"]=113]="useShadowDOM",e[e["useTabStops"]=114]="useTabStops",e[e["wordSeparators"]=115]="wordSeparators",e[e["wordWrap"]=116]="wordWrap",e[e["wordWrapBreakAfterCharacters"]=117]="wordWrapBreakAfterCharacters",e[e["wordWrapBreakBeforeCharacters"]=118]="wordWrapBreakBeforeCharacters",e[e["wordWrapColumn"]=119]="wordWrapColumn",e[e["wordWrapOverride1"]=120]="wordWrapOverride1",e[e["wordWrapOverride2"]=121]="wordWrapOverride2",e[e["wrappingIndent"]=122]="wrappingIndent",e[e["wrappingStrategy"]=123]="wrappingStrategy",e[e["showDeprecated"]=124]="showDeprecated",e[e["inlayHints"]=125]="inlayHints",e[e["editorClassName"]=126]="editorClassName",e[e["pixelRatio"]=127]="pixelRatio",e[e["tabFocusMode"]=128]="tabFocusMode",e[e["layoutInfo"]=129]="layoutInfo",e[e["wrappingInfo"]=130]="wrappingInfo"}(g||(g={})),function(e){e[e["TextDefined"]=0]="TextDefined",e[e["LF"]=1]="LF",e[e["CRLF"]=2]="CRLF"}(_||(_={})),function(e){e[e["LF"]=0]="LF",e[e["CRLF"]=1]="CRLF"}(f||(f={})),function(e){e[e["None"]=0]="None",e[e["Indent"]=1]="Indent",e[e["IndentOutdent"]=2]="IndentOutdent",e[e["Outdent"]=3]="Outdent"}(p||(p={})),function(e){e[e["Other"]=0]="Other",e[e["Type"]=1]="Type",e[e["Parameter"]=2]="Parameter"}(m||(m={})),function(e){e[e["Automatic"]=0]="Automatic",e[e["Explicit"]=1]="Explicit"}(C||(C={})),function(e){e[e["DependsOnKbLayout"]=-1]="DependsOnKbLayout",e[e["Unknown"]=0]="Unknown",e[e["Backspace"]=1]="Backspace",e[e["Tab"]=2]="Tab",e[e["Enter"]=3]="Enter",e[e["Shift"]=4]="Shift",e[e["Ctrl"]=5]="Ctrl",e[e["Alt"]=6]="Alt",e[e["PauseBreak"]=7]="PauseBreak",e[e["CapsLock"]=8]="CapsLock",e[e["Escape"]=9]="Escape",e[e["Space"]=10]="Space",e[e["PageUp"]=11]="PageUp",e[e["PageDown"]=12]="PageDown",e[e["End"]=13]="End",e[e["Home"]=14]="Home",e[e["LeftArrow"]=15]="LeftArrow",e[e["UpArrow"]=16]="UpArrow",e[e["RightArrow"]=17]="RightArrow",e[e["DownArrow"]=18]="DownArrow",e[e["Insert"]=19]="Insert",e[e["Delete"]=20]="Delete",e[e["KEY_0"]=21]="KEY_0",e[e["KEY_1"]=22]="KEY_1",e[e["KEY_2"]=23]="KEY_2",e[e["KEY_3"]=24]="KEY_3",e[e["KEY_4"]=25]="KEY_4",e[e["KEY_5"]=26]="KEY_5",e[e["KEY_6"]=27]="KEY_6",e[e["KEY_7"]=28]="KEY_7",e[e["KEY_8"]=29]="KEY_8",e[e["KEY_9"]=30]="KEY_9",e[e["KEY_A"]=31]="KEY_A",e[e["KEY_B"]=32]="KEY_B",e[e["KEY_C"]=33]="KEY_C",e[e["KEY_D"]=34]="KEY_D",e[e["KEY_E"]=35]="KEY_E",e[e["KEY_F"]=36]="KEY_F",e[e["KEY_G"]=37]="KEY_G",e[e["KEY_H"]=38]="KEY_H",e[e["KEY_I"]=39]="KEY_I",e[e["KEY_J"]=40]="KEY_J",e[e["KEY_K"]=41]="KEY_K",e[e["KEY_L"]=42]="KEY_L",e[e["KEY_M"]=43]="KEY_M",e[e["KEY_N"]=44]="KEY_N",e[e["KEY_O"]=45]="KEY_O",e[e["KEY_P"]=46]="KEY_P",e[e["KEY_Q"]=47]="KEY_Q",e[e["KEY_R"]=48]="KEY_R",e[e["KEY_S"]=49]="KEY_S",e[e["KEY_T"]=50]="KEY_T",e[e["KEY_U"]=51]="KEY_U",e[e["KEY_V"]=52]="KEY_V",e[e["KEY_W"]=53]="KEY_W",e[e["KEY_X"]=54]="KEY_X",e[e["KEY_Y"]=55]="KEY_Y",e[e["KEY_Z"]=56]="KEY_Z",e[e["Meta"]=57]="Meta",e[e["ContextMenu"]=58]="ContextMenu",e[e["F1"]=59]="F1",e[e["F2"]=60]="F2",e[e["F3"]=61]="F3",e[e["F4"]=62]="F4",e[e["F5"]=63]="F5",e[e["F6"]=64]="F6",e[e["F7"]=65]="F7",e[e["F8"]=66]="F8",e[e["F9"]=67]="F9",e[e["F10"]=68]="F10",e[e["F11"]=69]="F11",e[e["F12"]=70]="F12",e[e["F13"]=71]="F13",e[e["F14"]=72]="F14",e[e["F15"]=73]="F15",e[e["F16"]=74]="F16",e[e["F17"]=75]="F17",e[e["F18"]=76]="F18",e[e["F19"]=77]="F19",e[e["NumLock"]=78]="NumLock",e[e["ScrollLock"]=79]="ScrollLock",e[e["US_SEMICOLON"]=80]="US_SEMICOLON",e[e["US_EQUAL"]=81]="US_EQUAL",e[e["US_COMMA"]=82]="US_COMMA",e[e["US_MINUS"]=83]="US_MINUS",e[e["US_DOT"]=84]="US_DOT",e[e["US_SLASH"]=85]="US_SLASH",e[e["US_BACKTICK"]=86]="US_BACKTICK",e[e["US_OPEN_SQUARE_BRACKET"]=87]="US_OPEN_SQUARE_BRACKET",e[e["US_BACKSLASH"]=88]="US_BACKSLASH",e[e["US_CLOSE_SQUARE_BRACKET"]=89]="US_CLOSE_SQUARE_BRACKET",e[e["US_QUOTE"]=90]="US_QUOTE",e[e["OEM_8"]=91]="OEM_8",e[e["OEM_102"]=92]="OEM_102",e[e["NUMPAD_0"]=93]="NUMPAD_0",e[e["NUMPAD_1"]=94]="NUMPAD_1",e[e["NUMPAD_2"]=95]="NUMPAD_2",e[e["NUMPAD_3"]=96]="NUMPAD_3",e[e["NUMPAD_4"]=97]="NUMPAD_4",e[e["NUMPAD_5"]=98]="NUMPAD_5",e[e["NUMPAD_6"]=99]="NUMPAD_6",e[e["NUMPAD_7"]=100]="NUMPAD_7",e[e["NUMPAD_8"]=101]="NUMPAD_8",e[e["NUMPAD_9"]=102]="NUMPAD_9",e[e["NUMPAD_MULTIPLY"]=103]="NUMPAD_MULTIPLY",e[e["NUMPAD_ADD"]=104]="NUMPAD_ADD",e[e["NUMPAD_SEPARATOR"]=105]="NUMPAD_SEPARATOR",e[e["NUMPAD_SUBTRACT"]=106]="NUMPAD_SUBTRACT",e[e["NUMPAD_DECIMAL"]=107]="NUMPAD_DECIMAL",e[e["NUMPAD_DIVIDE"]=108]="NUMPAD_DIVIDE",e[e["KEY_IN_COMPOSITION"]=109]="KEY_IN_COMPOSITION",e[e["ABNT_C1"]=110]="ABNT_C1",e[e["ABNT_C2"]=111]="ABNT_C2",e[e["MAX_VALUE"]=112]="MAX_VALUE"}(b||(b={})),function(e){e[e["Hint"]=1]="Hint",e[e["Info"]=2]="Info",e[e["Warning"]=4]="Warning",e[e["Error"]=8]="Error"}(w||(w={})),function(e){e[e["Unnecessary"]=1]="Unnecessary",e[e["Deprecated"]=2]="Deprecated"}(S||(S={})),function(e){e[e["Inline"]=1]="Inline",e[e["Gutter"]=2]="Gutter"}(v||(v={})),function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["TEXTAREA"]=1]="TEXTAREA",e[e["GUTTER_GLYPH_MARGIN"]=2]="GUTTER_GLYPH_MARGIN",e[e["GUTTER_LINE_NUMBERS"]=3]="GUTTER_LINE_NUMBERS",e[e["GUTTER_LINE_DECORATIONS"]=4]="GUTTER_LINE_DECORATIONS",e[e["GUTTER_VIEW_ZONE"]=5]="GUTTER_VIEW_ZONE",e[e["CONTENT_TEXT"]=6]="CONTENT_TEXT",e[e["CONTENT_EMPTY"]=7]="CONTENT_EMPTY",e[e["CONTENT_VIEW_ZONE"]=8]="CONTENT_VIEW_ZONE",e[e["CONTENT_WIDGET"]=9]="CONTENT_WIDGET",e[e["OVERVIEW_RULER"]=10]="OVERVIEW_RULER",e[e["SCROLLBAR"]=11]="SCROLLBAR",e[e["OVERLAY_WIDGET"]=12]="OVERLAY_WIDGET",e[e["OUTSIDE_EDITOR"]=13]="OUTSIDE_EDITOR"}(L||(L={})),function(e){e[e["TOP_RIGHT_CORNER"]=0]="TOP_RIGHT_CORNER",e[e["BOTTOM_RIGHT_CORNER"]=1]="BOTTOM_RIGHT_CORNER",e[e["TOP_CENTER"]=2]="TOP_CENTER"}(I||(I={})),function(e){e[e["Left"]=1]="Left",e[e["Center"]=2]="Center",e[e["Right"]=4]="Right",e[e["Full"]=7]="Full"}(O||(O={})),function(e){e[e["Off"]=0]="Off",e[e["On"]=1]="On",e[e["Relative"]=2]="Relative",e[e["Interval"]=3]="Interval",e[e["Custom"]=4]="Custom"}(y||(y={})),function(e){e[e["None"]=0]="None",e[e["Text"]=1]="Text",e[e["Blocks"]=2]="Blocks"}(M||(M={})),function(e){e[e["Smooth"]=0]="Smooth",e[e["Immediate"]=1]="Immediate"}(x||(x={})),function(e){e[e["Auto"]=1]="Auto",e[e["Hidden"]=2]="Hidden",e[e["Visible"]=3]="Visible"}(N||(N={})),function(e){e[e["LTR"]=0]="LTR",e[e["RTL"]=1]="RTL"}(k||(k={})),function(e){e[e["Invoke"]=1]="Invoke",e[e["TriggerCharacter"]=2]="TriggerCharacter",e[e["ContentChange"]=3]="ContentChange"}(R||(R={})),function(e){e[e["File"]=0]="File",e[e["Module"]=1]="Module",e[e["Namespace"]=2]="Namespace",e[e["Package"]=3]="Package",e[e["Class"]=4]="Class",e[e["Method"]=5]="Method",e[e["Property"]=6]="Property",e[e["Field"]=7]="Field",e[e["Constructor"]=8]="Constructor",e[e["Enum"]=9]="Enum",e[e["Interface"]=10]="Interface",e[e["Function"]=11]="Function",e[e["Variable"]=12]="Variable",e[e["Constant"]=13]="Constant",e[e["String"]=14]="String",e[e["Number"]=15]="Number",e[e["Boolean"]=16]="Boolean",e[e["Array"]=17]="Array",e[e["Object"]=18]="Object",e[e["Key"]=19]="Key",e[e["Null"]=20]="Null",e[e["EnumMember"]=21]="EnumMember",e[e["Struct"]=22]="Struct",e[e["Event"]=23]="Event",e[e["Operator"]=24]="Operator",e[e["TypeParameter"]=25]="TypeParameter"}(E||(E={})),function(e){e[e["Deprecated"]=1]="Deprecated"}(T||(T={})),function(e){e[e["Hidden"]=0]="Hidden",e[e["Blink"]=1]="Blink",e[e["Smooth"]=2]="Smooth",e[e["Phase"]=3]="Phase",e[e["Expand"]=4]="Expand",e[e["Solid"]=5]="Solid"}(D||(D={})),function(e){e[e["Line"]=1]="Line",e[e["Block"]=2]="Block",e[e["Underline"]=3]="Underline",e[e["LineThin"]=4]="LineThin",e[e["BlockOutline"]=5]="BlockOutline",e[e["UnderlineThin"]=6]="UnderlineThin"}(V||(V={})),function(e){e[e["AlwaysGrowsWhenTypingAtEdges"]=0]="AlwaysGrowsWhenTypingAtEdges",e[e["NeverGrowsWhenTypingAtEdges"]=1]="NeverGrowsWhenTypingAtEdges",e[e["GrowsOnlyWhenTypingBefore"]=2]="GrowsOnlyWhenTypingBefore",e[e["GrowsOnlyWhenTypingAfter"]=3]="GrowsOnlyWhenTypingAfter"}(A||(A={})),function(e){e[e["None"]=0]="None",e[e["Same"]=1]="Same",e[e["Indent"]=2]="Indent",e[e["DeepIndent"]=3]="DeepIndent"}(P||(P={}))},"6a5d":function(e,t,i){"use strict";var n=i("308f"),s=(i("eda7"),i("a666")),o=(i("4035"),i("49d9"),i("9768")),r=i("32b8");function a(e,t,i,n){if(Array.isArray(e)){let s=0;for(const o of e){const e=a(o,t,i,n);if(10===e)return e;e>s&&(s=e)}return s}if("string"===typeof e)return n?"*"===e?5:e===i?10:0:0;if(e){const{language:s,pattern:a,scheme:l,hasAccessToAllModels:h}=e;if(!n&&!h)return 0;let c=0;if(l)if(l===t.scheme)c=10;else{if("*"!==l)return 0;c=5}if(s)if(s===i)c=10;else{if("*"!==s)return 0;c=Math.max(c,5)}if(a){let e;if(e="string"===typeof a?a:Object.assign(Object.assign({},a),{base:Object(r["d"])(a.base)}),e!==t.fsPath&&!Object(o["a"])(e,t.fsPath))return 0;c=10}return c}return 0}var l=i("1b69");function h(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(h):!!e.exclusive)}i.d(t,"a",(function(){return c}));class c{constructor(){this._clock=0,this._entries=[],this._onDidChange=new n["b"]}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(s["i"])(()=>{if(i){let e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,e=>t.push(e.provider)),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=a(t.selector,e.uri,e.getLanguageIdentifier().language,Object(l["b"])(e)),h(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(c._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}},"6da2":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return h})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return _}));var n=i("3742"),s=i("7ab3"),o=i("7416");class r{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class a{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class l{constructor(e,t,i,n,s,r,a,l,h,c,d,u,g,_,f,p,m,C,b){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=s,this.containsRTL=r,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=h.sort(o["a"].compare),this.tabSize=c,this.startVisibleColumn=d,this.spaceWidth=u,this.stopRenderingLineAfter=f,this.renderWhitespace="all"===p?4:"boundary"===p?1:"selection"===p?2:"trailing"===p?3:0,this.renderControlCharacters=m,this.fontLigatures=C,this.selectionsOnLine=b&&b.sort((e,t)=>e.startOffset<t.startOffset?-1:1);const w=Math.abs(_-u),S=Math.abs(g-u);w<S?(this.renderSpaceWidth=_,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&o["a"].equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class h{constructor(e,t){this.partIndex=e,this.charIndex=t}}class c{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,i,n){const s=(t<<16|i<<0)>>>0;this._data[e-1]=s,this._absoluteOffsets[e-1]=n+i}getAbsoluteOffset(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=c.getPartIndex(t),n=c.getCharIndex(t);return new h(i,n)}getColumn(e,t){const i=this.partDataToCharOffset(e.partIndex,t,e.charIndex);return i+1}partDataToCharOffset(e,t,i){if(0===this.length)return 0;let n=(e<<16|i<<0)>>>0,s=0,o=this.length-1;while(s+1<o){let e=s+o>>>1,t=this._data[e];if(t===n)return e;t>n?o=e:s=e}if(s===o)return s;let r=this._data[s],a=this._data[o];if(r===n)return s;if(a===n)return o;let l,h=c.getPartIndex(r),d=c.getCharIndex(r),u=c.getPartIndex(a);l=h!==u?t:c.getCharIndex(a);let g=i-d,_=l-i;return g<=_?s:o}}class d{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function u(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");let i=0,n=0,s=0;for(const r of e.lineDecorations)1!==r.type&&2!==r.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(r.className),t.appendASCIIString('"></span>'),1===r.type&&(s|=1,i++),2===r.type&&(s|=2,n++));t.appendASCIIString("</span>");const o=new c(1,i+n);return o.setColumnInfo(1,i,0,0),new d(o,!1,s)}return t.appendASCIIString("<span><span></span></span>"),new d(new c(0,0),!1,0)}return S(p(e),t)}class g{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function _(e){let t=Object(s["a"])(1e4),i=u(e,t);return new g(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}class f{constructor(e,t,i,n,s,o,r,a,l,h,c,d,u,g,_){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=s,this.parts=o,this.containsForeignElements=r,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=h,this.containsRTL=c,this.spaceWidth=d,this.renderSpaceCharCode=u,this.renderWhitespace=g,this.renderControlCharacters=_}}function p(e){const t=e.lineContent;let i,n;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,n=e.stopRenderingLineAfter):(i=!1,n=t.length);let s=m(e.lineTokens,e.fauxIndentLength,n);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(s=b(e,t,n,s));let o=0;if(e.lineDecorations.length>0){for(let t=0,i=e.lineDecorations.length;t<i;t++){const i=e.lineDecorations[t];3===i.type||1===i.type?o|=1:2===i.type&&(o|=2)}s=w(t,n,s,e.lineDecorations)}return e.containsRTL||(s=C(t,s,!e.isBasicASCII||e.fontLigatures)),new f(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,n,i,s,o,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}function m(e,t,i){let n=[],s=0;t>0&&(n[s++]=new r(t,"",0));for(let o=0,a=e.getCount();o<a;o++){const a=e.getEndOffset(o);if(a<=t)continue;const l=e.getClassName(o);if(a>=i){n[s++]=new r(i,l,0);break}n[s++]=new r(a,l,0)}return n}function C(e,t,i){let n=0,s=[],o=0;if(i)for(let a=0,l=t.length;a<l;a++){const i=t[a],l=i.endIndex;if(n+50<l){const t=i.type,a=i.metadata;let h=-1,c=n;for(let i=n;i<l;i++)32===e.charCodeAt(i)&&(h=i),-1!==h&&i-c>=50&&(s[o++]=new r(h+1,t,a),c=h+1,h=-1);c!==l&&(s[o++]=new r(l,t,a))}else s[o++]=i;n=l}else for(let a=0,l=t.length;a<l;a++){const e=t[a],i=e.endIndex;let l=i-n;if(l>50){const t=e.type,a=e.metadata,h=Math.ceil(l/50);for(let e=1;e<h;e++){let i=n+50*e;s[o++]=new r(i,t,a)}s[o++]=new r(i,t,a)}else s[o++]=e;n=i}return s}function b(e,t,i,s){const o=e.continuesWithWrappedLine,a=e.fauxIndentLength,l=e.tabSize,h=e.startVisibleColumn,c=e.useMonospaceOptimizations,d=e.selectionsOnLine,u=1===e.renderWhitespace,g=3===e.renderWhitespace,_=e.renderSpaceWidth!==e.spaceWidth;let f=[],p=0,m=0,C=s[m].type,b=s[m].endIndex;const w=s.length;let S,v=!1,L=n["v"](t);-1===L?(v=!0,L=i,S=i):S=n["J"](t);let I=!1,O=0,y=d&&d[O],M=h%l;for(let N=a;N<i;N++){const e=t.charCodeAt(N);let o;if(y&&N>=y.endOffset&&(O++,y=d&&d[O]),N<L||N>S)o=!0;else if(9===e)o=!0;else if(32===e)if(u)if(I)o=!0;else{const e=N+1<i?t.charCodeAt(N+1):0;o=32===e||9===e}else o=!0;else o=!1;if(o&&d&&(o=!!y&&y.startOffset<=N&&y.endOffset>N),o&&g&&(o=v||N>S),I){if(!o||!c&&M>=l){if(_){const e=p>0?f[p-1].endIndex:a;for(let t=e+1;t<=N;t++)f[p++]=new r(t,"mtkw",1)}else f[p++]=new r(N,"mtkw",1);M%=l}}else(N===b||o&&N>a)&&(f[p++]=new r(N,C,0),M%=l);9===e?M=l:n["E"](e)?M+=2:M++,I=o;while(N===b){if(m++,!(m<w))break;C=s[m].type,b=s[m].endIndex}}let x=!1;if(I)if(o&&u){let e=i>0?t.charCodeAt(i-1):0,n=i>1?t.charCodeAt(i-2):0,s=32===e&&32!==n&&9!==n;s||(x=!0)}else x=!0;if(x)if(_){const e=p>0?f[p-1].endIndex:a;for(let t=e+1;t<=i;t++)f[p++]=new r(t,"mtkw",1)}else f[p++]=new r(i,"mtkw",1);else f[p++]=new r(i,C,0);return f}function w(e,t,i,n){n.sort(o["a"].compare);const s=o["b"].normalize(e,n),a=s.length;let l=0,h=[],c=0,d=0;for(let o=0,g=i.length;o<g;o++){const e=i[o],t=e.endIndex,n=e.type,u=e.metadata;while(l<a&&s[l].startOffset<t){const e=s[l];if(e.startOffset>d&&(d=e.startOffset,h[c++]=new r(d,n,u)),!(e.endOffset+1<=t)){d=t,h[c++]=new r(d,n+" "+e.className,u|e.metadata);break}d=e.endOffset+1,h[c++]=new r(d,n+" "+e.className,u|e.metadata),l++}t>d&&(d=t,h[c++]=new r(d,n,u))}const u=i[i.length-1].endIndex;if(l<a&&s[l].startOffset===u)while(l<a&&s[l].startOffset===u){const e=s[l];h[c++]=new r(d,e.className,e.metadata),l++}return h}function S(e,t){const i=e.fontIsMonospace,s=e.canUseHalfwidthRightwardsArrow,o=e.containsForeignElements,r=e.lineContent,a=e.len,l=e.isOverflowing,h=e.parts,u=e.fauxIndentLength,g=e.tabSize,_=e.startVisibleColumn,f=e.containsRTL,p=e.spaceWidth,m=e.renderSpaceCharCode,C=e.renderWhitespace,b=e.renderControlCharacters,w=new c(a+1,h.length);let S=!1,v=0,L=_,I=0,O=0,y=0,M=0;f?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let c=0,d=h.length;c<d;c++){M+=y;const e=h[c],l=e.endIndex,d=e.type,_=0!==C&&e.isWhitespace(),f=_&&!i&&("mtkw"===d||!o),x=v===l&&e.isPseudoAfter();if(I=0,t.appendASCIIString('<span class="'),t.appendASCIIString(f?"mtkz":d),t.appendASCII(34),_){let e=0;{let t=v,i=L;for(;t<l;t++){const n=r.charCodeAt(t),s=0|(9===n?g-i%g:1);e+=s,t>=u&&(i+=s)}}for(f&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(p*e)),t.appendASCIIString('px"')),t.appendASCII(62);v<l;v++){w.setColumnInfo(v+1,c-O,I,M),O=0;const e=r.charCodeAt(v);let i;if(9===e){i=g-L%g|0,!s||i>1?t.write1(8594):t.write1(65515);for(let e=2;e<=i;e++)t.write1(160)}else i=1,t.write1(m);I+=i,v>=u&&(L+=i)}y=e}else{let e=0;for(t.appendASCII(62);v<l;v++){w.setColumnInfo(v+1,c-O,I,M),O=0;const i=r.charCodeAt(v);let s=1,o=1;switch(i){case 9:s=g-L%g,o=s;for(let e=1;e<=s;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:b?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:n["E"](i)&&o++,b&&i<32?t.write1(9216+i):b&&127===i?t.write1(9249):t.write1(i)}I+=s,e+=s,v>=u&&(L+=o)}y=e}x?O++:O=0,v>=a&&!S&&e.isPseudoAfter()&&(S=!0,w.setColumnInfo(v+1,c,I,M)),t.appendASCIIString("</span>")}return S||w.setColumnInfo(a+1,h.length-1,I,M),l&&t.appendASCIIString("<span>&hellip;</span>"),t.appendASCIIString("</span>"),new d(w,f,o)}},"6eab":function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("2504"),s=i("308f"),o=i("fe45"),r=i("6d8e"),a=i("7061"),l=i("6a89"),h=i("8025"),c=i("4dc7"),d=i("6881");class u{static chord(e,t){return Object(o["a"])(e,t)}}function g(){return{editor:void 0,languages:void 0,CancellationTokenSource:n["b"],Emitter:s["b"],KeyCode:d["q"],KeyMod:u,Position:a["a"],Range:l["a"],Selection:h["a"],SelectionDirection:d["B"],MarkerSeverity:d["r"],MarkerTag:d["s"],Uri:r["a"],Token:c["a"]}}u.CtrlCmd=2048,u.Shift=1024,u.Alt=512,u.WinCtrl=256},"70cb":function(e,t,i){"use strict";var n=i("308f"),s=i("a666"),o=i("3742"),r=i("d093"),a=i("2837"),l=i("045b");class h{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(e=>new a["c"](e)):e.brackets?this._autoClosingPairs=e.brackets.map(e=>new a["c"]({open:e[0],close:e[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new a["c"]({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"===typeof e.autoCloseBefore?e.autoCloseBefore:h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,i){if(0===t.getTokenCount())return!0;const n=t.findTokenIndexAtOffset(i-2),s=t.getStandardTokenType(n);return e.isOK(s)}getSurroundingPairs(){return this._surroundingPairs}}h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var c=i("1080");class d{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const t=i.charAt(i.length-1);e.push(t)}return e=e.filter((e,t,i)=>i.indexOf(e)===t),e}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const n=t.findTokenIndexAtOffset(i-1);if(Object(l["b"])(t.getStandardTokenType(n)))return null;const s=this._richEditBrackets.reversedRegex,o=t.getLineContent().substring(0,i-1)+e,r=c["a"].findPrevBracketInRange(s,1,o,0,o.length);if(!r)return null;const a=o.substring(r.startColumn-1,r.endColumn-1).toLowerCase(),h=this._richEditBrackets.textIsOpenBracket[a];if(h)return null;const d=t.getActualLineContentBefore(r.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:a}:null}}function u(e){return e.global&&(e.lastIndex=0),!0}class g{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&u(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&u(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&u(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&u(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var _=i("fdcc");class f{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(e=>{const t=f._createOpenBracketRegExp(e[0]),i=f._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let s=0,o=this._regExpRules.length;s<o;s++){let e=this._regExpRules[s];const o=[{reg:e.beforeText,text:i},{reg:e.afterText,text:n},{reg:e.previousLineText,text:t}].every(e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)));if(o)return e.action}if(e>=2&&i.length>0&&n.length>0)for(let s=0,o=this._brackets.length;s<o;s++){let e=this._brackets[s];if(e.openRegExp.test(i)&&e.closeRegExp.test(n))return{indentAction:a["b"].IndentOutdent}}if(e>=2&&i.length>0)for(let s=0,o=this._brackets.length;s<o;s++){let e=this._brackets[s];if(e.openRegExp.test(i))return{indentAction:a["b"].Indent}}return null}static _createOpenBracketRegExp(e){let t=o["u"](e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",f._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=o["u"](e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,f._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Object(_["e"])(t),null}}}i.d(t,"a",(function(){return S}));class p{constructor(e,t){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null,this._conf=t,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new f(this._conf):null,this.comments=p._handleComments(this._conf),this.characterPair=new h(this._conf),this.wordDefinition=this._conf.wordPattern||r["a"],this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new g(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new c["b"](this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new d(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[e,n]=t.blockComment;i.blockCommentStartToken=e,i.blockCommentEndToken=n}return i}}class m{constructor(e){this.languageIdentifier=e}}class C{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class b{constructor(e){this.languageIdentifier=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new C(e,t,++this._order);return this._entries.push(i),this._resolved=null,Object(s["i"])(()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===i){this._entries.splice(e,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new p(this.languageIdentifier,e))}return this._resolved}_resolve(){if(0===this._entries.length)return null;this._entries.sort(C.cmp);const e={};for(const t of this._entries){const i=t.configuration;e.comments=i.comments||e.comments,e.brackets=i.brackets||e.brackets,e.wordPattern=i.wordPattern||e.wordPattern,e.indentationRules=i.indentationRules||e.indentationRules,e.onEnterRules=i.onEnterRules||e.onEnterRules,e.autoClosingPairs=i.autoClosingPairs||e.autoClosingPairs,e.surroundingPairs=i.surroundingPairs||e.surroundingPairs,e.autoCloseBefore=i.autoCloseBefore||e.autoCloseBefore,e.folding=i.folding||e.folding,e.__electricCharacterSupport=i.__electricCharacterSupport||e.__electricCharacterSupport}return e}}class w{constructor(){this._entries2=new Map,this._onDidChange=new n["b"],this.onDidChange=this._onDidChange.event}register(e,t,i=0){let n=this._entries2.get(e.id);n||(n=new b(e),this._entries2.set(e.id,n));const o=n.register(t,i);return this._onDidChange.fire(new m(e)),Object(s["i"])(()=>{o.dispose(),this._onDidChange.fire(new m(e))})}_getRichEditSupport(e){const t=this._entries2.get(e);return t?t.getRichEditSupport():null}getIndentationRules(e){const t=this._getRichEditSupport(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this._getRichEditSupport(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){let n=Object(l["a"])(t,i-1),s=this._getElectricCharacterSupport(n.languageId);return s?s.onElectricCharacter(e,n,i-n.firstCharOffset):null}getComments(e){let t=this._getRichEditSupport(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this._getRichEditSupport(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new a["a"](t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,i){const n=Object(l["a"])(t,i-1);return h.shouldAutoClosePair(e,n,i-n.firstCharOffset)}getWordDefinition(e){let t=this._getRichEditSupport(e);return t?Object(r["c"])(t.wordDefinition||null):Object(r["c"])(null)}getFoldingRules(e){let t=this._getRichEditSupport(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let n=e.getLanguageIdAtPosition(t,0);if(t>1){let s,o=-1;for(s=t-1;s>=1;s--){if(e.getLanguageIdAtPosition(s,0)!==n)return o;let t=e.getLineContent(s);if(!i.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return s;o=s}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;const s=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!s)return null;if(i<=1)return{indentation:"",action:null};const r=this.getPrecedingValidLine(t,i,s);if(r<0)return null;if(r<1)return{indentation:"",action:null};const l=t.getLineContent(r);if(s.shouldIncrease(l)||s.shouldIndentNextLine(l))return{indentation:o["y"](l),action:a["b"].Indent,line:r};if(s.shouldDecrease(l))return{indentation:o["y"](l),action:null,line:r};{if(1===r)return{indentation:o["y"](t.getLineContent(r)),action:null,line:r};const e=r-1,i=s.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!s.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:o["y"](t.getLineContent(i+1)),action:null,line:i+1}}if(n)return{indentation:o["y"](t.getLineContent(r)),action:null,line:r};for(let n=r;n>0;n--){const e=t.getLineContent(n);if(s.shouldIncrease(e))return{indentation:o["y"](e),action:a["b"].Indent,line:n};if(s.shouldIndentNextLine(e)){let e=0;for(let i=n-1;i>0;i--)if(!s.shouldIndentNextLine(t.getLineContent(n))){e=i;break}return{indentation:o["y"](t.getLineContent(e+1)),action:null,line:e+1}}if(s.shouldDecrease(e))return{indentation:o["y"](e),action:null,line:n}}return{indentation:o["y"](t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,n,s){if(e<4)return null;const r=this._getRichEditSupport(i);if(!r)return null;const l=this.getIndentRulesSupport(i);if(!l)return null;const h=this.getInheritIndentForLine(e,t,n),c=t.getLineContent(n);if(h){const i=h.line;if(void 0!==i){const n=r.onEnter(e,"",t.getLineContent(i),"");if(n){let e=o["y"](t.getLineContent(i));return n.removeText&&(e=e.substring(0,e.length-n.removeText)),n.indentAction===a["b"].Indent||n.indentAction===a["b"].IndentOutdent?e=s.shiftIndent(e):n.indentAction===a["b"].Outdent&&(e=s.unshiftIndent(e)),l.shouldDecrease(c)&&(e=s.unshiftIndent(e)),n.appendText&&(e+=n.appendText),o["y"](e)}}return l.shouldDecrease(c)?h.action===a["b"].Indent?h.indentation:s.unshiftIndent(h.indentation):h.action===a["b"].Indent?s.shiftIndent(h.indentation):h.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);const s=t.getLineTokens(i.startLineNumber),r=Object(l["a"])(s,i.startColumn-1),h=r.getLineContent();let c,d,u=!1;if(r.firstCharOffset>0&&s.getLanguageId(0)!==r.languageId?(u=!0,c=h.substr(0,i.startColumn-1-r.firstCharOffset)):c=s.getLineContent().substring(0,i.startColumn-1),i.isEmpty())d=h.substr(i.startColumn-1-r.firstCharOffset);else{const e=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn);d=e.getLineContent().substr(i.endColumn-1-r.firstCharOffset)}const g=this.getIndentRulesSupport(r.languageId);if(!g)return null;const _=c,f=o["y"](c),p={getLineTokens:e=>t.getLineTokens(e),getLanguageIdentifier:()=>t.getLanguageIdentifier(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i),getLineContent:e=>e===i.startLineNumber?_:t.getLineContent(e)},m=o["y"](s.getLineContent()),C=this.getInheritIndentForLine(e,p,i.startLineNumber+1);if(!C){const e=u?m:f;return{beforeEnter:e,afterEnter:e}}let b=u?m:C.indentation;return C.action===a["b"].Indent&&(b=n.shiftIndent(b)),g.shouldDecrease(d)&&(b=n.unshiftIndent(b)),{beforeEnter:u?m:f,afterEnter:b}}getIndentActionForType(e,t,i,n,s){if(e<4)return null;const o=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(o.firstCharOffset)return null;const r=this.getIndentRulesSupport(o.languageId);if(!r)return null;const l=o.getLineContent(),h=l.substr(0,i.startColumn-1-o.firstCharOffset);let c;if(i.isEmpty())c=l.substr(i.startColumn-1-o.firstCharOffset);else{const e=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn);c=e.getLineContent().substr(i.endColumn-1-o.firstCharOffset)}if(!r.shouldDecrease(h+c)&&r.shouldDecrease(h+n+c)){const n=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!n)return null;let o=n.indentation;return n.action!==a["b"].Indent&&(o=s.unshiftIndent(o)),o}return null}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,i){const n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),s=this._getRichEditSupport(n.languageId);if(!s)return null;const o=n.getLineContent(),r=o.substr(0,i.startColumn-1-n.firstCharOffset);let l;if(i.isEmpty())l=o.substr(i.startColumn-1-n.firstCharOffset);else{const e=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn);l=e.getLineContent().substr(i.endColumn-1-n.firstCharOffset)}let h="";if(i.startLineNumber>1&&0===n.firstCharOffset){const e=this.getScopedLineTokens(t,i.startLineNumber-1);e.languageId===n.languageId&&(h=e.getLineContent())}const c=s.onEnter(e,h,r,l);if(!c)return null;const d=c.indentAction;let u=c.appendText;const g=c.removeText||0;u?d===a["b"].Indent&&(u="\t"+u):u=d===a["b"].Indent||d===a["b"].IndentOutdent?"\t":"";let _=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return g&&(_=_.substring(0,_.length-g)),{indentAction:d,appendText:u,removeText:g,indentation:_}}getIndentationAtPosition(e,t,i){const n=e.getLineContent(t);let s=o["y"](n);return s.length>i-1&&(s=s.substring(0,i-1)),s}getScopedLineTokens(e,t,i){e.forceTokenization(t);const n=e.getLineTokens(t),s="undefined"===typeof i?e.getLineMaxColumn(t)-1:i-1;return Object(l["a"])(n,s)}getBracketsSupport(e){const t=this._getRichEditSupport(e);return t&&t.brackets||null}}const S=new w},"72b4":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("308f"),s=i("a666");class o{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new n["b"],this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Object(s["i"])(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let i=null,n=!1;return this._promises.set(e,t.then(t=>{this._promises.delete(e),!n&&t&&(i=this.register(e,t))})),Object(s["i"])(()=>{n=!0,i&&i.dispose()})}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const i=this._promises.get(e);return i?i.then(t=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},7416:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i("3742");class s{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,n=t.length;if(i!==n)return!1;for(let o=0;o<i;o++)if(!s._equals(e[o],t[o]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;const n=t+1,o=i+1,r=i-t,a=[];let l=0;for(const h of e)h.endColumn<=n||h.startColumn>=o||(a[l++]=new s(Math.max(1,h.startColumn-n+1),Math.min(r+1,h.endColumn-n+1),h.className,h.type));return a}static filter(e,t,i,n){if(0===e.length)return[];let o=[],r=0;for(let a=0,l=e.length;a<l;a++){const l=e[a],h=l.range;if(h.endLineNumber<t||h.startLineNumber>t)continue;if(h.isEmpty()&&(0===l.type||3===l.type))continue;const c=h.startLineNumber===t?h.startColumn:i,d=h.endLineNumber===t?h.endColumn:n;o[r++]=new s(c,d,l.inlineClassName,l.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=s._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class o{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class r{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){while(this.count>0&&this.stopOffsets[0]<e){let e=0;while(e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1])e++;i.push(new o(t,this.stopOffsets[e],this.classNames.join(" "),r._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new o(t,e-1,this.classNames.join(" "),r._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class a{static normalize(e,t){if(0===t.length)return[];let i=[];const s=new r;let o=0;for(let r=0,a=t.length;r<a;r++){const a=t[r];let l=a.startColumn,h=a.endColumn;const c=a.className,d=1===a.type?2:2===a.type?4:0;if(l>1){const t=e.charCodeAt(l-2);n["F"](t)&&l--}if(h>1){const t=e.charCodeAt(h-2);n["F"](t)&&h--}const u=l-1,g=h-2;o=s.consumeLowerThan(u,o,i),0===s.count&&(o=u),s.insert(g,c,d)}return s.consumeLowerThan(1073741824,o,i),i}}},"7b4a":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return o}));var n=i("0a0f");const s=Object(n["c"])("textResourceConfigurationService"),o=Object(n["c"])("textResourcePropertiesService")},"7e0b":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("3742"),s=i("3170"),o=i("a8d0"),r=i("338e");class a extends s["a"]{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let l=[],h=[];class c{constructor(e,t){this.classifier=new a(e,t)}static create(e){return new c(e.get(118),e.get(117))}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;const s=[],o=[],r=[];return{addRequest:(e,t,i)=>{s.push(e),o.push(t),r.push(i)},finalize:()=>{const a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let c=[];for(let e=0,l=s.length;e<l;e++){const l=o[e],h=r[e];!h||h.injectionOptions||l?c[e]=u(this.classifier,s[e],l,t,i,a,n):c[e]=d(this.classifier,h,s[e],t,i,a,n)}return l.length=0,h.length=0,c}}}}function d(e,t,i,s,o,r,a){if(-1===o)return null;const c=i.length;if(c<=1)return null;const d=t.breakOffsets,u=t.breakOffsetsVisibleColumn,_=p(i,s,o,r,a),m=o-_;let C=l,b=h,w=0,S=0,v=0,L=o;const I=d.length;let O=0;if(O>=0){let e=Math.abs(u[O]-L);while(O+1<I){const t=Math.abs(u[O+1]-L);if(t>=e)break;e=t,O++}}while(O<I){let t=O<0?0:d[O],o=O<0?0:u[O];S>t&&(t=S,o=v);let a=0,l=0,h=0,_=0;if(o<=L){let p=o,v=0===t?0:i.charCodeAt(t-1),I=0===t?0:e.get(v),O=!0;for(let o=t;o<c;o++){const t=o,c=i.charCodeAt(o);let d,u;if(n["F"](c)?(o++,d=0,u=2):(d=e.get(c),u=g(c,p,s,r)),t>S&&f(v,I,c,d)&&(a=t,l=p),p+=u,p>L){t>S?(h=t,_=p-u):(h=o+1,_=p),p-l>m&&(a=0),O=!1;break}v=c,I=d}if(O){w>0&&(C[w]=d[d.length-1],b[w]=u[d.length-1],w++);break}}if(0===a){let c=o,d=i.charCodeAt(t),u=e.get(d),p=!1;for(let s=t-1;s>=S;s--){const t=s+1,o=i.charCodeAt(s);if(9===o){p=!0;break}let g,C;if(n["G"](o)?(s--,g=0,C=2):(g=e.get(o),C=n["E"](o)?r:1),c<=L){if(0===h&&(h=t,_=c),c<=L-m)break;if(f(o,g,d,u)){a=t,l=c;break}}c-=C,d=o,u=g}if(0!==a){const e=m-(_-l);if(e<=s){const t=i.charCodeAt(h);let o;o=n["F"](t)?2:g(t,_,s,r),e-o<0&&(a=0)}}if(p){O--;continue}}if(0===a&&(a=h,l=_),a<=S){const e=i.charCodeAt(S);n["F"](e)?(a=S+2,l=v+2):(a=S+1,l=v+g(e,v,s,r))}S=a,C[w]=a,v=l,b[w]=l,w++,L=l+m;while(O<0||O<I&&u[O]<l)O++;let p=Math.abs(u[O]-L);while(O+1<I){const e=Math.abs(u[O+1]-L);if(e>=p)break;p=e,O++}}return 0===w?null:(C.length=w,b.length=w,l=t.breakOffsets,h=t.breakOffsetsVisibleColumn,t.breakOffsets=C,t.breakOffsetsVisibleColumn=b,t.wrappedTextIndentLength=_,t)}function u(e,t,i,s,a,l,h){const c=r["b"].applyInjectedText(t,i);let d,u;if(i&&i.length>0?(d=i.map(e=>e.options),u=i.map(e=>e.column-1)):(d=null,u=null),-1===a)return d?new o["b"]([c.length],[],0,u,d):null;const _=c.length;if(_<=1)return d?new o["b"]([c.length],[],0,u,d):null;const m=p(c,s,a,l,h),C=a-m;let b=[],w=[],S=0,v=0,L=0,I=a,O=c.charCodeAt(0),y=e.get(O),M=g(O,0,s,l),x=1;n["F"](O)&&(M+=1,O=c.charCodeAt(1),y=e.get(O),x++);for(let o=x;o<_;o++){const t=o,i=c.charCodeAt(o);let r,a;n["F"](i)?(o++,r=0,a=2):(r=e.get(i),a=g(i,M,s,l)),f(O,y,i,r)&&(v=t,L=M),M+=a,M>I&&((0===v||M-L>C)&&(v=t,L=M-a),b[S]=v,w[S]=L,S++,I=L+C,v=0),O=i,y=r}return 0!==S||i&&0!==i.length?(b[S]=_,w[S]=M,new o["b"](b,w,m,u,d)):null}function g(e,t,i,s){return 9===e?i-t%i:n["E"](e)||e<32?s:1}function _(e,t){return t-e%t}function f(e,t,i,n){return 32!==i&&(2===t||3===t&&2!==n||1===n||3===n&&1!==t)}function p(e,t,i,s,o){let r=0;if(0!==o){const a=n["v"](e);if(-1!==a){for(let i=0;i<a;i++){const n=9===e.charCodeAt(i)?_(r,t):1;r+=n}const n=3===o?2:2===o?1:0;for(let e=0;e<n;e++){const e=_(r,t);r+=e}r+s>i&&(r=0)}}return r}},"8bf1":function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return l})),i.d(t,"d",(function(){return h})),i.d(t,"e",(function(){return c}));var n=i("4dc7"),s=i("b707");class o{clone(){return this}equals(e){return this===e}}const r=new o,a="vs.editor.nullMode",l=new s["s"](a,0);function h(e,t,i,s){return new n["b"]([new n["a"](s,"",e)],i)}function c(e,t,i,s){let o=new Uint32Array(2);return o[0]=s,o[1]=(16384|e<<0|2<<23)>>>0,new n["c"](o,null===i?r:i)}},"918c":function(e,t,i){"use strict";i.d(t,"f",(function(){return a})),i.d(t,"g",(function(){return l})),i.d(t,"d",(function(){return g})),i.d(t,"c",(function(){return _})),i.d(t,"e",(function(){return p})),i.d(t,"a",(function(){return m})),i.d(t,"h",(function(){return C})),i.d(t,"b",(function(){return w})),i.d(t,"k",(function(){return S})),i.d(t,"j",(function(){return v})),i.d(t,"i",(function(){return L})),i.d(t,"l",(function(){return O})),i.d(t,"m",(function(){return y})),i.d(t,"n",(function(){return x})),i.d(t,"p",(function(){return N})),i.d(t,"o",(function(){return k}));var n=i("dff7"),s=i("ceb8"),o=i("303e"),r=i("b7d0");const a=Object(o["cc"])("editor.lineHighlightBackground",{dark:null,light:null,hc:null},n["a"]("lineHighlight","Background color for the highlight of line at the cursor position.")),l=Object(o["cc"])("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},n["a"]("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),h=Object(o["cc"])("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},n["a"]("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),c=Object(o["cc"])("editor.rangeHighlightBorder",{dark:null,light:null,hc:o["b"]},n["a"]("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),d=Object(o["cc"])("editor.symbolHighlightBackground",{dark:o["w"],light:o["w"],hc:null},n["a"]("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),u=Object(o["cc"])("editor.symbolHighlightBorder",{dark:null,light:null,hc:o["b"]},n["a"]("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),g=Object(o["cc"])("editorCursor.foreground",{dark:"#AEAFAD",light:s["a"].black,hc:s["a"].white},n["a"]("caret","Color of the editor cursor.")),_=Object(o["cc"])("editorCursor.background",null,n["a"]("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),f=Object(o["cc"])("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},n["a"]("editorWhitespaces","Color of whitespace characters in the editor.")),p=Object(o["cc"])("editorIndentGuide.background",{dark:f,light:f,hc:f},n["a"]("editorIndentGuides","Color of the editor indentation guides.")),m=Object(o["cc"])("editorIndentGuide.activeBackground",{dark:f,light:f,hc:f},n["a"]("editorActiveIndentGuide","Color of the active editor indentation guides.")),C=Object(o["cc"])("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:s["a"].white},n["a"]("editorLineNumbers","Color of editor line numbers.")),b=Object(o["cc"])("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:o["b"]},n["a"]("editorActiveLineNumber","Color of editor active line number"),!1,n["a"]("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),w=Object(o["cc"])("editorLineNumber.activeForeground",{dark:b,light:b,hc:b},n["a"]("editorActiveLineNumber","Color of editor active line number")),S=Object(o["cc"])("editorRuler.foreground",{dark:"#5A5A5A",light:s["a"].lightgrey,hc:s["a"].white},n["a"]("editorRuler","Color of the editor rulers.")),v=(Object(o["cc"])("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},n["a"]("editorCodeLensForeground","Foreground color of editor CodeLens")),Object(o["cc"])("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},n["a"]("editorBracketMatchBackground","Background color behind matching brackets")),Object(o["cc"])("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:o["h"]},n["a"]("editorBracketMatchBorder","Color for matching brackets boxes")),Object(o["cc"])("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},n["a"]("editorOverviewRulerBorder","Color of the overview ruler border."))),L=Object(o["cc"])("editorOverviewRuler.background",null,n["a"]("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),I=Object(o["cc"])("editorGutter.background",{dark:o["q"],light:o["q"],hc:o["q"]},n["a"]("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),O=Object(o["cc"])("editorUnnecessaryCode.border",{dark:null,light:null,hc:s["a"].fromHex("#fff").transparent(.8)},n["a"]("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),y=Object(o["cc"])("editorUnnecessaryCode.opacity",{dark:s["a"].fromHex("#000a"),light:s["a"].fromHex("#0007"),hc:null},n["a"]("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),M=(Object(o["cc"])("editorGhostText.border",{dark:null,light:null,hc:s["a"].fromHex("#fff").transparent(.8)},n["a"]("editorGhostTextBorder","Border color of ghost text in the editor.")),Object(o["cc"])("editorGhostText.foreground",{dark:s["a"].fromHex("#ffffff56"),light:s["a"].fromHex("#0007"),hc:null},n["a"]("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),new s["a"](new s["b"](0,122,204,.6))),x=(Object(o["cc"])("editorOverviewRuler.rangeHighlightForeground",{dark:M,light:M,hc:M},n["a"]("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Object(o["cc"])("editorOverviewRuler.errorForeground",{dark:new s["a"](new s["b"](255,18,18,.7)),light:new s["a"](new s["b"](255,18,18,.7)),hc:new s["a"](new s["b"](255,50,50,1))},n["a"]("overviewRuleError","Overview ruler marker color for errors."))),N=Object(o["cc"])("editorOverviewRuler.warningForeground",{dark:o["M"],light:o["M"],hc:o["L"]},n["a"]("overviewRuleWarning","Overview ruler marker color for warnings.")),k=Object(o["cc"])("editorOverviewRuler.infoForeground",{dark:o["G"],light:o["G"],hc:o["F"]},n["a"]("overviewRuleInfo","Overview ruler marker color for infos."));Object(r["f"])((e,t)=>{const i=e.getColor(o["q"]);i&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${i}; }`);const n=e.getColor(o["A"]);n&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${n}; }`);const s=e.getColor(I);s&&t.addRule(`.monaco-editor .margin { background-color: ${s}; }`);const r=e.getColor(h);r&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${r}; }`);const a=e.getColor(c);a&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${a}; }`);const l=e.getColor(d);l&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${l}; }`);const g=e.getColor(u);g&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${g}; }`);const _=e.getColor(f);_&&(t.addRule(`.monaco-editor .mtkw { color: ${_} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${_} !important; }`))})},"91df0":function(e,t,i){"use strict";var n=i("ceb8"),s=i("a666"),o=i("3742"),r=i("fd49"),a=i("7061"),l=i("6a89"),h=i("338e"),c=i("b707"),d=i("e1b5");i("8bf1");function u(e,t,i,n,s,o,r){let a="<div>",l=n,h=0;for(let c=0,d=t.getCount();c<d;c++){const d=t.getEndOffset(c);if(d<=n)continue;let u="";for(;l<d&&l<s;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=o-(l+h)%o;h+=e-1;while(e>0)u+=r?"&#160;":" ",e--;break;case 60:u+="&lt;";break;case 62:u+="&gt;";break;case 38:u+="&amp;";break;case 0:u+="&#00;";break;case 65279:case 8232:case 8233:case 133:u+="�";break;case 13:u+="&#8203";break;case 32:u+=r?"&#160;":" ";break;default:u+=String.fromCharCode(t)}}if(a+=`<span style="${t.getInlineStyle(c,i)}">${u}</span>`,d>s||l>=s)break}return a+="</div>",a}var g=i("ff6c"),_=i("0d83"),f=i("308f"),p=i("42e3");class m{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class C{constructor(e,t,i,n,s){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=s,this.prefixSum=0}}class b{constructor(e,t,i,n){this._instanceId=o["Q"](++b.INSTANCE_COUNT),this._pendingChanges=new m,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,s=e.length;while(n<s){const o=n+s>>>1;t===e[o].afterLineNumber?i<e[o].ordinal?s=o:n=o+1:t<e[o].afterLineNumber?s=o:n=o+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{const i={insertWhitespace:(e,i,n,s)=>{t=!0,e|=0,i|=0,n|=0,s|=0;const o=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new C(o,e,i,n,s)),o},changeOneWhitespace:(e,i,n)=>{t=!0,i|=0,n|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:n})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}};e(i)}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const n=new Set;for(const a of i)n.add(a.id);const s=new Map;for(const a of t)s.set(a.id,a);const o=e=>{let t=[];for(const i of e)if(!n.has(i.id)){if(s.has(i.id)){const e=s.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},r=o(this._arr).concat(o(e));r.sort((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber),this._arr=r,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=b.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(-1!==n&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const e=this._arr[n];this._removeWhitespace(n),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&n<=t?this._arr[i].afterLineNumber=e-1:n>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,n=t.length-1;while(i<=n){const s=n-i|0,o=s/2|0,r=i+o|0;if(t[r].afterLineNumber<e){if(r+1>=t.length||t[r+1].afterLineNumber>=e)return r;i=r+1|0}else n=r-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e),i=t+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;this._checkPendingChanges(),e|=0,t=e>1?this._lineHeight*(e-1):0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return t+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e|=0,e<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let n=1,s=t;while(n<s){const t=(n+s)/2|0,o=0|this.getVerticalOffsetForLineNumber(t);if(e>=o+i)n=t+1;else{if(e>=o)return t;s=t}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),s=0|this.getVerticalOffsetForLineNumber(n);let o=0|this._lineCount,r=0|this.getFirstWhitespaceIndexAfterLineNumber(n);const a=0|this.getWhitespacesCount();let l,h;-1===r?(r=a,h=o+1,l=0):(h=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));let c=s,d=c;const u=5e5;let g=0;s>=u&&(g=Math.floor(s/u)*u,g=Math.floor(g/i)*i,d-=g);const _=[],f=e+(t-e)/2;let p=-1;for(let w=n;w<=o;w++){if(-1===p){const e=c,t=c+i;(e<=f&&f<t||e>f)&&(p=w)}c+=i,_[w-n]=d,d+=i;while(h===w)d+=l,c+=l,r++,r>=a?h=o+1:(h=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));if(c>=t){o=w;break}}-1===p&&(p=o);const m=0|this.getVerticalOffsetForLineNumber(o);let C=n,b=o;return C<b&&s<e&&C++,C<b&&m+i>t&&b--,{bigNumbersDelta:g,startLineNumber:n,endLineNumber:o,relativeVerticalOffset:_,centeredLineNumber:p,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,n;return i=t>=1?this._lineHeight*t:0,n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const n=this.getVerticalOffsetForWhitespaceIndex(i),s=this.getHeightForWhitespaceIndex(i);if(e>=n+s)return-1;while(t<i){const n=Math.floor((t+i)/2),s=this.getVerticalOffsetForWhitespaceIndex(n),o=this.getHeightForWhitespaceIndex(n);if(e>=s+o)t=n+1;else{if(e>=s)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t),s=this.getIdForWhitespaceIndex(t),o=this.getAfterLineNumberForWhitespaceIndex(t);return{id:s,afterLineNumber:o,verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let s=[];for(let o=i;o<=n;o++){const e=this.getVerticalOffsetForWhitespaceIndex(o),i=this.getHeightForWhitespaceIndex(o);if(e>=t)break;s.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:e,height:i})}return s}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}b.INSTANCE_COUNT=0;var w=i("a8d0"),S=i("130b");const v=125;class L{constructor(e,t,i,n){e|=0,t|=0,i|=0,n|=0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),n<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class I extends s["a"]{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new f["b"]),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new L(0,0,0,0),this._scrollable=this._register(new p["a"](e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new S["a"](t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class O extends s["a"]{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,s=n.get(129),o=n.get(73);this._linesLayout=new b(t,n.get(57),o.top,o.bottom),this._scrollable=this._register(new I(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new L(s.contentWidth,0,s.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?v:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(57)&&this._linesLayout.setLineHeight(t.get(57)),e.hasChanged(73)){const e=t.get(73);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(129)){const e=t.get(129),i=e.contentWidth,n=e.height,s=this._scrollable.getScrollDimensions(),o=s.contentWidth;this._scrollable.setScrollDimensions(new L(i,s.contentWidth,n,this._getContentHeight(i,n,o)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const i=this._configuration.options,n=i.get(91);return 2===n.horizontal||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let s=this._linesLayout.getLinesTotalHeight();return n.get(93)?s+=Math.max(0,t-n.get(57)-n.get(73).bottom):s+=this._getHorizontalScrollbarHeight(e,i),s}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new L(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new w["h"](t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new w["h"](t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(130),n=t.get(41);if(i.isViewportWrapping){const i=t.get(129),s=t.get(63);return e>i.contentWidth+n.typicalHalfwidthCharacterWidth&&s.enabled&&"right"===s.side?e+i.verticalScrollbarWidth:e}{const i=t.get(92)*n.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i,s)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new L(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),n=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-n,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){const e=this._scrollable.getScrollDimensions();return e.contentWidth}getScrollWidth(){const e=this._scrollable.getScrollDimensions();return e.scrollWidth}getContentHeight(){const e=this._scrollable.getScrollDimensions();return e.contentHeight}getScrollHeight(){const e=this._scrollable.getScrollDimensions();return e.scrollHeight}getCurrentScrollLeft(){const e=this._scrollable.getCurrentScrollPosition();return e.scrollLeft}getCurrentScrollTop(){const e=this._scrollable.getCurrentScrollPosition();return e.scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}var y=i("e8e3"),M=i("b57f"),x=i("2de5");class N{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}}class k{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],i=e>0?this._modelToView[e-1]:0;this._modelToView[e]=i+t;for(let n=0;n<t;n++)this._viewToModel[i+n]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=y["b"](this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],i=t>0?this._modelToView[t-1]:0;return new x["b"](t,e-i)}}class R{constructor(e,t,i,n,s,o,r,a,l){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=s,this.tabSize=o,this.wrappingStrategy=r,this.wrappingColumn=a,this.wrappingIndent=l,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new N(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);const i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),s=h["b"].fromDecorations(n),o=i.length,r=this.createLineBreaksComputer(),a=s.length;let c=0,d=c<a?s[c].lineNumber:o+1;for(let l=0;l<o;l++){let e=null;if(l+1===d){e=[];while(l+1===d&&c<a)e.push(s[c]),c++,d=c<a?s[c].lineNumber:o+1}r.addRequest(i[l],e,t?t[l]:null)}const u=r.finalize();let g=[],_=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(l["a"].compareRangesUsingStarts),f=1,p=0,m=-1,C=m+1<_.length?p+1:o+2;for(let l=0;l<o;l++){let e=l+1;e===C&&(m++,f=_[m].startLineNumber,p=_[m].endLineNumber,C=m+1<_.length?p+1:o+2);let t=e>=f&&e<=p,i=F(u[l],!t);g[l]=i.getViewLineCount(),this.lines[l]=i}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new k(g)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(0===e.length)return[];let t=e.map(e=>this.model.validateRange(e)).sort(l["a"].compareRangesUsingStarts),i=[],n=t[0].startLineNumber,s=t[0].endLineNumber;for(let o=1,r=t.length;o<r;o++){let e=t[o];e.startLineNumber>s+1?(i.push(new l["a"](n,1,s,1)),n=e.startLineNumber,s=e.endLineNumber):e.endLineNumber>s&&(s=e.endLineNumber)}return i.push(new l["a"](n,1,s,1)),i}setHiddenAreas(e){let t=this._reduceRanges(e),i=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(l["a"].compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}let n=[];for(const l of t)n.push({range:l,options:M["a"].EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,n);let s=t,o=1,r=0,a=-1,h=a+1<s.length?r+1:this.lines.length+2,c=!1;for(let l=0;l<this.lines.length;l++){let e=l+1;e===h&&(a++,o=s[a].startLineNumber,r=s[a].endLineNumber,h=a+1<s.length?r+1:this.lines.length+2);let t=!1;if(e>=o&&e<=r?this.lines[l].isVisible()&&(this.lines[l]=this.lines[l].setVisible(!1),t=!0):(c=!0,this.lines[l].isVisible()||(this.lines[l]=this.lines[l].setVisible(!0),t=!0)),t){let e=this.lines[l].getViewLineCount();this.prefixSumComputer.changeValue(l,e)}}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){const s=this.fontInfo.equals(e),o=this.wrappingStrategy===t,r=this.wrappingColumn===i,a=this.wrappingIndent===n;if(s&&o&&r&&a)return!1;const l=s&&o&&!r&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let h=null;if(l){h=[];for(let e=0,t=this.lines.length;e<t;e++)h[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){const e="advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory;return e.createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;let n=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new _["k"](n,s)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;const s=t>2&&!this.lines[t-2].isVisible();let o=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,r=0,a=[],l=[];for(let h=0,c=n.length;h<c;h++){let e=F(n[h],!s);a.push(e);let t=e.getViewLineCount();r+=t,l[h]=t}return this.lines=this.lines.slice(0,t-1).concat(a).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,l),new _["l"](o,o+r-1)}onModelLineChanged(e,t,i){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,s=this.lines[n].getViewLineCount(),o=this.lines[n].isVisible(),r=F(i,o);this.lines[n]=r;let a=this.lines[n].getViewLineCount(),l=!1,h=0,c=-1,d=0,u=-1,g=0,f=-1;s>a?(h=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=h+a-1,g=c+1,f=g+(s-a)-1,l=!0):s<a?(h=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=h+s-1,d=c+1,u=d+(a-s)-1,l=!0):(h=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=h+a-1),this.prefixSumComputer.changeValue(n,a);const p=h<=c?new _["j"](h,c):null,m=d<=u?new _["l"](d,u):null,C=g<=f?new _["k"](g,f):null;return[l,p,m,C]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),s=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),r=this.model.getActiveIndentGuide(n.lineNumber,s.lineNumber,o.lineNumber),a=this.convertModelPositionToViewPosition(r.startLineNumber,1),l=this.convertModelPositionToViewPosition(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:r.indent}}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let s=[],o=[],r=[];const l=i.lineNumber-1,h=n.lineNumber-1;let c=null;for(let _=l;_<=h;_++){const e=this.lines[_];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,_===l?i.column:1),n=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(_+1)),s=n-t+1,h=0;s>1&&1===e.getViewLineMinColumn(this.model,_+1,n)&&(h=0===t?1:2),o.push(s),r.push(h),null===c&&(c=new a["a"](_+1,0))}else null!==c&&(s=s.concat(this.model.getLinesIndentGuides(c.lineNumber,_)),c=null)}null!==c&&(s=s.concat(this.model.getLinesIndentGuides(c.lineNumber,n.lineNumber)),c=null);const d=t-e+1;let u=new Array(d),g=0;for(let a=0,_=s.length;a<_;a++){let e,t=s[a],i=Math.min(d-g,o[a]),n=r[a];e=2===n?0:1===n?1:i;for(let s=0;s<i;s++)s===e&&(t=0),u[g++]=t}return u}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.prefixSumComputer.getIndexOf(e-1),s=e,o=n.index,r=n.remainder,a=[];for(let l=o,h=this.model.getLineCount();l<h;l++){let n=this.lines[l];if(!n.isVisible())continue;let h=l===o?r:0,c=n.getViewLineCount()-h,d=!1;s+c>t&&(d=!0,c=t-s+1);let u=h+c;if(n.getViewLinesData(this.model,l+1,h,u,s-e,i,a),s+=c,d)break}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),s=n.index,o=n.remainder,r=this.lines[s],l=r.getViewLineMinColumn(this.model,s+1,o),h=r.getViewLineMaxColumn(this.model,s+1,o);t<l&&(t=l),t>h&&(t=h);let c=r.getModelColumnOfViewPosition(o,t),d=this.model.validatePosition(new a["a"](s+1,c));return d.equals(i)?new a["a"](e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new l["a"](i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),n=i.index,s=i.remainder,o=this.lines[n].getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new a["a"](n+1,o))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new l["a"](t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const n=this.model.validatePosition(new a["a"](e,t)),s=n.lineNumber,o=n.column;let r=s-1,l=!1;while(r>0&&!this.lines[r].isVisible())r--,l=!0;if(0===r&&!this.lines[r].isVisible())return new a["a"](1,1);const h=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));let c;return c=l?this.lines[r].getViewPositionOfModelPosition(h,this.model.getLineMaxColumn(r+1),i):this.lines[s-1].getViewPositionOfModelPosition(h,o,i),c}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return l["a"].fromPositions(i)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new l["a"](t.lineNumber,t.column,i.lineNumber,i.column)}}_getViewLineNumberForModelPosition(e,t){let i=e-1;if(this.lines[i].isVisible()){const e=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(e,t)}while(i>0&&!this.lines[i].isVisible())i--;if(0===i&&!this.lines[i].isVisible())return 1;const n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getAllOverviewRulerDecorations(e,t,i){const n=this.model.getOverviewRulerDecorations(e,t),s=new H;for(const o of n){const e=o.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const n=e.getColor(i),r=this._getViewLineNumberForModelPosition(o.range.startLineNumber,o.range.startColumn),a=this._getViewLineNumberForModelPosition(o.range.endLineNumber,o.range.endColumn);s.accept(n,r,a,t)}return s.result}getDecorationsInRange(e,t,i){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),s=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(s.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new l["a"](n.lineNumber,1,s.lineNumber,s.column),t,i);let o=[];const r=n.lineNumber-1,h=s.lineNumber-1;let c=null;for(let _=r;_<=h;_++){const e=this.lines[_];if(e.isVisible())null===c&&(c=new a["a"](_+1,_===r?n.column:1));else if(null!==c){const e=this.model.getLineMaxColumn(_);o=o.concat(this.model.getDecorationsInRange(new l["a"](c.lineNumber,c.column,_,e),t,i)),c=null}}null!==c&&(o=o.concat(this.model.getDecorationsInRange(new l["a"](c.lineNumber,c.column,s.lineNumber,s.column),t,i)),c=null),o.sort((e,t)=>{const i=l["a"].compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i});let d=[],u=0,g=null;for(const a of o){const e=a.id;g!==e&&(g=e,d[u++]=a)}return d}getInjectedTextAt(e){const t=this._toValidViewLineNumber(e.lineNumber),i=this.prefixSumComputer.getIndexOf(t-1),n=i.index,s=i.remainder;return this.lines[n].getInjectedTextAt(s,e.column)}normalizePosition(e,t){const i=this._toValidViewLineNumber(e.lineNumber),n=this.prefixSumComputer.getIndexOf(i-1),s=n.index,o=n.remainder;return this.lines[s].normalizePosition(this.model,s+1,o,e,t)}getLineIndentColumn(e){const t=this._toValidViewLineNumber(e),i=this.prefixSumComputer.getIndexOf(t-1),n=i.index,s=i.remainder;return 0===s?this.model.getLineIndentColumn(n+1):0}}class E{constructor(){}isVisible(){return!0}setVisible(e){return e?this:T.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t),s=n.getLineContent();return new w["e"](s,!1,1,s.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,s,o,r){o[s]?r[s]=this.getViewLineData(e,t,0):r[s]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new a["a"](e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i,n,s){return n}getInjectedTextAt(e,t){return null}}E.INSTANCE=new E;class T{constructor(){}isVisible(){return!1}setVisible(e){return e?E.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,s,o,r){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i,n,s){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}T.INSTANCE=new T;class D{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,t,i){return i+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:this._lineBreakData.getInputOffsetOfOutputPosition(i+1,0)}getViewLineContent(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=i>0?this._lineBreakData.breakOffsets[i-1]:0,s=i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let o;if(null!==this._lineBreakData.injectionOffsets){const i=this._lineBreakData.injectionOffsets.map((e,t)=>new h["b"](0,0,e+1,this._lineBreakData.injectionOptions[t],0));o=h["b"].applyInjectedText(e.getLineContent(t),i).substring(n,s)}else o=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:s+1});return i>0&&(o=A(this._lineBreakData.wrappedTextIndentLength)+o),o}getViewLineLength(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=i>0?this._lineBreakData.breakOffsets[i-1]:0,s=i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let o=s-n;return i>0&&(o=this._lineBreakData.wrappedTextIndentLength+o),o}getViewLineMinColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(i)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,i)+1}getViewLineData(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=this._lineBreakData,s=i>0?n.wrappedTextIndentLength:0,o=n.injectionOffsets,r=n.injectionOptions;let a,l,h;if(o){const c=e.getLineTokens(t).withInserted(o.map((e,t)=>({offset:e,text:r[t].content,tokenMetadata:d["a"].defaultTokenMetadata}))),u=i>0?n.breakOffsets[i-1]:0,g=n.breakOffsets[i];a=c.getLineContent().substring(u,g),l=c.sliceAndInflate(u,g,s),h=new Array;let _=0;for(let e=0;e<o.length;e++){const t=r[e].content.length,s=o[e]+_,a=o[e]+_+t;if(s>g)break;if(u<a){const t=r[e];if(t.inlineClassName){const e=i>0?n.wrappedTextIndentLength:0,o=e+Math.max(s-u,0),r=e+Math.min(a-u,g);o!==r&&h.push(new w["d"](o,r,t.inlineClassName,t.inlineClassNameAffectsLetterSpacing))}}_+=t}}else{const n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),r=e.getLineTokens(t);a=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1}),l=r.sliceAndInflate(n,o,s),h=null}i>0&&(a=A(n.wrappedTextIndentLength)+a);const c=i>0?n.wrappedTextIndentLength+1:1,u=a.length+1,g=i+1<this.getViewLineCount(),_=0===i?0:n.breakOffsetsVisibleColumn[i-1];return new w["e"](a,g,c,u,_,l,h)}getViewLinesData(e,t,i,n,s,o,r){if(!this._isVisible)throw new Error("Not supported");for(let a=i;a<n;a++){let n=s+a-i;o[n]?r[n]=this.getViewLineData(e,t,a):r[n]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=t-1;return e>0&&(i<this._lineBreakData.wrappedTextIndentLength?i=0:i-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,i)+1}getViewPositionOfModelPosition(e,t,i=2){if(!this._isVisible)throw new Error("Not supported");let n=this._lineBreakData.getOutputPositionOfInputOffset(t-1,i),s=n.outputLineIndex,o=n.outputOffset+1;return s>0&&(o+=this._lineBreakData.wrappedTextIndentLength),new a["a"](e+s,o)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");const i=this._lineBreakData.getOutputPositionOfInputOffset(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i,n,s){if(null!==this._lineBreakData.injectionOffsets){const e=n.lineNumber-i,t=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(i,n.column-1),o=this._lineBreakData.normalizeOffsetAroundInjections(t,s);if(o!==t)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(o,s).toPosition(e,this._lineBreakData.wrappedTextIndentLength)}if(0===s){if(i>0&&n.column===this._getViewLineMinColumn(i))return new a["a"](n.lineNumber-1,this.getViewLineMaxColumn(e,t,i-1))}else if(1===s){const s=this.getViewLineCount()-1;if(i<s&&n.column===this.getViewLineMaxColumn(e,t,i))return new a["a"](n.lineNumber+1,this._getViewLineMinColumn(i+1))}return n}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}}let V=[""];function A(e){if(e>=V.length)for(let t=1;t<=e;t++)V[t]=P(t);return V[e]}function P(e){return new Array(e+1).join(" ")}function F(e,t){return null===e?t?E.INSTANCE:T.INSTANCE:new D(e,t)}class W{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}}class B{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new W(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new _["k"](t,i)}onModelLinesInserted(e,t,i,n){return new _["l"](t,i)}onModelLineChanged(e,t,i){return[!1,new _["j"](t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesIndentGuides(e,t){const i=t-e+1;let n=new Array(i);for(let s=0;s<i;s++)n[s]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new w["e"](i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let s=[];for(let o=e;o<=t;o++){let t=o-e;i[t]||(s[t]=null),s[t]=this.getViewLineData(o)}return s}getAllOverviewRulerDecorations(e,t,i){const n=this.model.getOverviewRulerDecorations(e,t),s=new H;for(const o of n){const e=o.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const n=e.getColor(i),r=o.range.startLineNumber,a=o.range.endLineNumber;s.accept(n,r,a,t)}return s.result}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class H{constructor(){this.result=Object.create(null)}accept(e,t,i,n){let s=this.result[e];if(s){const e=s[s.length-3],o=s[s.length-1];if(e===n&&o+1>=t)return void(i>o&&(s[s.length-1]=i));s.push(n,t,i)}else this.result[e]=[n,t,i]}}class j{constructor(e,t,i,n,s){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=s,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,s=e.options;let o;if(s.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new a["a"](n.startLineNumber,1),0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new a["a"](n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);o=new l["a"](e.lineNumber,e.column,t.lineNumber,t.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new w["g"](o,s),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,Object(r["m"])(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber;let s=[],o=0,a=[];for(let r=i;r<=n;r++)a[r-i]=[];for(let r=0,h=t.length;r<h;r++){let e=t[r],h=e.options,c=this._getOrCreateViewModelDecoration(e),d=c.range;if(s[o++]=c,h.inlineClassName){let e=new w["a"](d,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(i,d.startLineNumber),s=Math.min(n,d.endLineNumber);for(let n=t;n<=s;n++)a[n-i].push(e)}if(h.beforeContentClassName&&i<=d.startLineNumber&&d.startLineNumber<=n){let e=new w["a"](new l["a"](d.startLineNumber,d.startColumn,d.startLineNumber,d.startColumn),h.beforeContentClassName,1);a[d.startLineNumber-i].push(e)}if(h.afterContentClassName&&i<=d.endLineNumber&&d.endLineNumber<=n){let e=new w["a"](new l["a"](d.endLineNumber,d.endColumn,d.endLineNumber,d.endColumn),h.afterContentClassName,2);a[d.endLineNumber-i].push(e)}}return{decorations:s,inlineDecorations:a}}}var U=i("5fe7"),z=i("30db"),K=i("04a5"),q=i("2e5d");i.d(t,"a",(function(){return G}));const Y=!0;class G extends s["a"]{constructor(e,t,i,n,s,o){if(super(),this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new S["f"],this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new q["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new U["e"](()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new U["e"](()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,Y&&this.model.isTooLargeForTokenization())this._lines=new B(this.model);else{const e=this._configuration.options,t=e.get(41),i=e.get(123),o=e.get(130),r=e.get(122);this._lines=new R(this._editorId,this.model,n,s,t,this.model.getOptions().tabSize,i,o.wrappingColumn,r)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new K["a"](i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new O(this._configuration,this.getLineCount(),o)),this._register(this.viewLayout.onDidScroll(e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new _["n"](e)),this._eventDispatcher.emitOutgoingEvent(new S["e"](e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(e=>{this._eventDispatcher.emitOutgoingEvent(e)})),this._decorations=new j(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(g["a"].getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new _["q"])})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e.startLineNumber,1)),i=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,i.lineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new _["g"](e)),this._eventDispatcher.emitOutgoingEvent(new S["c"](!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new _["b"])}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new _["a"])}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new _["o"])}_onConfigurationChanged(e,t){let i=null;if(-1!==this._viewportStartLine){let e=new a["a"](this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let n=!1;const s=this._configuration.options,o=s.get(41),r=s.get(123),l=s.get(130),h=s.get(122);if(this._lines.setWrappingSettings(o,r,l.wrappingColumn,h)&&(e.emitViewEvent(new _["f"]),e.emitViewEvent(new _["i"]),e.emitViewEvent(new _["e"](null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(79)&&(this._decorations.reset(),e.emitViewEvent(new _["e"](null))),e.emitViewEvent(new _["c"](t)),this.viewLayout.onConfigurationChanged(t),n&&i){const e=this.coordinatesConverter.convertModelPositionToViewPosition(i),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}q["b"].shouldRecreate(t)&&(this.cursorConfig=new q["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const s=e.changes,o=e instanceof h["d"]?e.versionId:null,r=this._lines.createLineBreaksComputer();for(const e of s)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const i=e.detail[t];let n=e.injectedTexts[t];n&&(n=n.filter(e=>!e.ownerId||e.ownerId===this._editorId)),r.addRequest(i,n,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter(e=>!e.ownerId||e.ownerId===this._editorId)),r.addRequest(e.detail,t,null);break}}const a=r.finalize();let l=0;for(const e of s)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new _["f"]),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const n=this._lines.onModelLinesDeleted(o,e.fromLineNumber,e.toLineNumber);null!==n&&(t.emitViewEvent(n),this.viewLayout.onLinesDeleted(n.fromLineNumber,n.toLineNumber)),i=!0;break}case 4:{const n=a.slice(l,l+e.detail.length);l+=e.detail.length;const s=this._lines.onModelLinesInserted(o,e.fromLineNumber,e.toLineNumber,n);null!==s&&(t.emitViewEvent(s),this.viewLayout.onLinesInserted(s.fromLineNumber,s.toLineNumber)),i=!0;break}case 2:{const i=a[l];l++;const[s,r,h,c]=this._lines.onModelLineChanged(o,e.lineNumber,i);n=s,r&&t.emitViewEvent(r),h&&(t.emitViewEvent(h),this.viewLayout.onLinesInserted(h.fromLineNumber,h.toLineNumber)),c&&(t.emitViewEvent(c),this.viewLayout.onLinesDeleted(c.fromLineNumber,c.toLineNumber));break}case 5:break}null!==o&&this._lines.acceptVersionId(o),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new _["i"]),t.emitViewEvent(new _["e"](null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),i=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:i+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){const n=e.ranges[i],s=this.coordinatesConverter.convertModelPositionToViewPosition(new a["a"](n.fromLineNumber,1)).lineNumber,o=this.coordinatesConverter.convertModelPositionToViewPosition(new a["a"](n.toLineNumber,this.model.getLineMaxColumn(n.toLineNumber))).lineNumber;t[i]={fromLineNumber:s,toLineNumber:o}}this._eventDispatcher.emitSingleViewEvent(new _["p"](t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new _["h"]),this.cursorConfig=new q["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new q["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new _["f"]),e.emitViewEvent(new _["i"]),e.emitViewEvent(new _["e"](null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new q["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new _["e"](e))}))}setHiddenAreas(e){try{const t=this._eventDispatcher.beginEmitViewEvents();let i=this._lines.setHiddenAreas(e);i&&(t.emitViewEvent(new _["f"]),t.emitViewEvent(new _["i"]),t.emitViewEvent(new _["e"](null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),t=this._configuration.options.get(57),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),s=Math.max(1,n.completelyVisibleStartLineNumber-i),o=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new l["a"](s,this.getLineMinColumn(s),o,this.getLineMaxColumn(o)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];let n=[],s=0,o=t.startLineNumber,r=t.startColumn,a=t.endLineNumber,h=t.endColumn;for(let c=0,d=i.length;c<d;c++){const e=i[c].startLineNumber,t=i[c].endLineNumber;t<o||(e>a||(o<e&&(n[s++]=new l["a"](o,r,e-1,this.model.getLineMaxColumn(e-1))),o=t+1,r=1))}return(o<a||o===a&&r<h)&&(n[s++]=new l["a"](o,r,a,h)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new l["a"](t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new l["a"](i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](i,this.getLineMinColumn(i))),s=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:s}}reduceRestoreState(e){if("undefined"===typeof e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let n=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new l["a"](n.lineNumber,n.column,n.lineNumber,n.column),1);const s=this.viewLayout.getVerticalOffsetForLineNumber(e),o=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=o-s}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=o["v"](this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=o["J"](this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),s=this.getTabSize(),o=this._lines.getViewLineData(t),r=this._decorations.getDecorationsViewportData(e).inlineDecorations,a=r[t-e.startLineNumber];return o.inlineDecorations&&(a=[...a,...o.inlineDecorations.map(e=>e.toInlineDecoration(t))]),new w["f"](o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,i,n,o.tokens,a,s,o.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new w["c"](this.getTabSize(),n)}getAllOverviewRulerDecorations(e){return this._lines.getAllOverviewRulerDecorations(this._editorId,Object(r["m"])(this._configuration.options),e)}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const s=this.model.getOffsetAt(n),o=s+t;return this.model.getPositionAt(o)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();e=e.slice(0),e.sort(l["a"].compareRangesUsingStarts);let s=!1,o=!1;for(const a of e)a.isEmpty()?s=!0:o=!0;if(!o){if(!t)return"";const i=e.map(e=>e.startLineNumber);let s="";for(let e=0;e<i.length;e++)e>0&&i[e-1]===i[e]||(s+=this.model.getLineContent(i[e])+n);return s}if(s&&t){let t=[],n=0;for(const s of e){const e=s.startLineNumber;s.isEmpty()?e!==n&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(s,i?2:0)),n=e}return 1===t.length?t[0]:t}let r=[];for(const a of e)a.isEmpty()||r.push(this.model.getValueInRange(a,i?2:0));return 1===r.length?r[0]:r}getRichTextToCopy(e,t){const i=this.model.getLanguageIdentifier();if(1===i.id)return null;if(1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const e=n.startLineNumber;n=new l["a"](e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const s=this._configuration.options.get(41),o=this._getColorMap(),a=/[:;\\\/<>]/.test(s.fontFamily),h=a||s.fontFamily===r["c"].fontFamily;let c;if(h)c=r["c"].fontFamily;else{c=s.fontFamily,c=c.replace(/"/g,"'");const e=/[,']/.test(c);if(!e){const e=/[+ ]/.test(c);e&&(c=`'${c}'`)}c=`${c}, ${r["c"].fontFamily}`}return{mode:i.language,html:`<div style="color: ${o[1]};background-color: ${o[2]};font-family: ${c};font-weight: ${s.fontWeight};font-size: ${s.fontSize}px;line-height: ${s.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,o)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,s=e.endLineNumber,o=e.endColumn,r=this.getTabSize();let a="";for(let l=i;l<=s;l++){const e=this.model.getLineTokens(l),h=e.getLineContent(),c=l===i?n-1:0,d=l===s?o-1:h.length;a+=""===h?"<br>":u(h,e.inflate(),t,c,d,r,z["j"])}return a}_getColorMap(){let e=c["B"].getColorMap(),t=["#000000"];if(e)for(let i=1,s=e.length;i<s;i++)t[i]=n["a"].Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(n=>this._cursor.setSelections(n,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new S["d"]):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,n,s){this._executeCursorEdit(o=>this._cursor.compositionType(o,e,t,i,n,s))}paste(e,t,i,n){this._executeCursorEdit(s=>this._cursor.paste(s,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(i=>this._cursor.revealPrimary(i,e,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new l["a"](t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new _["m"](e,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new l["a"](t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new _["m"](e,i,null,0,!0,0)))}revealRange(e,t,i,n,s){this._withViewEventsCollector(o=>o.emitViewEvent(new _["m"](e,i,null,n,t,s)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){const t=this.viewLayout.changeWhitespace(e);t&&(this._eventDispatcher.emitSingleViewEvent(new _["r"]),this._eventDispatcher.emitOutgoingEvent(new S["g"]))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}},a106:function(e,t,i){"use strict";var n=i("dff7"),s=i("5fe7"),o=i("a666"),r=i("3742"),a=i("b2cc"),l=i("c101"),h=i("2c29"),c=i("7061"),d=i("6a89"),u=i("8025"),g=i("8c02"),_=i("3352"),f=i("b57f"),p=i("303e"),m=i("b7d0");class C{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const e=i.options;if(e===C._FIND_MATCH_DECORATION||e===C._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,s=this._decorations.length;n<s;n++){let s=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(s)){t=this._decorations[n],i=n+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations(e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,C._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,C._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let i=this._editor.getModel().getDecorationRange(t);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){let e=i.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);i=new d["a"](i.startLineNumber,i.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(i,C._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let n=C._FIND_MATCH_DECORATION,s=[];if(e.length>1e3){n=C._FIND_MATCH_NO_OVERVIEW_DECORATION;const t=this._editor.getModel().getLineCount(),i=this._editor.getLayoutInfo().height,o=i/t,r=Math.max(2,Math.ceil(3/o));let a=e[0].range.startLineNumber,l=e[0].range.endLineNumber;for(let n=1,h=e.length;n<h;n++){const t=e[n].range;l+r>=t.startLineNumber?t.endLineNumber>l&&(l=t.endLineNumber):(s.push({range:new d["a"](a,1,l,1),options:C._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),a=t.startLineNumber,l=t.endLineNumber)}s.push({range:new d["a"](a,1,l,1),options:C._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let o=new Array(e.length);for(let t=0,r=e.length;t<r;t++)o[t]={range:e[t].range,options:n};this._decorations=i.deltaDecorations(this._decorations,o),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(e=>i.removeDecoration(e)),this._findScopeDecorationIds=[]),(null===t||void 0===t?void 0:t.length)&&(this._findScopeDecorationIds=t.map(e=>i.addDecoration(e,C._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,i=this._decorations.length;t<i;t++){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.startLineNumber<e.lineNumber)){if(n.startLineNumber>e.lineNumber)return n;if(!(n.startColumn<e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}C._CURRENT_FIND_MATCH_DECORATION=f["a"].register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(m["g"])(p["Sb"]),position:_["d"].Center},minimap:{color:Object(m["g"])(p["Mb"]),position:_["c"].Inline}}),C._FIND_MATCH_DECORATION=f["a"].register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(m["g"])(p["Sb"]),position:_["d"].Center},minimap:{color:Object(m["g"])(p["Mb"]),position:_["c"].Inline}}),C._FIND_MATCH_NO_OVERVIEW_DECORATION=f["a"].register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),C._FIND_MATCH_ONLY_OVERVIEW_DECORATION=f["a"].register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Object(m["g"])(p["Sb"]),position:_["d"].Center}}),C._RANGE_HIGHLIGHT_DECORATION=f["a"].register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),C._FIND_SCOPE_DECORATION=f["a"].register({description:"find-scope",className:"findScope",isWholeLine:!0});class b{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort((e,t)=>d["a"].compareRangesUsingStarts(e.range,t.range));let i=[],n=e[0];for(let t=1;t<e.length;t++)n.range.endLineNumber===e[t].range.startLineNumber&&n.range.endColumn===e[t].range.startColumn?(n.range=n.range.plusRange(e[t].range),n.text=n.text+e[t].text):(i.push(n),n=e[t]);i.push(n);for(const s of i)t.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}var w=i("10b9");class S{constructor(e){this.staticValue=e,this.kind=0}}class v{constructor(e){this.pieces=e,this.kind=1}}class L{constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new S(e[0].staticValue):this._state=new v(e):this._state=new S("")}static fromStaticValue(e){return new L([I.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?Object(w["a"])(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,s=this._state.pieces.length;n<s;n++){let t=this._state.pieces[n];if(null!==t.staticValue){i+=t.staticValue;continue}let s=L._substitute(t.matchIndex,e);if(null!==t.caseOps&&t.caseOps.length>0){let e=[],i=t.caseOps.length,n=0;for(let o=0,r=s.length;o<r;o++){if(n>=i){e.push(s.slice(o));break}switch(t.caseOps[n]){case"U":e.push(s[o].toUpperCase());break;case"u":e.push(s[o].toUpperCase()),n++;break;case"L":e.push(s[o].toLowerCase());break;case"l":e.push(s[o].toLowerCase()),n++;break;default:e.push(s[o])}}s=e.join("")}i+=s}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";while(e>0){if(e<t.length){let n=t[e]||"";return n+i}i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class I{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}static staticValue(e){return new I(e,-1,null)}static caseOps(e,t){return new I(null,e,t)}}class O{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=I.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=I.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=I.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new L(this._result)}}function y(e){if(!e||0===e.length)return new L(null);let t=[],i=new O(e);for(let n=0,s=e.length;n<s;n++){let o=e.charCodeAt(n);if(92!==o){if(36===o){if(n++,n>=s)break;let o=e.charCodeAt(n);if(36===o){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(48===o||38===o){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,t),t.length=0;continue}if(49<=o&&o<=57){let r=o-48;if(n+1<s){let s=e.charCodeAt(n+1);if(48<=s&&s<=57){n++,r=10*r+(s-48),i.emitUnchanged(n-2),i.emitMatchIndex(r,n+1,t),t.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(r,n+1,t),t.length=0;continue}}}else{if(n++,n>=s)break;let o=e.charCodeAt(n);switch(o){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic("\n",n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),t.push(String.fromCharCode(o));break}}}return i.finalize()}var M=i("4fc3"),x=i("e8e3");const N=new M["c"]("findWidgetVisible",!1),k=new M["c"]("findInputFocussed",!1),R=new M["c"]("replaceInputFocussed",!1),E={primary:545,mac:{primary:2593}},T={primary:565,mac:{primary:2613}},D={primary:560,mac:{primary:2608}},V={primary:554,mac:{primary:2602}},A={primary:558,mac:{primary:2606}},P={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},F=19999,W=240;class B{constructor(e,t){this._toDispose=new o["b"],this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new s["g"],this._decorations=new C(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new s["e"](()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,Object(o["f"])(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){let t=this._editor.getModel();t.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},W)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;"undefined"!==typeof t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map(e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new d["a"](e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e}));let n=this._findMatches(i,!1,F);this._decorations.set(n,i);const s=this._editor.getSelection();let o=this._decorations.getCurrentMatchesPosition(s);if(0===o&&n.length>0){const e=Object(x["i"])(n.map(e=>e.range),e=>d["a"].compareRangesUsingStarts(e,s)>=0);o=e>0?e-1+1:o}this._state.changeMatchInfo(o,this._decorations.getCount(),void 0),e&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,s=this._editor.getModel();return t||1===n?(1===i?i=s.getLineCount():i--,n=s.getLineMaxColumn(i)):n--,new c["a"](i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const t=this._decorations.matchAfterPosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<F){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(this._cannotFind())return;let i=this._decorations.getFindScope(),n=B._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());let{lineNumber:s,column:o}=e,r=this._editor.getModel(),a=new c["a"](s,o),l=r.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);return l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),l=r.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),l?t||n.containsRange(l.range)?void this._setCurrentFindMatch(l.range):this._moveToPrevMatch(l.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,s=this._editor.getModel();return t||n===s.getLineMaxColumn(i)?(i===s.getLineCount()?i=1:i++,n=1):n++,new c["a"](i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<F){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),o=B._getSearchRange(this._editor.getModel(),s);o.getEndPosition().isBefore(e)&&(e=o.getStartPosition()),e.isBefore(o.getStartPosition())&&(e=o.getStartPosition());let{lineNumber:r,column:a}=e,l=this._editor.getModel(),h=new c["a"](r,a),d=l.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t);return i&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),d=l.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t)),d?n||o.containsRange(d.range)?d:this._getNextMatch(d.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?y(this._state.replaceString):L.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let n=e.buildReplaceString(i.matches,this._state.preserveCase),s=new h["a"](t,n);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new c["a"](t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const n=(e||[null]).map(e=>B._getSearchRange(this._editor.getModel(),e));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=F?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new g["a"](this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null),t=e.parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let e="mu";i.ignoreCase&&(e+="i"),i.global&&(e+="g"),i=new RegExp(i.source,e)}const n=this._editor.getModel(),s=n.getValue(1),o=n.getFullModelRange(),r=this._getReplacePattern();let a;const l=this._state.preserveCase;a=r.hasReplacementPatterns||l?s.replace(i,(function(){return r.buildReplaceString(arguments,l)})):s.replace(i,r.buildReplaceString(null,l));let c=new h["b"](o,a,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)}_regularReplaceAll(e){const t=this._getReplacePattern();let i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let o=0,r=i.length;o<r;o++)n[o]=t.buildReplaceString(i[o].matches,this._state.preserveCase);let s=new b(this._editor.getSelection(),i.map(e=>e.range),n);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824),i=t.map(e=>new u["a"](e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)),n=this._editor.getSelection();for(let s=0,o=i.length;s<o;s++){let e=i[s];if(e.equalsRange(n)){i=[n].concat(i.slice(0,s)).concat(i.slice(s+1));break}}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var H=i("11f7"),j=i("e473"),U=i("1b7d");class z extends U["a"]{constructor(e,t,i,n){super(),this._hideSoon=this._register(new s["e"](()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o=n.getColorTheme().getColor(p["U"]),r=n.getColorTheme().getColor(p["V"]),a=n.getColorTheme().getColor(p["T"]);this.caseSensitive=this._register(new j["a"]({appendTitle:this._keybindingLabelFor(P.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new j["c"]({appendTitle:this._keybindingLabelFor(P.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new j["b"]({appendTitle:this._keybindingLabelFor(P.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(H["h"](this._domNode,e=>this._onMouseOut())),this._register(H["g"](this._domNode,"mouseover",e=>this._onMouseOver())),this._applyTheme(n.getColorTheme()),this._register(n.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return z.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(p["U"]),inputActiveOptionForeground:e.getColor(p["V"]),inputActiveOptionBackground:e.getColor(p["T"])};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}z.ID="editor.contrib.findOptionsWidget",Object(m["f"])((e,t)=>{const i=e.getColor(p["N"]);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const n=e.getColor(p["P"]);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const s=e.getColor(p["kc"]);s&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${s}; }`);const o=e.getColor(p["h"]);o&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${o}; }`)});var K=i("308f");function q(e,t){return 1===e||2!==e&&t}class Y extends o["a"]{constructor(){super(),this._onFindReplaceStateChange=this._register(new K["b"]),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return q(this._isRegexOverride,this._isRegex)}get wholeWord(){return q(this._wholeWordOverride,this._wholeWord)}get matchCase(){return q(this._matchCaseOverride,this._matchCase)}get preserveCase(){return q(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,s=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,s=!0),"undefined"!==typeof i&&(d["a"].equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;let s={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;const r=this.isRegex,a=this.wholeWord,l=this.matchCase,h=this.preserveCase;"undefined"!==typeof e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,s.searchString=!0,o=!0),"undefined"!==typeof e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,s.replaceString=!0,o=!0),"undefined"!==typeof e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,s.isRevealed=!0,o=!0),"undefined"!==typeof e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,s.isReplaceRevealed=!0,o=!0),"undefined"!==typeof e.isRegex&&(this._isRegex=e.isRegex),"undefined"!==typeof e.wholeWord&&(this._wholeWord=e.wholeWord),"undefined"!==typeof e.matchCase&&(this._matchCase=e.matchCase),"undefined"!==typeof e.preserveCase&&(this._preserveCase=e.preserveCase),"undefined"!==typeof e.searchScope&&((null===(n=e.searchScope)||void 0===n?void 0:n.every(e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some(t=>!d["a"].equalsRange(t,e))}))||(this._searchScope=e.searchScope,s.searchScope=!0,o=!0)),"undefined"!==typeof e.loop&&this._loop!==e.loop&&(this._loop=e.loop,s.loop=!0,o=!0),this._isRegexOverride="undefined"!==typeof e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride="undefined"!==typeof e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride="undefined"!==typeof e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride="undefined"!==typeof e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(o=!0,s.isRegex=!0),a!==this.wholeWord&&(o=!0,s.wholeWord=!0),l!==this.matchCase&&(o=!0,s.matchCase=!0),h!==this.preserveCase&&(o=!0,s.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=F}}i("01b0");var G=i("3813"),Z=i("fbcf"),$=i("70c3"),Q=i("fdcc"),X=i("30db"),J=i("6f66"),ee=i("561a"),te=i("bf5b"),ie=function(e,t,i,n){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?i(e.value):s(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const ne=Object(te["b"])("find-selection",ee["b"].selection,n["a"]("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),se=Object(te["b"])("find-collapsed",ee["b"].chevronRight,n["a"]("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),oe=Object(te["b"])("find-expanded",ee["b"].chevronDown,n["a"]("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),re=Object(te["b"])("find-replace",ee["b"].replace,n["a"]("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),ae=Object(te["b"])("find-replace-all",ee["b"].replaceAll,n["a"]("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),le=Object(te["b"])("find-previous-match",ee["b"].arrowUp,n["a"]("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),he=Object(te["b"])("find-next-match",ee["b"].arrowDown,n["a"]("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ce=n["a"]("label.find","Find"),de=n["a"]("placeholder.find","Find"),ue=n["a"]("label.previousMatchButton","Previous Match"),ge=n["a"]("label.nextMatchButton","Next Match"),_e=n["a"]("label.toggleSelectionFind","Find in Selection"),fe=n["a"]("label.closeButton","Close"),pe=n["a"]("label.replace","Replace"),me=n["a"]("placeholder.replace","Replace"),Ce=n["a"]("label.replaceButton","Replace"),be=n["a"]("label.replaceAllButton","Replace All"),we=n["a"]("label.toggleReplaceButton","Toggle Replace"),Se=n["a"]("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",F),ve=n["a"]("label.matchesLocation","{0} of {1}"),Le=n["a"]("label.noResults","No results"),Ie=419,Oe=275,ye=Oe-54;let Me=69;const xe=33,Ne="ctrlEnterReplaceAll.windows.donotask",ke=X["f"]?256:2048;class Re{constructor(e){this.afterLineNumber=e,this.heightInPx=xe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Ee(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionStart>0&&e.stopPropagation()}function Te(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionEnd<i.value.length&&e.stopPropagation()}class De extends U["a"]{constructor(e,t,i,n,r,a,l,h,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=n,this._keybindingService=r,this._contextKeyService=a,this._storageService=h,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!h.getBoolean(Ne,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new s["a"](500),this._register(Object(o["i"])(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(e=>{if(e.hasChanged(79)&&(this._codeEditor.getOption(79)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(129)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(33)){const e=this._codeEditor.getOption(33).addExtraSpaceOnTop;e&&!this._viewZone&&(this._viewZone=new Re(0),this._showViewZone()),!e&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>ie(this,void 0,void 0,(function*(){if(this._isVisible){let e=yield this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}})))),this._findInputFocused=k.bindTo(a),this._findFocusTracker=this._register(H["T"](this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=R.bindTo(a),this._replaceFocusTracker=this._register(H["T"](this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new Re(0)),this._applyTheme(l.getColorTheme()),this._register(l.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return De.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(79)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=H["F"](this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Q["e"])}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=Me+"px",this._state.matchesCount>=F?this._matchesCount.title=Se:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=F&&(t+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=r["w"](ve,i,t)}else e=Le;this._matchesCount.appendChild(document.createTextNode(e)),Object(G["a"])(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Me=Math.max(Me,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===Le)return""===i?n["a"]("ariaSearchNoResultEmpty","{0} found",e):n["a"]("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const s=n["a"]("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();if(o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1){const e=o.getLineContent(t.startLineNumber);return`${e}, ${s}`}return s}return n["a"]("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(79);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const n=H["A"](i),s=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),o=n.left+(s?s.left:0),r=s?s.top:0;if(this._viewZone&&r<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const i=H["D"](this._domNode).left;o>i&&(t=!1);const s=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition()),r=n.left+(s?s.left:0);r>i&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){const t=this._codeEditor.getOption(33).addExtraSpaceOnTop;if(!t)return void this._removeViewZone();if(!this._isVisible)return;const i=this._viewZone;void 0===this._viewZoneId&&i&&this._codeEditor.changeViewZones(t=>{i.heightInPx=this._getHeight(),this._viewZoneId=t.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible)return;const t=this._codeEditor.getOption(33).addExtraSpaceOnTop;if(!t)return;void 0===this._viewZone&&(this._viewZone=new Re(0));const i=this._viewZone;this._codeEditor.changeViewZones(t=>{if(void 0!==this._viewZoneId){const n=this._getHeight();if(n===i.heightInPx)return;let s=n-i.heightInPx;return i.heightInPx=n,t.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s))}{let n=this._getHeight();if(n-=this._codeEditor.getOption(73).top,n<=0)return;i.heightInPx=n,this._viewZoneId=t.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+n)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(p["U"]),inputActiveOptionBackground:e.getColor(p["T"]),inputActiveOptionForeground:e.getColor(p["V"]),inputBackground:e.getColor(p["W"]),inputForeground:e.getColor(p["Y"]),inputBorder:e.getColor(p["X"]),inputValidationInfoBackground:e.getColor(p["cb"]),inputValidationInfoForeground:e.getColor(p["eb"]),inputValidationInfoBorder:e.getColor(p["db"]),inputValidationWarningBackground:e.getColor(p["fb"]),inputValidationWarningForeground:e.getColor(p["hb"]),inputValidationWarningBorder:e.getColor(p["gb"]),inputValidationErrorBackground:e.getColor(p["Z"]),inputValidationErrorForeground:e.getColor(p["bb"]),inputValidationErrorBorder:e.getColor(p["ab"])};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!H["K"](this._domNode))return;const e=this._codeEditor.getLayoutInfo(),t=e.contentWidth;if(t<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,n=e.minimap.minimapWidth;let s=!1,o=!1,r=!1;if(this._resized){let e=H["F"](this._domNode);if(e>Ie)return this._domNode.style.maxWidth=i-28-n-15+"px",void(this._replaceInput.width=H["F"](this._findInput.domNode))}if(Ie+28+n>=i&&(o=!0),Ie+28+n-Me>=i&&(r=!0),Ie+28+n-Me>=i+50&&(s=!0),this._domNode.classList.toggle("collapsed-find-widget",s),this._domNode.classList.toggle("narrow-find-widget",r),this._domNode.classList.toggle("reduced-find-widget",o),r||s||(this._domNode.style.maxWidth=i-28-n-15+"px"),this._resized){this._findInput.inputBox.layout();let e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=H["F"](this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=e+"px",!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));const t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||d["a"].equalsRange(e,t)?null:e}).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|ke)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Ee(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?Te(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|ke)?(X["j"]&&X["g"]&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(n["a"]("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Ne,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Ee(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?Te(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){const e=!0,t=!0;this._findInput=this._register(new J["a"](null,this._contextViewProvider,{width:ye,label:ce,placeholder:de,appendCaseSensitiveLabel:this._keybindingLabelFor(P.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(P.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(P.ToggleRegexCommand),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(t){return{content:t.message}}},flexibleHeight:e,flexibleWidth:t,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(e=>this._onFindInputKeyDown(e))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())})),this._register(this._findInput.onRegexKeyDown(e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(e=>{this._tryUpdateHeight()&&this._showViewZone()})),X["d"]&&this._register(this._findInput.onMouseDown(e=>this._onFindInputMouseDown(e))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ve({label:ue+this._keybindingLabelFor(P.PreviousMatchFindAction),icon:le,onTrigger:()=>{this._codeEditor.getAction(P.PreviousMatchFindAction).run().then(void 0,Q["e"])}})),this._nextBtn=this._register(new Ve({label:ge+this._keybindingLabelFor(P.NextMatchFindAction),icon:he,onTrigger:()=>{this._codeEditor.getAction(P.NextMatchFindAction).run().then(void 0,Q["e"])}}));let i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const n=document.createElement("div");n.className="find-actions",i.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Z["a"]({icon:ne,title:_e+this._keybindingLabelFor(P.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();e.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e)).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)})),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ve({label:fe+this._keybindingLabelFor(P.CloseFindWidgetCommand),icon:te["c"],onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),n.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new J["b"](null,void 0,{label:pe,placeholder:me,appendPreserveCaseLabel:this._keybindingLabelFor(P.TogglePreserveCaseCommand),history:[],flexibleHeight:e,flexibleWidth:t,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(e=>this._onReplaceInputKeyDown(e))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())})),this._replaceBtn=this._register(new Ve({label:Ce+this._keybindingLabelFor(P.ReplaceOneAction),icon:re,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new Ve({label:be+this._keybindingLabelFor(P.ReplaceAllAction),icon:ae,onTrigger:()=>{this._controller.replaceAll()}}));let s=document.createElement("div");s.className="replace-part",s.appendChild(this._replaceInput.domNode);const o=document.createElement("div");o.className="replace-actions",s.appendChild(o),o.appendChild(this._replaceBtn.domNode),o.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ve({label:we,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=H["F"](this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=Ie+"px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(s),this._resizeSash=new $["a"](this._domNode,this,{orientation:0,size:2}),this._resized=!1;let r=Ie;this._register(this._resizeSash.onDidStart(()=>{r=H["F"](this._domNode)})),this._register(this._resizeSash.onDidChange(e=>{this._resized=!0;let t=r+e.startX-e.currentX;if(t<Ie)return;const i=parseFloat(H["x"](this._domNode).maxWidth)||0;t>i||(this._domNode.style.width=t+"px",this._isReplaceVisible&&(this._replaceInput.width=H["F"](this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const e=H["F"](this._domNode);if(e<Ie)return;let t=Ie;if(!this._resized||e===Ie){const e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=t+"px",this._isReplaceVisible&&(this._replaceInput.width=H["F"](this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}De.ID="editor.contrib.findWidget";class Ve extends U["a"]{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+m["d"].asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,e=>{this._opts.onTrigger(),e.preventDefault()}),this.onkeydown(this._domNode,e=>{if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(e)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...m["d"].asClassNameArray(se)),this._domNode.classList.add(...m["d"].asClassNameArray(oe))):(this._domNode.classList.remove(...m["d"].asClassNameArray(oe)),this._domNode.classList.add(...m["d"].asClassNameArray(se)))}}Object(m["f"])((e,t)=>{const i=(e,i)=>{i&&t.addRule(`.monaco-editor ${e} { background-color: ${i}; }`)};i(".findMatch",e.getColor(p["w"])),i(".currentFindMatch",e.getColor(p["u"])),i(".findScope",e.getColor(p["y"]));const n=e.getColor(p["N"]);i(".find-widget",n);const s=e.getColor(p["kc"]);s&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${s}; }`);const o=e.getColor(p["x"]);o&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===e.type?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const r=e.getColor(p["v"]);r&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${r}; padding: 1px; box-sizing: border-box; }`);const a=e.getColor(p["z"]);a&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===e.type?"dashed":"solid"} ${a}; }`);const l=e.getColor(p["h"]);l&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${l}; }`);const h=e.getColor(p["P"]);h&&t.addRule(`.monaco-editor .find-widget { color: ${h}; }`);const c=e.getColor(p["R"]);c&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${c}; }`);const d=e.getColor(p["Q"]);if(d)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${d}; }`);else{const i=e.getColor(p["O"]);i&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${i}; }`)}const u=e.getColor(p["S"]);u&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${u}; }`)});var Ae=i("7e32"),Pe=i("f577"),Fe=i("533b"),We=i("6dec"),Be=i("03e8"),He=i("b0cd"),je=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},Ue=function(e,t){return function(i,n){t(i,n,e)}},ze=function(e,t,i,n){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?i(e.value):s(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const Ke=524288;function qe(e,t="single",i=!1){if(!e.hasModel())return null;const n=e.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){const t=e.getConfiguredWordAtPosition(n.getStartPosition());if(t&&!1===i)return t.word}else if(e.getModel().getValueLengthInRange(n)<Ke)return e.getModel().getValueInRange(n);return null}let Ye=class e extends o["a"]{constructor(e,t,i,n){super(),this._editor=e,this._findWidgetVisible=N.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=n,this._updateHistoryDelayer=new s["a"](500),this._state=this._register(new Y),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(t){return t.getContribution(e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!k.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e)).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=r["u"](e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e){return ze(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;let t={isRevealed:!0};if("single"===e.seedSearchStringFromSelection){let i=qe(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);i&&(this._state.isRegex?t.searchString=r["u"](i):t.searchString=i)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let i=qe(this._editor,e.seedSearchStringFromSelection);i&&(t.searchString=i)}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){let e=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(t.searchString=e)}if(e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some(e=>!e.isEmpty())&&(t.searchScope=e)}t.loop=e.loop,this._state.change(t,!1),this._model||(this._model=new B(this._editor,this._state))}))}start(e){return this._start(e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return ze(this,void 0,void 0,(function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Ye.ID="editor.contrib.findController",Ye=je([Ue(1,M["b"]),Ue(2,Be["a"]),Ue(3,Pe["a"])],Ye);let Ge=class extends Ye{constructor(e,t,i,n,s,o,r,a){super(e,i,r,a),this._contextViewService=t,this._keybindingService=n,this._themeService=s,this._notificationService=o,this._widget=null,this._findOptionsWidget=null}_start(e){const t=Object.create(null,{_start:{get:()=>super._start}});return ze(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const i=this._editor.getSelection();let n=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":n=!0;break;case"never":n=!1;break;case"multiline":const e=!!i&&i.startLineNumber!==i.endLineNumber;n=e;break;default:break}e.updateSearchScope=n,yield t._start.call(this,e),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new De(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new z(this._editor,this._state,this._keybindingService,this._themeService))}};Ge=je([Ue(1,Fe["b"]),Ue(2,M["b"]),Ue(3,We["a"]),Ue(4,m["b"]),Ue(5,He["a"]),Ue(6,Be["a"]),Ue(7,Pe["a"])],Ge);const Ze=Object(a["l"])(new a["e"]({id:P.StartFindAction,label:n["a"]("startFindAction","Find"),alias:"Find",precondition:M["a"].or(l["a"].focus,M["a"].has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Ae["b"].MenubarEditMenu,group:"3_find",title:n["a"]({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Ze.addImplementation(0,(e,t,i)=>{const n=Ye.get(t);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})});class $e extends a["b"]{constructor(){super({id:P.StartFindWithSelection,label:n["a"]("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return ze(this,void 0,void 0,(function*(){let e=Ye.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}}class Qe extends a["b"]{run(e,t){return ze(this,void 0,void 0,(function*(){let e=Ye.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(e))}))}}class Xe extends Qe{constructor(){super({id:P.NextMatchFindAction,label:n["a"]("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:l["a"].focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:M["a"].and(l["a"].focus,k),primary:3,weight:100}]})}_run(e){const t=e.moveToNextMatch();return!!t&&(e.editor.pushUndoStop(),!0)}}class Je extends Qe{constructor(){super({id:P.PreviousMatchFindAction,label:n["a"]("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:l["a"].focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:M["a"].and(l["a"].focus,k),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class et extends a["b"]{run(e,t){return ze(this,void 0,void 0,(function*(){let e=Ye.get(t);if(!e)return;const i="selection"===t.getOption(33).seedSearchStringFromSelection;let n=null;"never"!==t.getOption(33).seedSearchStringFromSelection&&(n=qe(t,"single",i)),n&&e.setSearchString(n),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:i,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(e))}))}}class tt extends et{constructor(){super({id:P.NextSelectionMatchFindAction,label:n["a"]("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:l["a"].focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class it extends et{constructor(){super({id:P.PreviousSelectionMatchFindAction,label:n["a"]("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:l["a"].focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const nt=Object(a["l"])(new a["e"]({id:P.StartFindReplaceAction,label:n["a"]("startReplace","Replace"),alias:"Replace",precondition:M["a"].or(l["a"].focus,M["a"].has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Ae["b"].MenubarEditMenu,group:"3_find",title:n["a"]({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));nt.addImplementation(0,(e,t,i)=>{if(!t.hasModel()||t.getOption(79))return!1;const n=Ye.get(t);if(!n)return!1;const s=t.getSelection(),o=n.isFindInputFocused(),r=!s.isEmpty()&&s.startLineNumber===s.endLineNumber&&"never"!==t.getOption(33).seedSearchStringFromSelection&&!o,a=o||r?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:r?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(33).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})}),Object(a["k"])(Ye.ID,Ge),Object(a["i"])($e),Object(a["i"])(Xe),Object(a["i"])(Je),Object(a["i"])(tt),Object(a["i"])(it);const st=a["c"].bindToContribution(Ye.get);Object(a["j"])(new st({id:P.CloseFindWidgetCommand,precondition:N,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:M["a"].and(l["a"].focus,M["a"].not("isComposing")),primary:9,secondary:[1033]}})),Object(a["j"])(new st({id:P.ToggleCaseSensitiveCommand,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:l["a"].focus,primary:E.primary,mac:E.mac,win:E.win,linux:E.linux}})),Object(a["j"])(new st({id:P.ToggleWholeWordCommand,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:l["a"].focus,primary:T.primary,mac:T.mac,win:T.win,linux:T.linux}})),Object(a["j"])(new st({id:P.ToggleRegexCommand,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:l["a"].focus,primary:D.primary,mac:D.mac,win:D.win,linux:D.linux}})),Object(a["j"])(new st({id:P.ToggleSearchScopeCommand,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:l["a"].focus,primary:V.primary,mac:V.mac,win:V.win,linux:V.linux}})),Object(a["j"])(new st({id:P.TogglePreserveCaseCommand,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:l["a"].focus,primary:A.primary,mac:A.mac,win:A.win,linux:A.linux}})),Object(a["j"])(new st({id:P.ReplaceOneAction,precondition:N,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:l["a"].focus,primary:3094}})),Object(a["j"])(new st({id:P.ReplaceOneAction,precondition:N,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:M["a"].and(l["a"].focus,R),primary:3}})),Object(a["j"])(new st({id:P.ReplaceAllAction,precondition:N,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:l["a"].focus,primary:2563}})),Object(a["j"])(new st({id:P.ReplaceAllAction,precondition:N,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:M["a"].and(l["a"].focus,R),primary:void 0,mac:{primary:2051}}})),Object(a["j"])(new st({id:P.SelectAllMatchesAction,precondition:N,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:l["a"].focus,primary:515}}))},a21f:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"e",(function(){return l}));class n{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class s extends n{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class o{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class r{constructor(e,t){this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class a{constructor(e,t){this.outsideRenderedLine=e,this.left=Math.round(t)}}class l{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}},a40b:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("0a0f");const s="editorWorkerService",o=Object(n["c"])(s)},a8d0:function(e,t,i){"use strict";i.d(t,"h",(function(){return r})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return h})),i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"d",(function(){return g})),i.d(t,"g",(function(){return _}));var n=i("3742"),s=i("7061"),o=i("6a89");class r{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class a{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e,t){const i=this.outputLineIndex>0?t:0;return new s["a"](e+this.outputLineIndex,i+this.outputOffset+1)}}class l{constructor(e,t,i,n,s){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=i,this.injectionOffsets=n,this.injectionOptions=s}getInputOffsetOfOutputPosition(e,t){let i=0;if(i=0===e?t:this.breakOffsets[e-1]+t,null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length;n++){if(!(i>this.injectionOffsets[n]))break;i<this.injectionOffsets[n]+this.injectionOptions[n].content.length?i=this.injectionOffsets[n]:i-=this.injectionOptions[n].content.length}return i}getOutputPositionOfInputOffset(e,t=2){let i=0;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length;n++){if(e<this.injectionOffsets[n])break;if(1!==t&&e===this.injectionOffsets[n])break;i+=this.injectionOptions[n].content.length}return e+=i,this.getOutputPositionOfOffsetInUnwrappedLine(e,t)}getOutputPositionOfOffsetInUnwrappedLine(e,t=2){let i=0,n=this.breakOffsets.length-1,s=0,o=0;while(i<=n){s=i+(n-i)/2|0;const r=this.breakOffsets[s];if(o=s>0?this.breakOffsets[s-1]:0,0===t)if(e<=o)n=s-1;else{if(!(e>r))break;i=s+1}else if(e<o)n=s-1;else{if(!(e>=r))break;i=s+1}}return new a(s,e-o)}outputPositionToOffsetInUnwrappedLine(e,t){let i=(e>0?this.breakOffsets[e-1]:0)+t;return e>0&&(i-=this.wrappedTextIndentLength),i}normalizeOffsetAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t)return e===i.offsetInUnwrappedLine+i.length?i.offsetInUnwrappedLine+i.length:i.offsetInUnwrappedLine;if(1===t){let e=i.offsetInUnwrappedLine+i.length,t=i.injectedTextIndex;while(t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t])e+=this.injectionOptions[t+1].content.length,t++;return e}let n=i.offsetInUnwrappedLine,s=i.injectedTextIndex;while(s-1>=0&&this.injectionOffsets[s-1]===this.injectionOffsets[s])n-=this.injectionOptions[s-1].content.length,s++;return n}getInjectedText(e,t){const i=this.outputPositionToOffsetInUnwrappedLine(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let n=0;for(let s=0;s<t.length;s++){const o=i[s].content.length,r=t[s]+n,a=t[s]+n+o;if(r>e)break;if(e<=a)return{injectedTextIndex:s,offsetInUnwrappedLine:r,length:o};n+=o}}}}class h{constructor(e,t){this.tabSize=e,this.data=t}}class c{constructor(e,t,i,n,s,o,r){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=s,this.tokens=o,this.inlineDecorations=r}}class d{constructor(e,t,i,n,s,o,r,a,l,h){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=d.isBasicASCII(i,o),this.containsRTL=d.containsRTL(i,this.isBasicASCII,s),this.tokens=r,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=h}static isBasicASCII(e,t){return!t||n["B"](e)}static containsRTL(e,t,i){return!(t||!i)&&n["m"](e)}}class u{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class g{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new u(new o["a"](e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class _{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}},af50:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("567d"),s=i("ef8e");function o(e,t){return new r(e,t)}class r extends n["a"]{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!==typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?s["d"](this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),n=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let s={};for(const e of t)s[e]=n(e,i);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(e=>this.getProxy())}}},b78f:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("0a0f");const s=Object(n["c"])("textModelService")},d19c:function(e,t,i){"use strict";var n=i("308f"),s=i("a666");class o{constructor(e){this._languageIdentifier=e}getId(){return this._languageIdentifier.language}}var r=i("8bf1"),a=i("fdcc"),l=i("b9b4"),h=i("3742"),c=i("b707"),d=i("32a4"),u=i("0910"),g=i("89cd");const _=Object.prototype.hasOwnProperty;class f extends s["a"]{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new n["b"]),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=t,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(d["a"].onDidChangeLanguages(e=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const e=d["a"].getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),g["a"].as(u["a"].Configuration).registerOverrideIdentifiers(d["a"].getLanguages().map(e=>e.id)),this._onDidChange.fire()}_getLanguageId(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];const t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t}_registerLanguage(e){const t=e.id;let i;if(_.call(this._languages,t))i=this._languages[t];else{const e=this._getLanguageId(t);i={identifier:new c["s"](t,e),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i}this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n="text/x-"+i,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)l["c"]({id:i,mime:n,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)l["c"]({id:i,mime:n,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)l["c"]({id:i,mime:n,filepattern:a},this._warnOnOverwrite);if("string"===typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);h["O"](t)||l["c"]({id:i,mime:n,firstline:t},this._warnOnOverwrite)}catch(r){Object(a["e"])(r)}}e.aliases.push(i);let s=null;if("undefined"!==typeof t.aliases&&Array.isArray(t.aliases)&&(s=0===t.aliases.length?[null]:t.aliases),null!==s)for(const a of s)a&&0!==a.length&&e.aliases.push(a);let o=null!==s&&s.length>0;if(o&&null===s[0]);else{let t=(o?s[0]:null)||i;!o&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!_.call(this._mimeTypesMap,e)||_.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return _.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null}extractModeIds(e){return e?e.split(",").map(e=>e.trim()).map(e=>_.call(this._mimeTypesMap,e)?this._mimeTypesMap[e].language:e).filter(e=>_.call(this._languages,e)):[]}getLanguageIdentifier(e){if(e===r["b"]||0===e)return r["a"];let t;if("string"===typeof e)t=e;else if(t=this._languageIdToLanguage[e],!t)return null;return _.call(this._languages,t)?this._languages[t].identifier:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=l["b"](e,t);return this.extractModeIds(i.join(","))}}var p=i("e8e3");i.d(t,"a",(function(){return C}));class m{constructor(e,t){let i;this._selector=t,this.languageIdentifier=this._selector(),this._onDidChange=new n["b"]({onFirstListenerAdd:()=>{i=e(()=>this._evaluate())},onLastListenerRemove:()=>{i.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))}}class C extends s["a"]{constructor(e=!1){super(),this._onDidCreateMode=this._register(new n["b"]),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new n["b"]({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new f(!0,e)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){const i=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return Object(p["j"])(i,null)}getModeId(e){const t=this._registry.extractModeIds(e);return Object(p["j"])(t,null)}getLanguageIdentifier(e){return this._registry.getLanguageIdentifier(e)}create(e){return new m(this.onLanguagesMaybeChanged,()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new m(this.onLanguagesMaybeChanged,()=>{const i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)})}_createModeAndGetLanguageIdentifier(e){const t=this.getLanguageIdentifier(e||"plaintext")||r["a"];return this._getOrCreateMode(t.language),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._instantiatedModes.hasOwnProperty(e)){let t=this.getLanguageIdentifier(e)||r["a"];this._instantiatedModes[e]=new o(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]}}},d1a7:function(e,t,i){"use strict";var n=i("308f"),s=i("a666"),o=i("30db"),r=i("fdcc"),a=i("fd49"),l=i("b57f"),h=i("b707"),c=i("32a4"),d=i("7b4a"),u=i("fbba"),g=i("5fe7"),_=i("2504"),f=i("b7d0"),p=i("d3d7"),m=i("3803"),C=i("eda7"),b=i("a054"),w=i("b589"),S=i("4111");class v{constructor(e,t,i){this._legend=e,this._themeService=t,this._logService=i,this._hashTable=new O,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){const n=this._hashTable.get(e,t,i.id);let s;if(n)s=n.metadata,this._logService.getLevel()===p["c"].Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${h["A"].getForeground(s)}, fontStyle ${h["A"].getFontStyle(s).toString(2)}`);else{let n=this._legend.tokenTypes[e];const o=[];if(n){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&o.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===p["c"].Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),o.push("not-in-legend"));const r=this._themeService.getColorTheme().getTokenStyleMetadata(n,o,i.language);if("undefined"===typeof r)s=2147483647;else{if(s=0,"undefined"!==typeof r.italic){const e=(r.italic?1:0)<<11;s|=1|e}if("undefined"!==typeof r.bold){const e=(r.bold?2:0)<<11;s|=2|e}if("undefined"!==typeof r.underline){const e=(r.underline?4:0)<<11;s|=4|e}if(r.foreground){const e=r.foreground<<14;s|=8|e}0===s&&(s=2147483647)}}else this._logService.getLevel()===p["c"].Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,n="not-in-legend";this._hashTable.add(e,t,i.id,s),this._logService.getLevel()===p["c"].Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${n}) / ${t} (${o.join(" ")}): foreground ${h["A"].getForeground(s)}, fontStyle ${h["A"].getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0)}}function L(e,t,i){const n=e.data,s=e.data.length/5|0,o=Math.max(Math.ceil(s/1024),400),r=[];let a=0,l=1,h=0;while(a<s){const e=a;let c=Math.min(e+o,s);if(c<s){let t=c;while(t-1>e&&0===n[5*t])t--;if(t-1===e){let e=c;while(e+1<s&&0===n[5*e])e++;c=e}else c=t}let d=new Uint32Array(4*(c-e)),u=0,g=0,_=0,f=0,p=0;while(a<c){const e=5*a,s=n[e],o=n[e+1],r=l+s,c=0===s?h+o:o,m=n[e+2],C=n[e+3],b=n[e+4],w=t.getMetadata(C,b,i);2147483647!==w&&(0===g&&(g=r),_===r&&p>c&&(t.warnOverlappingSemanticTokens(r,c+1),f<c?d[u-4+2]=c:u-=4),d[u]=r-g,d[u+1]=c,d[u+2]=c+m,d[u+3]=w,u+=4,_=r,f=c,p=c+m),l=r,h=c,a++}u!==d.length&&(d=d.subarray(0,u));const m=new S["a"](g,new S["c"](d));r.push(m)}return r}class I{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class O{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=O._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<O._SIZES.length?2/3*this._currentLength:0),this._elements=[],O._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let s=this._elements[n];while(s){if(s.tokenTypeIndex===e&&s.tokenModifierSet===t&&s.languageId===i)return s;s=s.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=O._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<O._SIZES.length?2/3*this._currentLength:0),this._elements=[],O._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;while(e){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new I(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}O._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var y=i("6d8e"),M=i("1b69"),x=i("9e74"),N=i("ef8e"),k=i("1e93");function R(e){for(let t=0,i=e.length;t<i;t+=4){const i=e[t+0],n=e[t+1],s=e[t+2],o=e[t+3];e[t+0]=o,e[t+1]=s,e[t+2]=n,e[t+3]=i}}function E(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return o["e"]()||R(t),k["a"].wrap(t)}function T(e){const t=new Uint32Array(D(e));let i=0;if(t[i++]=e.id,"full"===e.type)t[i++]=1,t[i++]=e.data.length,t.set(e.data,i),i+=e.data.length;else{t[i++]=2,t[i++]=e.deltas.length;for(const n of e.deltas)t[i++]=n.start,t[i++]=n.deleteCount,n.data?(t[i++]=n.data.length,t.set(n.data,i),i+=n.data.length):t[i++]=0}return E(t)}function D(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const i of e.deltas)i.data&&(t+=i.data.length)}return t}var V=i("6a89"),A=function(e,t,i,n){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?i(e.value):s(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function P(e){return e&&!!e.data}function F(e){return e&&Array.isArray(e.edits)}function W(e,t,i){const n=B(e);return n?{provider:n,request:Promise.resolve(n.provideDocumentSemanticTokens(e,t,i))}:null}function B(e){const t=h["k"].ordered(e);return t.length>0?t[0]:null}function H(e){const t=h["j"].ordered(e);return t.length>0?t[0]:null}x["a"].registerCommand("_provideDocumentSemanticTokensLegend",(e,...t)=>A(void 0,void 0,void 0,(function*(){const[i]=t;Object(N["b"])(i instanceof y["a"]);const n=e.get(M["a"]).getModel(i);if(!n)return;const s=B(n);return s?s.getLegend():e.get(x["b"]).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)}))),x["a"].registerCommand("_provideDocumentSemanticTokens",(e,...t)=>A(void 0,void 0,void 0,(function*(){const[i]=t;Object(N["b"])(i instanceof y["a"]);const n=e.get(M["a"]).getModel(i);if(!n)return;const s=W(n,null,_["a"].None);if(!s)return e.get(x["b"]).executeCommand("_provideDocumentRangeSemanticTokens",i,n.getFullModelRange());const{provider:o,request:a}=s;let l;try{l=yield a}catch(c){return void Object(r["f"])(c)}if(!l||!P(l))return;const h=T({id:0,type:"full",data:l.data});return l.resultId&&o.releaseDocumentSemanticTokens(l.resultId),h}))),x["a"].registerCommand("_provideDocumentRangeSemanticTokensLegend",(e,...t)=>A(void 0,void 0,void 0,(function*(){const[i]=t;Object(N["b"])(i instanceof y["a"]);const n=e.get(M["a"]).getModel(i);if(!n)return;const s=H(n);return s?s.getLegend():void 0}))),x["a"].registerCommand("_provideDocumentRangeSemanticTokens",(e,...t)=>A(void 0,void 0,void 0,(function*(){const[i,n]=t;Object(N["b"])(i instanceof y["a"]),Object(N["b"])(V["a"].isIRange(n));const s=e.get(M["a"]).getModel(i);if(!s)return;const o=H(s);if(!o)return;let a;try{a=yield o.provideDocumentRangeSemanticTokens(s,V["a"].lift(n),_["a"].None)}catch(l){return void Object(r["f"])(l)}return a&&P(a)?T({id:0,type:"full",data:a.data}):void 0}))),i.d(t,"a",(function(){return $}));var j=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},U=function(e,t){return function(i,n){t(i,n,e)}};function z(e){return e.toString()}function K(e){const t=new C["a"],i=e.createSnapshot();let n;while(n=i.read())t.update(n);return t.digest()}class q{constructor(e,t,i){this._modelEventListeners=new s["b"],this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(t=>i(e,t)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageIdentifier)),this.model.setMode(e.languageIdentifier)}}const Y=o["d"]||o["f"]?1:2;class G{constructor(e,t,i,n,s,o,r,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=s,this.sha1=o,this.versionId=r,this.alternativeVersionId=a}}function Z(e){return e.scheme===w["c"].file||e.scheme===w["c"].vscodeRemote||e.scheme===w["c"].userData||"fake-fs"===e.scheme}let $=class e extends s["a"]{constructor(e,t,i,s,o){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=s,this._undoRedoService=o,this._onModelAdded=this._register(new n["b"]),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new n["b"]),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new n["b"]),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ee(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new J(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){let i=a["d"].tabSize;if(e.editor&&"undefined"!==typeof e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let n=i;if(e.editor&&"undefined"!==typeof e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let s=a["d"].insertSpaces;e.editor&&"undefined"!==typeof e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let o=Y;const r=e.eol;"\r\n"===r?o=2:"\n"===r&&(o=1);let l=a["d"].trimAutoWhitespace;e.editor&&"undefined"!==typeof e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let h=a["d"].detectIndentation;e.editor&&"undefined"!==typeof e.editor.detectIndentation&&(h="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let c=a["d"].largeFileOptimizations;return e.editor&&"undefined"!==typeof e.editor.largeFileOptimizations&&(c="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:i,indentSize:n,insertSpaces:s,detectIndentation:h,defaultEOL:o,trimAutoWhitespace:l,largeFileOptimizations:c}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"string"===typeof i&&"auto"!==i?i:3===o["a"]||2===o["a"]?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!==typeof e||e}getCreationOptions(t,i,n){let s=this._modelCreationOptionsByLanguageAndResource[t+i];if(!s){const o=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),r=this._getEOL(i,t);s=e._readModelOptions({editor:o,eol:r},n),this._modelCreationOptionsByLanguageAndResource[t+i]=s}return s}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,s=i.length;n<s;n++){const s=i[n],o=this._models[s],r=o.model.getLanguageIdentifier().language,a=o.model.uri,l=t[r+a],h=this.getCreationOptions(r,a,o.model.isForSimpleWidget);e._setModelOptionsForModel(o.model,h,l)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))}_insertDisposedModel(e){this._disposedModels.set(z(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(z(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(z(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];this._disposedModels.forEach(e=>{e.sharesUndoRedoStack||t.push(e)}),t.sort((e,t)=>e.time-t.time);while(t.length>0&&this._disposedModelsHeapSize>e){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){const s=this.getCreationOptions(t.language,i,n),o=new l["b"](e,s,t,i,this._undoRedoService);if(i&&this._disposedModels.has(z(i))){const e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=K(o)===e.sha1;if(n||e.sharesUndoRedoStack){for(const e of t.past)Object(b["b"])(e)&&e.matchesResource(i)&&e.setModel(o);for(const e of t.future)Object(b["b"])(e)&&e.matchesResource(i)&&e.setModel(o);this._undoRedoService.setElementsValidFlag(i,!0,e=>Object(b["b"])(e)&&e.matchesResource(i)),n&&(o._overwriteVersionId(e.versionId),o._overwriteAlternativeVersionId(e.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const r=z(o.uri);if(this._models[r])throw new Error("ModelService: Cannot add model because it already exists!");const a=new q(o,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t));return this._models[r]=a,a}createModel(e,t,i,n=!1){let s;return t?(s=this._createModelData(e,t.languageIdentifier,i,n),this.setMode(s.model,t)):s=this._createModelData(e,c["b"],i,n),this._onModelAdded.fire(s.model),s.model}setMode(e,t){if(!t)return;const i=this._models[z(e.uri)];i&&i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._models[n].model)}return e}getModel(e){const t=z(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_onWillDispose(t){const i=z(t.uri),n=this._models[i],s=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let o=!1,r=0;if(s||this._shouldRestoreUndoStack()&&Z(t.uri)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const i of e.past)Object(b["b"])(i)&&i.matchesResource(t.uri)&&(o=!0,r+=i.heapSize(t.uri),i.setModel(t.uri));for(const i of e.future)Object(b["b"])(i)&&i.matchesResource(t.uri)&&(o=!0,r+=i.heapSize(t.uri),i.setModel(t.uri))}}const a=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(o)if(!s&&r>a){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(a-r),this._undoRedoService.setElementsValidFlag(t.uri,!1,e=>Object(b["b"])(e)&&e.matchesResource(t.uri)),this._insertDisposedModel(new G(t.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),s,r,K(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!s){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[i],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageIdentifier().language+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const n=i.oldLanguage,s=t.getLanguageIdentifier().language,o=this.getCreationOptions(n,t.uri,t.isForSimpleWidget),r=this.getCreationOptions(s,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,r,o),this._onModelModeChanged.fire({model:t,oldModeId:n})}};$.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,$=j([U(0,u["a"]),U(1,d["b"]),U(2,f["b"]),U(3,p["b"]),U(4,m["a"])],$);const Q="editor.semanticHighlighting";function X(e,t,i){var n;const s=null===(n=i.getValue(Q,{overrideIdentifier:e.getLanguageIdentifier().language,resource:e.uri}))||void 0===n?void 0:n.enabled;return"boolean"===typeof s?s:t.getColorTheme().semanticHighlighting}class J extends s["a"]{constructor(e,t,i,n){super(),this._watchers=Object.create(null),this._semanticStyling=n;const s=e=>{this._watchers[e.uri.toString()]=new ie(e,t,this._semanticStyling)},o=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},r=()=>{for(let n of e.getModels()){const e=this._watchers[n.uri.toString()];X(n,t,i)?e||s(n):e&&o(n,e)}};this._register(e.onModelAdded(e=>{X(e,t,i)&&s(e)})),this._register(e.onModelRemoved(e=>{const t=this._watchers[e.uri.toString()];t&&o(e,t)})),this._register(i.onDidChangeConfiguration(e=>{e.affectsConfiguration(Q)&&r()})),this._register(t.onDidColorThemeChange(r))}}class ee extends s["a"]{constructor(e,t){super(),this._themeService=e,this._logService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new v(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)}}class te{constructor(e,t,i){this._provider=e,this.resultId=t,this.data=i}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class ie extends s["a"]{constructor(e,t,i){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new g["e"](()=>this._fetchDocumentSemanticTokensNow(),ie.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const n=()=>{Object(s["f"])(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of h["k"].all(e))"function"===typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};n(),this._register(h["k"].onDidChange(()=>{n(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const e=new _["b"],t=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,i=W(this._model,t,e.token);if(!i)return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const{provider:n,request:s}=i;this._currentDocumentRequestCancellationTokenSource=e;const o=[],a=this._model.onDidChangeContent(e=>{o.push(e)}),l=this._semanticStyling.get(n);s.then(e=>{this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),this._setDocumentSemanticTokens(n,e||null,l,o)},e=>{const t=e&&(r["d"](e)||"string"===typeof e.message&&-1!==e.message.indexOf("busy"));t||r["e"](e),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),o.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(e,t,i,n,s){for(let o=0;o<s;o++)i[n+o]=e[t+o]}_setDocumentSemanticTokens(e,t,i,n){const s=this._currentDocumentResponse,o=()=>{n.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&i){if(!t)return this._model.setSemanticTokens(null,!0),void o();if(F(t)){if(!s)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:s.data};else{let e=0;for(const s of t.edits)e+=(s.data?s.data.length:0)-s.deleteCount;const i=s.data,n=new Uint32Array(i.length+e);let o=i.length,r=n.length;for(let s=t.edits.length-1;s>=0;s--){const e=t.edits[s],a=o-(e.start+e.deleteCount);a>0&&(ie._copy(i,o-a,n,r-a,a),r-=a),e.data&&(ie._copy(e.data,0,n,r-e.data.length,e.data.length),r-=e.data.length),o=e.start}o>0&&ie._copy(i,0,n,0,o),t={resultId:t.resultId,data:n}}}if(P(t)){this._currentDocumentResponse=new te(e,t.resultId,t.data);const s=L(t,i,this._model.getLanguageIdentifier());if(n.length>0)for(const e of n)for(const t of s)for(const i of e.changes)t.applyEdit(i.range,i.text);this._model.setSemanticTokens(s,!0)}else this._model.setSemanticTokens(null,!0);o()}else this._model.setSemanticTokens(null,!1)}}ie.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300},e06b:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("6a89");class s{constructor(e,t,i,s){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=s,this.visibleRange=new n["a"](t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}},e2dc:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("a666");class s extends n["a"]{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let n=e[i];switch(n.type){case 0:this.onCompositionStart(n)&&(t=!0);break;case 1:this.onCompositionEnd(n)&&(t=!0);break;case 2:this.onConfigurationChanged(n)&&(t=!0);break;case 3:this.onCursorStateChanged(n)&&(t=!0);break;case 4:this.onDecorationsChanged(n)&&(t=!0);break;case 5:this.onFlushed(n)&&(t=!0);break;case 6:this.onFocusChanged(n)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(n)&&(t=!0);break;case 8:this.onLineMappingChanged(n)&&(t=!0);break;case 9:this.onLinesChanged(n)&&(t=!0);break;case 10:this.onLinesDeleted(n)&&(t=!0);break;case 11:this.onLinesInserted(n)&&(t=!0);break;case 12:this.onRevealRangeRequest(n)&&(t=!0);break;case 13:this.onScrollChanged(n)&&(t=!0);break;case 15:this.onTokensChanged(n)&&(t=!0);break;case 14:this.onThemeChanged(n)&&(t=!0);break;case 16:this.onTokensColorsChanged(n)&&(t=!0);break;case 17:this.onZonesChanged(n)&&(t=!0);break;default:}}t&&(this._shouldRender=!0)}}},e6e5:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("b400"),s=i("a666"),o=i("3352"),r=i("b7d0"),a=i("918c"),l=i("1b69"),h=i("6a89"),c=i("b589"),d=i("308f"),u=i("303e"),g=i("4035"),_=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},f=function(e,t){return function(i,n){t(i,n,e)}};class p extends s["a"]{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Object(s["i"])(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let s=0;s<n.length;s++)this._markersData.set(n[s],e[s]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let m=class extends s["a"]{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new d["b"]),this._markerDecorations=new g["b"],e.getModels().forEach(e=>this._onModelAdded(e)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)})}_onModelAdded(e){const t=new p(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==c["c"].inMemory&&e.uri.scheme!==c["c"].internal&&e.uri.scheme!==c["c"].vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let i=t.map(t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=h["a"].lift(t);if(t.severity!==n["b"].Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){let t=e.getWordAtPosition(i.getStartPosition());if(t)i=new h["a"](i.startLineNumber,t.startColumn,i.endLineNumber,t.endColumn);else{let t=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);1===t||(i=i.endColumn>=t?new h["a"](i.startLineNumber,t-1,i.endLineNumber,t):new h["a"](i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){let n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new h["a"](i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,s,l=void 0,h=void 0;switch(e.severity){case n["b"].Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case n["b"].Warning:t="squiggly-warning",l=Object(r["g"])(a["p"]),i=20,s={color:Object(r["g"])(u["Rb"]),position:o["c"].Inline};break;case n["b"].Info:t="squiggly-info",l=Object(r["g"])(a["o"]),i=10;break;case n["b"].Error:default:t="squiggly-error",l=Object(r["g"])(a["n"]),i=30,s={color:Object(r["g"])(u["Lb"]),position:o["c"].Inline};break}return e.tags&&(-1!==e.tags.indexOf(1)&&(h="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(h="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:l,position:o["d"].Right},minimap:s,zIndex:i,inlineClassName:h}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};m=_([f(0,l["a"]),f(1,n["a"])],m)},efdb:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("0a0f");const s=Object(n["c"])("markerDecorationsService")},f33e:function(e,t,i){"use strict";i.r(t);var n=i("fd49"),s=i("6eab"),o=i("4390"),r=i("5249"),a=i("30db"),l=(i("3813"),i("e8e3")),h=i("2504"),c=i("fdcc"),d=i("6d8e"),u=(i("bc04"),i("b055"),i("7061")),g=i("6a89"),_=(i("8025"),i("b707")),f=i("a40b"),p=i("1b69");i("d3f4");i("dff7");var m,C=i("60d7"),b=(i("0a0f"),i("db88")),w=i("9e74"),S=i("ef8e"),v=i("258a"),L=function(e,t,i,n){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function r(e){try{l(n.next(e))}catch(t){o(t)}}function a(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?i(e.value):s(e.value).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function I(e){const t=[],i=new Set,n=_["g"].ordered(e);for(const o of n)t.push(o),o.extensionId&&i.add(C["a"].toKey(o.extensionId));const s=_["i"].ordered(e);for(const o of s){if(o.extensionId){if(i.has(C["a"].toKey(o.extensionId)))continue;i.add(C["a"].toKey(o.extensionId))}t.push({displayName:o.displayName,extensionId:o.extensionId,provideDocumentFormattingEdits(e,t,i){return o.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,i)}})}return t}class O{static setFormatterSelector(e){const t=O._selectors.unshift(e);return{dispose:t}}static select(e,t,i){return L(this,void 0,void 0,(function*(){if(0===e.length)return;const n=v["a"].first(O._selectors);return n?yield n(e,t,i):void 0}))}}function y(e,t,i,n,s){return L(this,void 0,void 0,(function*(){const o=_["i"].ordered(t);for(const r of o){let o=yield Promise.resolve(r.provideDocumentRangeFormattingEdits(t,i,n,s)).catch(c["f"]);if(Object(l["l"])(o))return yield e.computeMoreMinimalEdits(t.uri,o)}}))}function M(e,t,i,n){return L(this,void 0,void 0,(function*(){const s=I(t);for(const o of s){let s=yield Promise.resolve(o.provideDocumentFormattingEdits(t,i,n)).catch(c["f"]);if(Object(l["l"])(s))return yield e.computeMoreMinimalEdits(t.uri,s)}}))}function x(e,t,i,n,s){const o=_["v"].ordered(t);return 0===o.length||o[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(o[0].provideOnTypeFormattingEdits(t,i,n,s,h["a"].None)).catch(c["f"]).then(i=>e.computeMoreMinimalEdits(t.uri,i))}O._selectors=new b["a"],w["a"].registerCommand("_executeFormatRangeProvider",(function(e,...t){const[i,n,s]=t;Object(S["b"])(d["a"].isUri(i)),Object(S["b"])(g["a"].isIRange(n));const o=e.get(p["a"]).getModel(i);if(!o)throw Object(c["b"])("resource");return y(e.get(f["a"]),o,g["a"].lift(n),s,h["a"].None)})),w["a"].registerCommand("_executeFormatDocumentProvider",(function(e,...t){const[i,n]=t;Object(S["b"])(d["a"].isUri(i));const s=e.get(p["a"]).getModel(i);if(!s)throw Object(c["b"])("resource");return M(e.get(f["a"]),s,n,h["a"].None)})),w["a"].registerCommand("_executeFormatOnTypeProvider",(function(e,...t){const[i,n,s,o]=t;Object(S["b"])(d["a"].isUri(i)),Object(S["b"])(u["a"].isIPosition(n)),Object(S["b"])("string"===typeof s);const r=e.get(p["a"]).getModel(i);if(!r)throw Object(c["b"])("resource");return x(e.get(f["a"]),r,u["a"].lift(n),s,o)})),i.d(t,"CancellationTokenSource",(function(){return k})),i.d(t,"Emitter",(function(){return R})),i.d(t,"KeyCode",(function(){return E})),i.d(t,"KeyMod",(function(){return T})),i.d(t,"Position",(function(){return D})),i.d(t,"Range",(function(){return V})),i.d(t,"Selection",(function(){return A})),i.d(t,"SelectionDirection",(function(){return P})),i.d(t,"MarkerSeverity",(function(){return F})),i.d(t,"MarkerTag",(function(){return W})),i.d(t,"Uri",(function(){return B})),i.d(t,"Token",(function(){return H})),i.d(t,"editor",(function(){return j})),i.d(t,"languages",(function(){return U})),n["g"].wrappingIndent.defaultValue=0,n["g"].glyphMargin.defaultValue=!1,n["g"].autoIndent.defaultValue=3,n["g"].overviewRulerLanes.defaultValue=2,O.setFormatterSelector((e,t,i)=>Promise.resolve(e[0]));const N=Object(s["a"])();N.editor=Object(o["a"])(),N.languages=Object(r["a"])();const k=N.CancellationTokenSource,R=N.Emitter,E=N.KeyCode,T=N.KeyMod,D=N.Position,V=N.Range,A=N.Selection,P=N.SelectionDirection,F=N.MarkerSeverity,W=N.MarkerTag,B=N.Uri,H=N.Token,j=N.editor,U=N.languages;((null===(m=a["b"].MonacoEnvironment)||void 0===m?void 0:m.globalAPI)||"function"===typeof define&&i("913b"))&&(self.monaco=N),"undefined"!==typeof self.require&&"function"===typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},ff6c:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("308f"),s=i("a666"),o=i("4503"),r=i("b707");class a extends s["a"]{constructor(){super(),this._onDidChange=new n["b"],this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(r["B"].onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=Object(s["h"])(new a)),this._INSTANCE}_updateColorMap(){const e=r["B"].getColorMap();if(!e)return this._colors=[o["a"].Empty],void(this._backgroundIsLight=!0);this._colors=[o["a"].Empty];for(let i=1;i<e.length;i++){const t=e[i].rgba;this._colors[i]=new o["a"](t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}a._INSTANCE=null}}]);